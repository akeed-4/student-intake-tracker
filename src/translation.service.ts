/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/
import { Injectable, signal } from '@angular/core';

@Injectable({ providedIn: 'root' })
export class TranslationService {
  readonly language = signal<'en' | 'ar'>('ar');
  private translations: Record<string, Record<string, string>> = {
    en: {
      'app.title': 'School Pick-up',
      'login.welcomeTitle': 'Welcome!',
      'login.tagline': '',
      'splash.title': 'Student Pickup System',
      'splash.subtitle': 'Seamless & Secure Pickup Experience',
      'splash.welcomeMessage': 'Welcome to the Student Pickup Management System',
      'login.emailPlaceholder': 'Email',
      'login.emailOrPhone': 'Email or Phone Number',
      'login.passwordPlaceholder': 'Password',
      'login.loginButton': 'Login',
      'login.errors.invalidCredentials': 'Invalid identifier or password.',
      'login.toast.success': 'Logged in as {{role}}!',
      'logoutButton': 'Logout',
      'languageToggle': 'العربية',
      'header.welcome': 'Welcome',
      'common.or': 'OR',
      'common.notes': 'Notes',
      'common.phone': 'Phone',
      'common.email': 'Email',
      'common.password': 'Password',
      'common.confirmPassword': 'Confirm Password',
      'common.school': 'School',
      'common.idNumber': 'ID Number',
      'common.cancel': 'Cancel',
      'common.edit': 'Edit',
      'common.delete': 'Delete',
      'common.student': 'Student',
      'common.pickupPerson': 'Pickup Person',
      'common.distance': 'Distance',
      'common.status': 'Status',
      'common.saveChanges': 'Save Changes',
      'common.processing': 'Processing...',
      'common.actions': 'Actions',
      'common.selectSchool': 'Select School',
      'common.optionalLeaveBlank': 'optional, leave blank to keep unchanged',
      'common.errors.passwordsDoNotMatch': 'Passwords do not match.',
      'common.zone': 'Zone',
      'common.spot': 'Spot',


      // Role Selection
      'roleSelection.title': 'Role Confirmation',
      'roleSelection.welcome': 'Welcome, {{name}}!',
      'roleSelection.yourRoleIs': 'Your assigned role is',
      'roleSelection.info': 'You will be directed to the dashboard corresponding to your role.',
      'roleSelection.proceedButton': 'Proceed to Dashboard',

      // Roles
      'roles.parent.title': 'Parent',
      'roles.parent.description': 'Manage your children\'s pickup schedules and authorized persons.',
      'roles.guard.title': 'Guard',
      'roles.guard.description': 'Verify pickup codes and manage the flow of vehicles at the school gate.',
      'roles.teacher.title': 'Teacher',
      'roles.teacher.description': 'Monitor pickup requests for your class and prepare students for departure.',
      'roles.school-supervisor.title': 'School Supervisor',
      'roles.school-supervisor.description': 'Oversee all pickup activities across the entire school.',
      'roles.school-admin.title': 'School Admin',
      'roles.school-admin.description': 'Manage staff, students, classes, and school-wide settings.',
      'roles.super-admin.title': 'Super Admin',
      'roles.super-admin.description': 'Manage all schools and user accounts across the entire system.',
      'roles.driver.title': 'Driver',
      'roles.driver.description': 'View assigned students and manage pickup requests on behalf of the parent.',

      // Parent Portal
      'parent.portal.title': 'Parent Portal',
      'parent.tabs.pickup': 'Student Pick-up',
      'parent.tabs.pickup.description': 'Notify the school and get a pickup code for your children.',
      'parent.tabs.absence': 'Report Absence',
      'parent.tabs.absence.description': 'Inform the school if your child will be absent.',
      'parent.tabs.management': 'Authorized Persons',
      'parent.tabs.management.description': 'Manage who is allowed to pick up your children.',
      'parent.tabs.bus': 'Bus Tracking',
      'parent.tabs.bus.description': 'View the live location and status of the school bus.',
      'parent.tabs.activities': 'Activities',
      'parent.tabs.activities.description': 'Check on after-school activities and schedules.',
      'parent.tabs.carpooling': 'Carpooling',
      'parent.tabs.carpooling.description': 'Organize and manage carpool groups with other parents.',
      'parent.pickup.title': 'Request Pick-up',
      'parent.pickup.selectStudents': 'Select Students',
      'parent.pickup.selectPerson': 'Select Authorized Person',
      'parent.pickup.carInfo': 'Car Information',
      'parent.pickup.carColor': 'Car Color',
      'parent.pickup.plateNumber': 'Plate Number',
      'parent.pickup.notes': 'Notes for Staff (Optional)',
      'parent.pickup.submit': 'Request Pick-up',
      'parent.pickup.code': 'Your Pick-up Code:',
      'parent.pickup.eta': 'Estimated Time of Arrival: {{minutes}} min',
      'parent.pickup.message': 'Message for Staff:',
      'parent.pickup.share': 'Share Request',
      'parent.pickup.copy': 'Copy Details',
      'parent.errors.apiKeyMissing': 'GenAI API key is missing. AI functionality will be disabled.',
      'parent.errors.noSchoolLocation': 'School location not set. ETA cannot be calculated.',
      'parent.errors.notificationFailed': 'Failed to generate pickup message. Please try again.',
      'parent.errors.geoNotSupported': 'Geolocation is not supported by your browser.',
      'parent.errors.geoPermissionDenied': 'Geolocation permission denied. Cannot calculate distance.',
      'parent.errors.geoUnavailable': 'Location information is unavailable.',
      'parent.errors.geoTimeout': 'The request to get user location timed out.',
      'parent.errors.geoUnknown': 'An unknown error occurred while getting location.',
      'parent.geofence.message': 'You must be within {{distance}}m of the school to check in. You are currently ~{{currentDistance}}m away.',
      'parent.toast.spotReleased': 'You exceeded the time limit to reach the spot and have been returned to the virtual queue.',

      'parent.share.title': 'Pickup Request Details',
      'parent.share.student': 'Student(s)',
      'parent.share.person': 'Authorized Person',
      'parent.share.vehicle': 'Vehicle',
      'parent.share.code': 'Code',
      'parent.share.eta': 'ETA',
      'parent.toast.shareNotSupported': 'Web Share API not supported. Details copied to clipboard.',
      'parent.toast.copied': 'Pickup details copied to clipboard!',
      'parent.toast.copyFailed': 'Failed to copy pickup details.',

      'parent.absence.title': 'Report Student Absence',
      'parent.absence.selectStudent': 'Select Student',
      'parent.absence.date': 'Date of Absence',
      'parent.absence.reason': 'Reason for Absence',
      'parent.absence.reasonPlaceholder': 'e.g., Sickness, Family trip',
      'parent.absence.submit': 'Submit Absence Report',
      'parent.toast.absenceReported': 'Absence reported successfully!',

      'parent.management.title': 'Manage Authorized Persons',
      'parent.management.description': 'Add family members or drivers who are authorized to pick up your children.',
      'parent.management.addPerson': 'Add New Authorized Person',
      'parent.management.name': 'Name',
      'parent.management.relation': 'Relation (e.g., Mother, Uncle)',
      'parent.management.phone': 'Phone (Optional)',
      'parent.management.idNumber': 'ID Number',
      'parent.management.addTitle': 'Add New Person',
      'parent.management.editTitle': 'Edit Person',
      'parent.management.addButton': 'Add Person',
      'parent.management.existing': 'Existing Authorized Persons',
      'parent.management.noPersons': 'No authorized persons found. Add one above.',
      'parent.management.save': 'Save Person',
      'parent.management.cancel': 'Cancel',
      'parent.management.edit': 'Edit',
      'parent.management.delete': 'Delete',
      'parent.management.deleteConfirmation': 'Are you sure you want to delete this authorized person?',
      'parent.management.toast.personAdded': 'Authorized person added successfully!',
      'parent.management.toast.personUpdated': 'Authorized person updated successfully!',
      'parent.management.toast.personDeleted': 'Authorized person deleted successfully!',
      'parent.management.details': 'Person Details',
      'parent.management.inviteTitle': 'Invite a Driver',
      'parent.management.inviteDriverDescription': 'Enter the driver\'s phone number to invite them. They will be added as an authorized person.',
      'parent.management.inviteButton': 'Invite Driver',
      'parent.management.toast.inviteSent': 'Driver invite sent to {{phone}}!',

      'parent.buttons.notify': 'Notify School',
      'parent.buttons.share': 'Share',
      'parent.buttons.copy': 'Copy',
      'parent.buttons.reportAbsence': 'Report Absence',
      'parent.pass.title': 'Digital Pick-up Pass',
      'parent.pass.instruction': 'Show this to staff for verification.',
      'parent.status.pickupCode': 'Pickup Code',
      'parent.status.eta': 'ETA',
      'parent.status.liveEta': 'Live ETA',
      'parent.status.distance': 'Distance',
      'parent.status.note': 'Note',
      'parent.status.currentStatus': 'Current Status',
      'parent.steps.selectStudent': '1. Select Student(s)',
      'parent.steps.selectPerson': '2. Select Authorized Person',
      'parent.steps.vehicleInfo': '3. Vehicle Information',
      'parent.placeholders.carColor': 'Car Color',
      'parent.placeholders.plateNumber': 'Plate Number',
      'parent.placeholders.notes': 'Notes for Staff (Optional)',
      'parent.placeholders.absenceReason': 'e.g., Sickness, Family trip',
      'parent.buttons.arrived': "I Have Arrived",
      'parent.spot.assignedTitle': 'Proceed to Your Spot',
      'parent.spot.assignedMessageNew': 'Please proceed to the spot shown below.',
      'parent.spot.standByTitle': 'Please Stand By',
      'parent.spot.standByMessage': 'All pickup spots are currently occupied. You will be assigned a spot as soon as one becomes available.',
      'parent.preflight.title': 'Confirm Pickup Request',
      'parent.preflight.calculating': 'Calculating distance and ETA...',
      'parent.preflight.locationError': 'Could not calculate ETA. Proceed anyway?',
      'parent.preflight.confirmMessage': 'Your ETA is {{eta}} minutes ({{distance}} km). Send notification to school?',
      'parent.preflight.confirmButton': 'Yes, Send Notification',
      
      'busTracking.title': 'Bus Tracking',
      'busTracking.noBuses': 'None of your children are currently assigned to a school bus.',
      'bus.status.stationary': 'Stationary',
      'bus.status.en_route': 'En Route',
      'bus.status.stopped': 'Stopped',

      'parent.activities.title': 'After-School Activities',
      'parent.activities.supervisor': 'Supervisor',
      'parent.activities.time': 'Time',
      'parent.activities.location': 'Location',
      'parent.activities.noActivities': 'Your children are not enrolled in any after-school activities for today.',
      
      'carpooling.title': 'Carpooling Groups',
      'carpooling.description': 'Organize carpools with other parents to share pickup duties.',
      'carpooling.createGroup.button': 'Create a New Carpool Group',
      'carpooling.createGroup.title': 'Create New Group',
      'carpooling.groupName.placeholder': 'e.g., "Grade 3 Soccer Team"',
      'carpooling.create.button': 'Create Group',
      'carpooling.myGroups': 'My Groups',
      'carpooling.groupAdmin': 'Admin',
      'carpooling.members': 'Members',
      'carpooling.inviteMember.button': 'Invite Member',
      'carpooling.noGroups': 'You are not part of any carpool groups yet.',
      'carpooling.toast.groupCreated': 'Carpool group created successfully!',
      'carpooling.inviteMember.title': 'Invite Member to',
      'carpooling.inviteMember.select': 'Select a parent to invite',
      'carpooling.inviteMember.noParents': 'No other parents available to invite.',
      'carpooling.invite.button': 'Send Invite',
      'carpooling.toast.memberInvited': 'Member invited successfully!',

      // Driver Dashboard
      'driverDashboard.title': 'Driver Dashboard',
      'driverDashboard.welcome': 'Select your assigned students and notify the school.',
      'driverDashboard.assignedStudents': 'Assigned Students',
      'driverDashboard.startPickup': 'Start Pickup',
      'driverDashboard.pickupInProgress': 'Pickup in Progress',
      'driverDashboard.noAssignments': 'You are not currently assigned to pick up any students.',

      // Guard View
      'guard.title': 'Guard View',
      'guard.enterCode': 'Enter Pick-up Code',
      'guard.verify': 'Verify Code',
      'guard.pickupDetails': 'Pick-up Details',
      'guard.student': 'Student',
      'guard.authorizedPerson': 'Authorized Person',
      'guard.relation': 'Relation',
      'guard.carInfo': 'Car',
      'guard.status': 'Status',
      'guard.confirmPickup': 'Confirm Pick-up',
      'guard.errors.invalidCode': 'Invalid or expired pick-up code.',
      'guard.errors.noReadyRequests': 'No "ready for pickup" requests to simulate.',
      'guard.errors.scannerFailed': 'Failed to start QR scanner.',
      'guard.errors.permissionDenied': 'Camera permission denied. Please allow camera access in your browser settings.',
      'guard.errors.noCamera': 'No camera found on this device.',
      'guard.scanQR': 'Scan QR Code',
      'guard.stopScan': 'Stop Scanner',
      'guard.simulateScan': 'Simulate Scan (Demo)',
      'guard.success': 'Verification Successful!',
      'guard.studentInfo': 'Student Info',
      'guard.vehicleInfo': 'Vehicle Info',
      'guard.pickupLocation': 'Pickup Location',
      'guard.confirm': 'Confirm Pick-up',


      // Teacher Dashboard
      'teacher.portal.title': 'My Class',
      'teacher.portal.activeRequests': 'Active Requests',
      'teacher.portal.pickupBy': 'Pickup By',
      'teacher.portal.markReady': 'send the student to the designated place',
      'teacher.portal.ready': 'Ready for Pickup',
      'teacher.portal.completed': 'Completed',
      'teacher.portal.noRequests': 'No active pickup requests for your class.',
      'teacher.title': 'Teacher Dashboard',
      'teacher.buttons.acknowledge': 'Acknowledge',
      'teacher.myClass': 'My Class: {{className}}',
      'teacher.pendingRequests': 'Pending Pick-up Requests',
      'teacher.studentName': 'Student Name',
      'teacher.authorizedPerson': 'Authorized Person',
      'teacher.carInfo': 'Car Info',
      'teacher.notes': 'Notes',
      'teacher.markReady': 'send the student to the designated place',
      'teacher.reports': 'Absence Reports',
      'teacher.report.student': 'Student',
      'teacher.report.date': 'Date',
      'teacher.report.reason': 'Reason',

      // School Supervisor
      'schoolSupervisor.portal.title': 'School Supervisor',
      'schoolSupervisor.portal.monitor': 'Monitor and manage all active pickups at your school.',
      'schoolSupervisor.portal.activeRequests': 'Active Requests',
      'schoolSupervisor.portal.noRequests': 'No active pickup requests at your school.',
      'schoolSupervisor.title': 'School Supervisor Dashboard',
      'schoolSupervisor.activePickups': 'Active Pick-up Requests (All Classes)',
      'schoolSupervisor.liveMonitor.title': 'Live Pickup Monitor',
      'schoolSupervisor.liveMonitor.zone': 'Zone',
      'schoolSupervisor.liveMonitor.occupiedBy': 'by',
      'schoolSupervisor.liveMonitor.free': 'Free',
      'schoolSupervisor.insights.title': 'Smart Insights',


      // School Admin Dashboard
      'school-admin.title': 'School Admin Dashboard',
      'school-admin.tabs.monitor': 'Monitor',
      'school-admin.tabs.staff': 'Staff',
      'school-admin.tabs.students': 'Students',
      'school-admin.tabs.classes': 'Classes',
      'school-admin.tabs.settings': 'Settings',
      'school-admin.tabs.analytics': 'Analytics',
      'school-admin.tabs.buses': 'Buses',
      'school-admin.tabs.activities': 'Activities',
      'school-admin.tabs.broadcast': 'Announcements',

      'school-admin.portal.title': 'School Pick-up Monitor',
      'school-admin.portal.monitor': 'Overview of active student pickup requests.',
      'school-admin.portal.activeRequests': 'Active Requests',
      'school-admin.portal.resetDay': 'Reset Day',
      'school-admin.portal.resetConfirmation': 'Are you sure you want to clear all active pickup requests for today? This cannot be undone.',
      'school-admin.portal.noRequests': 'No active pickup requests currently.',
      'school-admin.toast.dayReset': 'All active requests have been reset.',

      'school-admin.staff.title': 'Staff Management',
      'school-admin.staff.add': 'Add New Staff Member',
      'school-admin.staff.addTitle': 'Add New Staff Member',
      'school-admin.staff.addButton': 'Add Staff',
      'school-admin.staff.editTitle': 'Edit Staff Member',
      'school-admin.staff.existing': 'Existing Staff Members',
      'school-admin.staff.name': 'Name',
      'school-admin.staff.phone': 'Phone',
      'school-admin.staff.role': 'Role',
      'school-admin.staff.selectRole': 'Select Role',
      'school-admin.staff.class': 'Assigned Class (for Teachers)',
      'school-admin.staff.selectClass': 'Select Class',
      'school-admin.staff.edit': 'Edit',
      'school-admin.staff.save': 'Save Staff',
      'school-admin.staff.cancel': 'Cancel',
      'school-admin.staff.toast.staffAdded': 'Staff member added successfully!',
      'school-admin.staff.toast.staffUpdated': 'Staff member updated successfully!',
      'school-admin.staff.toast.staffDeleted': 'Staff member deleted successfully.',
      'school-admin.staff.deleteConfirmation': 'Are you sure you want to delete this staff member?',
      'school-admin.staff.noStaff': 'No staff members found for your school.',

      'school-admin.students.title': 'Student Management',
      'school-admin.students.add': 'Add New Student',
      'school-admin.students.addTitle': 'Add New Student',
      'school-admin.students.addButton': 'Add Student',
      'school-admin.students.editTitle': 'Edit Student',
      'school-admin.students.existing': 'Existing Students',
      'school-admin.students.name': 'Name',
      'school-admin.students.grade': 'Grade',
      'school-admin.students.class': 'Class',
      'school-admin.students.selectClass': 'Select Class',
      'school-admin.students.parentPhone': 'Parent Phone',
      'school-admin.students.sendInvite': 'Send Invite',
      'school-admin.students.edit': 'Edit',
      'school-admin.students.save': 'Save Student',
      'school-admin.students.cancel': 'Cancel',
      'school-admin.students.invite': 'Send Invite',
      'school-admin.students.toast.studentAdded': 'Student added successfully!',
      'school-admin.students.toast.studentUpdated': 'Student updated successfully!',
      'school-admin.students.toast.studentDeleted': 'Student deleted successfully.',
      'school-admin.students.deleteConfirmation': 'Are you sure you want to delete this student?',
      'school-admin.students.toast.inviteSent': 'Parent invite sent to {{phone}}!',
      'school-admin.students.noStudents': 'No students found for your school.',

      'school-admin.classes.title': 'Class Management',
      'school-admin.classes.add': 'Add New Class',
      'school-admin.classes.addTitle': 'Add New Class',
      'school-admin.classes.addButton': 'Add Class',
      'school-admin.classes.existing': 'Existing Classes',
      'school-admin.classes.name': 'Class Name',
      'school-admin.classes.toast.classAdded': 'Class added successfully!',
      'school-admin.classes.toast.classDeleted': 'Class deleted successfully.',
      'school-admin.classes.deleteConfirmation': 'Are you sure you want to delete this class? This may unassign students and teachers.',
      'school-admin.classes.noClasses': 'No classes found for your school.',

      'school-admin.settings.title': 'School Settings',
      'school-admin.settings.location': 'School Location',
      'school-admin.settings.searchPlaceholder': 'Search for location...',
      'school-admin.settings.markerInstruction': 'Drag the marker to pinpoint the exact school location.',
      'school-admin.settings.centerOnMe': 'Center Map on My Location',
      'school-admin.settings.saveLocation': 'Save Location',
      'school-admin.settings.centerButton': 'Center on My Location',
      'school-admin.settings.saveButton': 'Save Location',
      'school-admin.settings.toast.locationSet': 'School location updated successfully!',
      'school-admin.settings.mapsNotConfigured.title': 'Maps Not Configured',
      'school-admin.settings.mapsNotConfigured.description': 'This map service does not require an API key.',
      'school-admin.settings.pickupZones.title': 'Pickup Zones',
      'school-admin.settings.pickupZones.description': 'Configure named zones and the number of pickup spots in each.',
      'school-admin.settings.pickupZones.addZone': 'Add New Zone',
      'school-admin.settings.pickupZones.zoneName': 'Zone Name (e.g., A, B, 1, 2)',
      'school-admin.settings.pickupZones.spotCount': '# of Spots',
      'school-admin.settings.pickupZones.addButton': 'Add Zone',
      'school-admin.settings.pickupZones.existing': 'Existing Zones',
      'school-admin.settings.pickupZones.deleteConfirmation': 'Are you sure you want to delete this zone?',
      'school-admin.settings.pickupZones.toast.zoneAdded': 'Pickup zone added successfully!',
      'school-admin.settings.pickupZones.toast.zoneDeleted': 'Pickup zone deleted successfully!',
      'school-admin.settings.pickupZones.noZones': 'No pickup zones configured yet.',

      'analytics.title': 'Analytics Dashboard',
      'analytics.description': 'Insights into today\'s pickup activities.',
      'analytics.totalPickups': 'Total Pickups Today',
      'analytics.avgTime': 'Average Pickup Time',
      'analytics.minutes': 'min',
      'analytics.peakHour': 'Peak Hour',
      'analytics.absencesToday': 'Absences Today',
      'analytics.pickupsByHour': 'Pickups by Hour',
      'analytics.noData': 'Not enough data to display chart.',
      'analytics.statusDistribution': 'Active Request Statuses',

      'busManagement.description': 'Manage school buses, drivers, and student assignments.',
      'busManagement.addTitle': 'Add New Bus',
      'busManagement.editTitle': 'Edit Bus',
      'busManagement.busNumber': 'Bus Number / Route Name',
      'busManagement.driverName': 'Driver Name',
      'busManagement.addButton': 'Add Bus',
      'busManagement.existing': 'Existing Buses',
      'busManagement.assignedStudents': 'Assigned Students',
      'busManagement.assignStudents': 'Assign Students',
      'busManagement.noBuses': 'No buses found for your school.',
      'busManagement.assignStudentsTo': 'Assign students to',
      'busManagement.availableStudents': 'Available Students',

      'activityManagement.description': 'Manage after-school activities and student enrollments.',
      'activityManagement.addTitle': 'Add New Activity',
      'activityManagement.editTitle': 'Edit Activity',
      'activityManagement.name': 'Activity Name',
      'activityManagement.supervisor': 'Supervisor (Teacher)',
      'activityManagement.selectSupervisor': 'Select a teacher',
      'activityManagement.startTime': 'Start Time',
      'activityManagement.endTime': 'End Time',
      'activityManagement.location': 'Location',
      'activityManagement.addButton': 'Add Activity',
      'activityManagement.existing': 'Existing Activities',
      'activityManagement.assignedStudents': 'Enrolled Students',
      'activityManagement.assignStudents': 'Assign Students',
      'activityManagement.noActivities': 'No activities found for your school.',
      'activityManagement.toast.added': 'Activity added successfully!',
      'activityManagement.toast.updated': 'Activity updated successfully!',
      'activityManagement.toast.deleted': 'Activity deleted successfully.',
      'activityManagement.deleteConfirmation': 'Are you sure you want to delete this activity?',
      'activityManagement.assignStudentsTo': 'Assign students to',
      'activityManagement.availableStudents': 'Available Students',
      'activityManagement.toast.assignmentsUpdated': 'Student assignments updated successfully!',

      // Super Admin Dashboard
      'super-admin.title': 'Super Admin Dashboard',
      'super-admin.tabs.schools': 'Schools',
      'super-admin.tabs.accounts': 'User Accounts',

      'schoolManagement.title': 'School Management',
      'schoolManagement.existingSchools': 'Existing Schools',
      'schoolManagement.addSchool': 'Add New School',
      'schoolManagement.schoolName': 'School Name',
      'schoolManagement.adminName': 'Admin Name',
      'schoolManagement.adminEmail': 'Admin Email',
      'schoolManagement.saveSchool': 'Save School',
      'schoolManagement.cancel': 'Cancel',
      'schoolManagement.edit': 'Edit',
      'schoolManagement.delete': 'Delete',
      'schoolManagement.deleteConfirmationTitle': 'Delete School',
      'schoolManagement.deleteConfirmationText': 'Are you sure you want to delete this school? This will also delete the associated admin account and all related data (classes, students, requests, etc.). This action cannot be undone.',
      'schoolManagement.actions': 'Actions',
      'schoolManagement.addTitle': 'Add New School',
      'schoolManagement.editTitle': 'Edit School',
      'schoolManagement.createButton': 'Create School',
      'schoolManagement.toast.schoolAdded': 'School and admin added successfully!',
      'schoolManagement.toast.schoolUpdated': 'School and admin updated successfully!',
      'schoolManagement.toast.schoolDeleted': 'School and admin deleted successfully!',
      'schoolManagement.noSchools': 'No schools found. Add a new school above.',

      'super-admin.accountManagement.title': 'User Account Management',
      'super-admin.accountManagement.description': 'Manage all user accounts across all schools.',
      'super-admin.accountManagement.searchPlaceholder': 'Search by Name, Email, or School',
      'super-admin.accountManagement.name': 'Name',
      'super-admin.accountManagement.email': 'Email',
      'super-admin.accountManagement.role': 'Role',
      'super-admin.accountManagement.school': 'School',
      'super-admin.accountManagement.class': 'Class',
      'super-admin.accountManagement.edit': 'Edit',
      'super-admin.accountManagement.delete': 'Delete',
      'super-admin.accountManagement.save': 'Save User',
      'super-admin.accountManagement.cancel': 'Cancel',
      'super-admin.accountManagement.editTitle': 'Edit User Account',
      'super-admin.accountManagement.actions': 'Actions',
      'super-admin.accountManagement.deleteConfirmationTitle': 'Delete User Account',
      'super-admin.accountManagement.deleteConfirmationText': 'Are you sure you want to delete this user account? If this user is a School Admin, all data associated with their school will also be deleted.',
      'super-admin.accountManagement.deleteAdminWarning': 'WARNING: Deleting a School Admin will delete their school and all associated data (classes, students, requests, etc.).',
      'super-admin.accountManagement.toast.userUpdated': 'User account updated successfully!',
      'super-admin.accountManagement.toast.userDeleted': 'User account deleted successfully!',
      'super-admin.accountManagement.noUsersFound': 'No user accounts found matching your search.',
      
      'broadcast.title': 'Send Announcement',
      'broadcast.description': 'Send a message to all parents in the school.',
      'broadcast.placeholder': 'Type your message here...',
      'broadcast.sendButton': 'Send Announcement',
      'broadcast.toast.sent': 'Announcement sent successfully!',

      // Statuses
      'statuses.pending': 'Pending',
      'statuses.acknowledged': 'Acknowledged',
      'statuses.arrived': 'Arrived',
      'statuses.ready': 'Ready for Pick-up',
      'statuses.completed': 'Completed',
    },
    ar: {
      'app.title': 'نظام الالتقاط المدرسي',
      'login.welcomeTitle': 'مرحباً بك!',
      'login.tagline': '',
      'splash.title': 'نظام التقاط الطلاب',
      'splash.subtitle': 'تجربة التقاط سلسة وآمنة',
      'splash.welcomeMessage': 'اهلا بكم في نظام اداره استلام الطلاب',
      'login.emailPlaceholder': 'البريد الإلكتروني',
      'login.emailOrPhone': 'البريد الإلكتروني أو رقم الهاتف',
      'login.passwordPlaceholder': 'كلمة المرور',
      'login.loginButton': 'تسجيل الدخول',
      'login.errors.invalidCredentials': 'البريد الإلكتروني/الهاتف أو كلمة المرور غير صحيحة.',
      'login.toast.success': 'تم تسجيل الدخول بصفتك {{role}}!',
      'logoutButton': 'تسجيل الخروج',
      'languageToggle': 'English',
      'header.welcome': 'أهلاً بك',
      'common.or': 'أو',
      'common.notes': 'ملاحظات',
      'common.phone': 'الهاتف',
      'common.email': 'البريد الإلكتروني',
      'common.password': 'كلمة المرور',
      'common.confirmPassword': 'تأكيد كلمة المرور',
      'common.school': 'المدرسة',
      'common.idNumber': 'رقم الهوية',
      'common.cancel': 'إلغاء',
      'common.edit': 'تعديل',
      'common.delete': 'حذف',
      'common.student': 'طالب',
      'common.pickupPerson': 'الشخص المستلم',
      'common.distance': 'المسافة',
      'common.status': 'الحالة',
      'common.saveChanges': 'حفظ التغييرات',
      'common.processing': 'جاري المعالجة...',
      'common.actions': 'الإجراءات',
      'common.selectSchool': 'اختر المدرسة',
      'common.optionalLeaveBlank': 'اختياري، اتركه فارغاً لعدم التغيير',
      'common.errors.passwordsDoNotMatch': 'كلمتا المرور غير متطابقتين.',
      'common.zone': 'منطقة',
      'common.spot': 'موقف',

      // Role Selection
      'roleSelection.title': 'تأكيد الدور',
      'roleSelection.welcome': 'أهلاً بك، {{name}}!',
      'roleSelection.yourRoleIs': 'دورك المسجل هو',
      'roleSelection.info': 'سيتم توجيهك إلى لوحة التحكم المناسبة لدورك.',
      'roleSelection.proceedButton': 'الانتقال إلى لوحة التحكم',

      // Roles
      'roles.parent.title': 'ولي أمر',
      'roles.parent.description': 'إدارة جداول استلام أبنائك والأشخاص المصرح لهم.',
      'roles.guard.title': 'حارس أمن',
      'roles.guard.description': 'التحقق من رموز الاستلام وإدارة حركة المركبات عند بوابة المدرسة.',
      'roles.teacher.title': 'معلم',
      'roles.teacher.description': 'متابعة طلبات استلام طلاب فصلك وتجهيزهم للمغادرة.',
      'roles.school-supervisor.title': 'مشرف المدرسة',
      'roles.school-supervisor.description': 'الإشراف على جميع أنشطة الاستلام في المدرسة بأكملها.',
      'roles.school-admin.title': 'مدير المدرسة',
      'roles.school-admin.description': 'إدارة الموظفين والطلاب والفصول والإعدادات على مستوى المدرسة.',
      'roles.super-admin.title': 'مدير عام',
      'roles.super-admin.description': 'إدارة جميع المدارس وحسابات المستخدمين في النظام بأكمله.',
      'roles.driver.title': 'سائق',
      'roles.driver.description': 'عرض الطلاب المكلف باستلامهم وإدارة طلبات الاستلام نيابة عن ولي الأمر.',

      // Parent Portal
      'parent.portal.title': 'بوابة ولي الأمر',
      'parent.tabs.pickup': 'استلام الطلاب',
      'parent.tabs.pickup.description': 'أبلغ المدرسة واستلم رمز استلام لأطفالك.',
      'parent.tabs.absence': 'الإبلاغ عن غياب',
      'parent.tabs.absence.description': 'أبلغ المدرسة في حال غياب طفلك.',
      'parent.tabs.management': 'الأشخاص المصرح لهم',
      'parent.tabs.management.description': 'إدارة الأشخاص المسموح لهم باستلام أطفالك.',
      'parent.tabs.bus': 'تتبع الحافلة',
      'parent.tabs.bus.description': 'عرض الموقع المباشر وحالة الحافلة المدرسية.',
      'parent.tabs.activities': 'الأنشطة',
      'parent.tabs.activities.description': 'التحقق من الأنشطة اللاصفية والجداول الزمنية.',
      'parent.tabs.carpooling': 'المشاركة بالسيارة',
      'parent.tabs.carpooling.description': 'تنظيم وإدارة مجموعات المشاركة بالسيارة مع أولياء الأمور.',
      'parent.pickup.title': 'طلب الالتقاط',
      'parent.pickup.selectStudents': 'اختر الطلاب',
      'parent.pickup.selectPerson': 'اختر الشخص المصرح له',
      'parent.pickup.carInfo': 'معلومات السيارة',
      'parent.pickup.carColor': 'لون السيارة',
      'parent.pickup.plateNumber': 'رقم اللوحة',
      'parent.pickup.notes': 'ملاحظات للموظفين (اختياري)',
      'parent.pickup.submit': 'طلب الالتقاط',
      'parent.pickup.code': 'رمز الالتقاط الخاص بك:',
      'parent.pickup.eta': 'الوقت المتوقع للوصول: {{minutes}} دقيقة',
      'parent.pickup.message': 'رسالة للموظفين:',
      'parent.pickup.share': 'مشاركة الطلب',
      'parent.pickup.copy': 'نسخ التفاصيل',
      'parent.errors.apiKeyMissing': 'مفتاح GenAI API مفقود. سيتم تعطيل وظائف الذكاء الاصطناعي.',
      'parent.errors.noSchoolLocation': 'موقع المدرسة غير محدد. لا يمكن حساب الوقت المتوقع للوصول.',
      'parent.errors.notificationFailed': 'فشل في إنشاء رسالة الالتقاط. يرجى المحاولة مرة أخرى.',
      'parent.errors.geoNotSupported': 'تحديد الموقع الجغرافي غير مدعوم من قبل متصفحك.',
      'parent.errors.geoPermissionDenied': 'تم رفض إذن تحديد الموقع الجغرافي. لا يمكن حساب المسافة.',
      'parent.errors.geoUnavailable': 'معلومات الموقع غير متاحة.',
      'parent.errors.geoTimeout': 'انتهت مهلة طلب الحصول على موقع المستخدم.',
      'parent.errors.geoUnknown': 'حدث خطأ غير معروف أثناء الحصول على الموقع.',
      'parent.geofence.message': 'يجب أن تكون ضمن نطاق {{distance}}م من المدرسة لتسجيل وصولك. أنت حاليًا على بعد ~{{currentDistance}}م.',
      'parent.toast.spotReleased': 'لقد تجاوزت المهلة الزمنية للوصول إلى الموقف. تمت إعادتك إلى طابور الانتظار الافتراضي.',

      'parent.share.title': 'تفاصيل طلب الالتقاط',
      'parent.share.student': 'الطلاب',
      'parent.share.person': 'الشخص المصرح له',
      'parent.share.vehicle': 'المركبة',
      'parent.share.code': 'الرمز',
      'parent.share.eta': 'الوقت المتوقع',
      'parent.toast.shareNotSupported': 'مشاركة الويب غير مدعومة. تم نسخ التفاصيل إلى الحافظة.',
      'parent.toast.copied': 'تم نسخ تفاصيل الالتقاط إلى الحافظة!',
      'parent.toast.copyFailed': 'فشل نسخ تفاصيل الالتقاط.',

      'parent.absence.title': 'الإبلاغ عن غياب طالب',
      'parent.absence.selectStudent': 'اختر الطالب',
      'parent.absence.date': 'تاريخ الغياب',
      'parent.absence.reason': 'سبب الغياب',
      'parent.absence.reasonPlaceholder': 'مثال: مرض، رحلة عائلية',
      'parent.absence.submit': 'إرسال تقرير الغياب',
      'parent.toast.absenceReported': 'تم الإبلاغ عن الغياب بنجاح!',

      'parent.management.title': 'إدارة الأشخاص المصرح لهم',
      'parent.management.description': 'أضف أفراد العائلة أو السائقين المصرح لهم باستلام أطفالك.',
      'parent.management.addPerson': 'إضافة شخص مصرح له جديد',
      'parent.management.name': 'الاسم',
      'parent.management.relation': 'الصلة (مثال: أم، خال)',
      'parent.management.phone': 'الهاتف (اختياري)',
      'parent.management.idNumber': 'رقم الهوية',
      'parent.management.addTitle': 'إضافة شخص جديد',
      'parent.management.editTitle': 'تعديل الشخص',
      'parent.management.addButton': 'إضافة شخص',
      'parent.management.existing': 'الأشخاص المصرح لهم الحاليون',
      'parent.management.noPersons': 'لم يتم العثور على أشخاص مصرح لهم. أضف واحداً أعلاه.',
      'parent.management.save': 'حفظ الشخص',
      'parent.management.cancel': 'إلغاء',
      'parent.management.edit': 'تعديل',
      'parent.management.delete': 'حذف',
      'parent.management.deleteConfirmation': 'هل أنت متأكد أنك تريد حذف هذا الشخص المصرح له؟',
      'parent.management.toast.personAdded': 'تمت إضافة الشخص المصرح له بنجاح!',
      'parent.management.toast.personUpdated': 'تم تحديث الشخص المصرح له بنجاح!',
      'parent.management.toast.personDeleted': 'تم حذف الشخص المصرح له بنجاح!',
      'parent.management.details': 'تفاصيل الشخص',
      'parent.management.inviteTitle': 'دعوة سائق',
      'parent.management.inviteDriverDescription': 'أدخل رقم هاتف السائق لدعوته. ستتم إضافته كشخص مصرح له.',
      'parent.management.inviteButton': 'دعوة سائق',
      'parent.management.toast.inviteSent': 'تم إرسال دعوة السائق إلى {{phone}}!',

      'parent.buttons.notify': 'إبلاغ المدرسة',
      'parent.buttons.share': 'مشاركة',
      'parent.buttons.copy': 'نسخ',
      'parent.buttons.reportAbsence': 'إبلاغ عن غياب',
      'parent.pass.title': 'بطاقة الالتقاط الرقمية',
      'parent.pass.instruction': 'اعرض هذا للموظفين للتحقق.',
      'parent.status.pickupCode': 'رمز الالتقاط',
      'parent.status.eta': 'الوقت المتوقع',
      'parent.status.liveEta': 'الوقت المباشر',
      'parent.status.distance': 'المسافة',
      'parent.status.note': 'ملاحظة',
      'parent.status.currentStatus': 'الحالة الحالية',
      'parent.steps.selectStudent': '1. اختر الطلاب',
      'parent.steps.selectPerson': '2. اختر الشخص المصرح له',
      'parent.steps.vehicleInfo': '3. معلومات المركبة',
      'parent.placeholders.carColor': 'لون السيارة',
      'parent.placeholders.plateNumber': 'رقم اللوحة',
      'parent.placeholders.notes': 'ملاحظات للموظفين (اختياري)',
      'parent.placeholders.absenceReason': 'مثال: مرض، رحلة عائلية',
      'parent.buttons.arrived': "لقد وصلت",
      'parent.spot.assignedTitle': 'تفضل بالتوجه إلى موقفك',
      'parent.spot.assignedMessageNew': 'يرجى التوجه إلى الموقف الموضح أدناه.',
      'parent.spot.standByTitle': 'يرجى الانتظار',
      'parent.spot.standByMessage': 'جميع مواقف الاستلام مشغولة حاليًا. سيتم تخصيص موقف لك فور توفره.',
      'parent.preflight.title': 'تأكيد طلب الاستلام',
      'parent.preflight.calculating': 'جاري حساب المسافة والوقت المتوقع...',
      'parent.preflight.locationError': 'تعذر حساب الوقت المتوقع. هل تريد المتابعة على أي حال؟',
      'parent.preflight.confirmMessage': 'الوقت المتوقع لوصولك هو {{eta}} دقيقة ({{distance}} كم). هل تريد إرسال الإشعار للمدرسة؟',
      'parent.preflight.confirmButton': 'نعم، أرسل الإشعار',

      'busTracking.title': 'تتبع الحافلة',
      'busTracking.noBuses': 'لا يوجد أي من أبنائك مسجل حالياً في حافلة مدرسية.',
      'bus.status.stationary': 'متوقفة',
      'bus.status.en_route': 'في الطريق',
      'bus.status.stopped': 'متوقفة مؤقتاً',

      'parent.activities.title': 'الأنشطة اللاصفية',
      'parent.activities.supervisor': 'المشرف',
      'parent.activities.time': 'الوقت',
      'parent.activities.location': 'المكان',
      'parent.activities.noActivities': 'أبناؤك غير مسجلين في أي أنشطة لاصفية لليوم.',
      
      'carpooling.title': 'مجموعات المشاركة بالسيارة',
      'carpooling.description': 'نظم مجموعات لمشاركة السيارة مع أولياء الأمور الآخرين لتناوب مهام التوصيل.',
      'carpooling.createGroup.button': 'إنشاء مجموعة جديدة',
      'carpooling.createGroup.title': 'إنشاء مجموعة جديدة',
      'carpooling.groupName.placeholder': 'مثال: "فريق كرة القدم للصف الثالث"',
      'carpooling.create.button': 'إنشاء مجموعة',
      'carpooling.myGroups': 'مجموعاتي',
      'carpooling.groupAdmin': 'المدير',
      'carpooling.members': 'الأعضاء',
      'carpooling.inviteMember.button': 'دعوة عضو',
      'carpooling.noGroups': 'أنت لست عضواً في أي مجموعة بعد.',
      'carpooling.toast.groupCreated': 'تم إنشاء المجموعة بنجاح!',
      'carpooling.inviteMember.title': 'دعوة عضو إلى',
      'carpooling.inviteMember.select': 'اختر ولي أمر لدعوته',
      'carpooling.inviteMember.noParents': 'لا يوجد أولياء أمور آخرون متاحون للدعوة.',
      'carpooling.invite.button': 'إرسال دعوة',
      'carpooling.toast.memberInvited': 'تمت دعوة العضو بنجاح!',
      
      // Driver Dashboard
      'driverDashboard.title': 'لوحة تحكم السائق',
      'driverDashboard.welcome': 'اختر الطلاب المكلف بهم وأبلغ المدرسة.',
      'driverDashboard.assignedStudents': 'الطلاب المكلف بهم',
      'driverDashboard.startPickup': 'بدء الاستلام',
      'driverDashboard.pickupInProgress': 'الاستلام قيد التنفيذ',
      'driverDashboard.noAssignments': 'أنت غير مكلف باستلام أي طلاب حاليًا.',

      // Guard View
      'guard.title': 'عرض الحارس',
      'guard.enterCode': 'أدخل رمز الالتقاط',
      'guard.verify': 'تحقق من الرمز',
      'guard.pickupDetails': 'تفاصيل الالتقاط',
      'guard.student': 'الطالب',
      'guard.authorizedPerson': 'الشخص المصرح له',
      'guard.relation': 'الصلة',
      'guard.carInfo': 'السيارة',
      'guard.status': 'الحالة',
      'guard.confirmPickup': 'تأكيد الالتقاط',
      'guard.errors.invalidCode': 'رمز الالتقاط غير صالح أو منتهي الصلاحية.',
      'guard.errors.noReadyRequests': 'لا توجد طلبات "جاهزة للالتقاط" للمحاكاة.',
      'guard.errors.scannerFailed': 'فشل في تشغيل ماسح QR.',
      'guard.errors.permissionDenied': 'تم رفض إذن الوصول إلى الكاميرا. يرجى السماح بالوصول إلى الكاميرا في إعدادات المتصفح.',
      'guard.errors.noCamera': 'لم يتم العثور على كاميرا على هذا الجهاز.',
      'guard.scanQR': 'مسح رمز QR',
      'guard.stopScan': 'إيقاف الماسح',
      'guard.simulateScan': 'محاكاة المسح (تجريبي)',
      'guard.success': 'تم التحقق بنجاح!',
      'guard.studentInfo': 'معلومات الطالب',
      'guard.vehicleInfo': 'معلومات المركبة',
      'guard.pickupLocation': 'موقع الاستلام',
      'guard.confirm': 'تأكيد',

      // Teacher Dashboard
      'teacher.portal.title': 'فصلي',
      'teacher.portal.activeRequests': 'طلبات نشطة',
      'teacher.portal.pickupBy': 'المستلم',
      'teacher.portal.markReady': 'ارسال الطالب الى المكان المخصص',
      'teacher.portal.ready': 'جاهز للاستلام',
      'teacher.portal.completed': 'اكتمل',
      'teacher.portal.noRequests': 'لا توجد طلبات التقاط نشطة لفصلك.',
      'teacher.title': 'لوحة تحكم المعلم',
      'teacher.buttons.acknowledge': 'استلام',
      'teacher.myClass': 'صفي: {{className}}',
      'teacher.pendingRequests': 'طلبات الالتقاط المعلقة',
      'teacher.studentName': 'اسم الطالب',
      'teacher.authorizedPerson': 'الشخص المصرح له',
      'teacher.carInfo': 'معلومات السيارة',
      'teacher.notes': 'ملاحظات',
      'teacher.markReady': 'ارسال الطالب الى المكان المخصص',
      'teacher.reports': 'تقارير الغياب',
      'teacher.report.student': 'الطالب',
      'teacher.report.date': 'التاريخ',
      'teacher.report.reason': 'السبب',

      // School Supervisor
      'schoolSupervisor.portal.title': 'مشرف المدرسة',
      'schoolSupervisor.portal.monitor': 'مراقبة وإدارة جميع طلبات الاستلام النشطة في مدرستك.',
      'schoolSupervisor.portal.activeRequests': 'طلبات نشطة',
      'schoolSupervisor.portal.noRequests': 'لا توجد طلبات التقاط نشطة في مدرستك.',
      'schoolSupervisor.title': 'لوحة تحكم مشرف المدرسة',
      'schoolSupervisor.activePickups': 'طلبات الالتقاط النشطة (جميع الفصول)',
      'schoolSupervisor.liveMonitor.title': 'مراقبة الاستلام المباشرة',
      'schoolSupervisor.liveMonitor.zone': 'منطقة',
      'schoolSupervisor.liveMonitor.occupiedBy': 'بواسطة',
      'schoolSupervisor.liveMonitor.free': 'فارغ',
      'schoolSupervisor.insights.title': 'رؤى ذكية',

      // School Admin Dashboard
      'school-admin.title': 'لوحة تحكم مدير المدرسة',
      'school-admin.tabs.monitor': 'المراقبة',
      'school-admin.tabs.staff': 'الموظفون',
      'school-admin.tabs.students': 'الطلاب',
      'school-admin.tabs.classes': 'الفصول',
      'school-admin.tabs.settings': 'الإعدادات',
      'school-admin.tabs.analytics': 'التحليلات',
      'school-admin.tabs.buses': 'الحافلات',
      'school-admin.tabs.activities': 'الأنشطة',
      'school-admin.tabs.broadcast': 'إعلانات',
      
      'school-admin.portal.title': 'مراقب التقاط الطلاب بالمدرسة',
      'school-admin.portal.monitor': 'نظرة عامة على طلبات التقاط الطلاب النشطة.',
      'school-admin.portal.activeRequests': 'طلبات نشطة',
      'school-admin.portal.resetDay': 'إعادة تعيين اليوم',
      'school-admin.portal.resetConfirmation': 'هل أنت متأكد من أنك تريد مسح جميع طلبات الالتقاط النشطة لليوم؟ لا يمكن التراجع عن هذا الإجراء.',
      'school-admin.portal.noRequests': 'لا توجد طلبات التقاط نشطة حاليًا.',
      'school-admin.toast.dayReset': 'تمت إعادة تعيين جميع الطلبات النشطة.',

      'school-admin.staff.title': 'إدارة الموظفين',
      'school-admin.staff.add': 'إضافة موظف جديد',
      'school-admin.staff.addTitle': 'إضافة موظف جديد',
      'school-admin.staff.addButton': 'إضافة موظف',
      'school-admin.staff.editTitle': 'تعديل بيانات الموظف',
      'school-admin.staff.existing': 'الموظفون الحاليون',
      'school-admin.staff.name': 'الاسم',
      'school-admin.staff.phone': 'الهاتف',
      'school-admin.staff.role': 'الدور',
      'school-admin.staff.selectRole': 'اختر الدور',
      'school-admin.staff.class': 'الفصل المخصص (للمعلمين)',
      'school-admin.staff.selectClass': 'اختر الفصل',
      'school-admin.staff.edit': 'تعديل',
      'school-admin.staff.save': 'حفظ الموظف',
      'school-admin.staff.cancel': 'إلغاء',
      'school-admin.staff.toast.staffAdded': 'تمت إضافة الموظف بنجاح!',
      'school-admin.staff.toast.staffUpdated': 'تم تحديث الموظف بنجاح!',
      'school-admin.staff.toast.staffDeleted': 'تم حذف الموظف بنجاح.',
      'school-admin.staff.deleteConfirmation': 'هل أنت متأكد أنك تريد حذف هذا الموظف؟',
      'school-admin.staff.noStaff': 'لا يوجد موظفون مسجلون في مدرستك.',

      'school-admin.students.title': 'إدارة الطلاب',
      'school-admin.students.add': 'إضافة طالب جديد',
      'school-admin.students.addTitle': 'إضافة طالب جديد',
      'school-admin.students.addButton': 'إضافة طالب',
      'school-admin.students.editTitle': 'تعديل بيانات الطالب',
      'school-admin.students.existing': 'الطلاب الحاليون',
      'school-admin.students.name': 'الاسم',
      'school-admin.students.grade': 'الصف',
      'school-admin.students.class': 'الفصل',
      'school-admin.students.selectClass': 'اختر الفصل',
      'school-admin.students.parentPhone': 'هاتف ولي الأمر',
      'school-admin.students.sendInvite': 'إرسال دعوة',
      'school-admin.students.edit': 'تعديل',
      'school-admin.students.save': 'حفظ الطالب',
      'school-admin.students.cancel': 'إلغاء',
      'school-admin.students.invite': 'إرسال دعوة',
      'school-admin.students.toast.studentAdded': 'تمت إضافة الطالب بنجاح!',
      'school-admin.students.toast.studentUpdated': 'تم تحديث الطالب بنجاح!',
      'school-admin.students.toast.studentDeleted': 'تم حذف الطالب بنجاح.',
      'school-admin.students.deleteConfirmation': 'هل أنت متأكد أنك تريد حذف هذا الطالب؟',
      'school-admin.students.toast.inviteSent': 'تم إرسال دعوة ولي الأمر إلى {{phone}}!',
      'school-admin.students.noStudents': 'لا يوجد طلاب مسجلون في مدرستك.',

      'school-admin.classes.title': 'إدارة الفصول',
      'school-admin.classes.add': 'إضافة فصل جديد',
      'school-admin.classes.addTitle': 'إضافة فصل جديد',
      'school-admin.classes.addButton': 'إضافة فصل',
      'school-admin.classes.existing': 'الفصول الحالية',
      'school-admin.classes.name': 'اسم الفصل',
      'school-admin.classes.toast.classAdded': 'تمت إضافة الفصل بنجاح!',
      'school-admin.classes.toast.classDeleted': 'تم حذف الفصل بنجاح.',
      'school-admin.classes.deleteConfirmation': 'هل أنت متأكد من حذف هذا الفصل؟ قد يؤدي هذا إلى إلغاء تعيين الطلاب والمعلمين.',
      'school-admin.classes.noClasses': 'لا توجد فصول مسجلة في مدرستك.',

      'school-admin.settings.title': 'إعدادات المدرسة',
      'school-admin.settings.location': 'موقع المدرسة',
      'school-admin.settings.searchPlaceholder': 'البحث عن موقع...',
      'school-admin.settings.markerInstruction': 'اسحب العلامة لتحديد موقع المدرسة بدقة.',
      'school-admin.settings.centerOnMe': 'توسيط الخريطة على موقعي',
      'school-admin.settings.saveLocation': 'حفظ الموقع',
      'school-admin.settings.centerButton': 'توسيط على موقعي',
      'school-admin.settings.saveButton': 'حفظ الموقع',
      'school-admin.settings.toast.locationSet': 'تم تحديث موقع المدرسة بنجاح!',
      'school-admin.settings.mapsNotConfigured.title': 'الخرائط غير مهيأة',
      'school-admin.settings.mapsNotConfigured.description': 'خدمة الخرائط هذه لا تتطلب مفتاح API.',
      'school-admin.settings.pickupZones.title': 'مناطق الاستلام',
      'school-admin.settings.pickupZones.description': 'قم بإعداد مناطق مسماة وعدد مواقف الاستلام في كل منطقة.',
      'school-admin.settings.pickupZones.addZone': 'إضافة منطقة جديدة',
      'school-admin.settings.pickupZones.zoneName': 'اسم المنطقة (مثال: أ, ب, 1, 2)',
      'school-admin.settings.pickupZones.spotCount': 'عدد المواقف',
      'school-admin.settings.pickupZones.addButton': 'إضافة منطقة',
      'school-admin.settings.pickupZones.existing': 'المناطق الحالية',
      'school-admin.settings.pickupZones.deleteConfirmation': 'هل أنت متأكد من حذف هذه المنطقة؟',
      'school-admin.settings.pickupZones.toast.zoneAdded': 'تمت إضافة منطقة الاستلام بنجاح!',
      'school-admin.settings.pickupZones.toast.zoneDeleted': 'تم حذف منطقة الاستلام بنجاح!',
      'school-admin.settings.pickupZones.noZones': 'لم يتم تكوين أي مناطق استلام بعد.',
      
      'analytics.title': 'لوحة التحليلات',
      'analytics.description': 'نظرة على أنشطة الاستلام اليوم.',
      'analytics.totalPickups': 'مجموع الاستلام اليوم',
      'analytics.avgTime': 'متوسط وقت الاستلام',
      'analytics.minutes': 'دقيقة',
      'analytics.peakHour': 'ساعة الذروة',
      'analytics.absencesToday': 'الغياب اليوم',
      'analytics.pickupsByHour': 'الاستلام حسب الساعة',
      'analytics.noData': 'لا توجد بيانات كافية لعرض الرسم البياني.',
      'analytics.statusDistribution': 'حالة الطلبات النشطة',

      'busManagement.description': 'إدارة الحافلات المدرسية والسائقين وتعيينات الطلاب.',
      'busManagement.addTitle': 'إضافة حافلة جديدة',
      'busManagement.editTitle': 'تعديل الحافلة',
      'busManagement.busNumber': 'رقم الحافلة / اسم المسار',
      'busManagement.driverName': 'اسم السائق',
      'busManagement.addButton': 'إضافة حافلة',
      'busManagement.existing': 'الحافلات الحالية',
      'busManagement.assignedStudents': 'الطلاب المسجلون',
      'busManagement.assignStudents': 'تسجيل الطلاب',
      'busManagement.noBuses': 'لا توجد حافلات مسجلة في مدرستك.',
      'busManagement.assignStudentsTo': 'تسجيل الطلاب في',
      'busManagement.availableStudents': 'الطلاب المتاحون',

      'activityManagement.description': 'إدارة الأنشطة اللاصفية وتسجيل الطلاب.',
      'activityManagement.addTitle': 'إضافة نشاط جديد',
      'activityManagement.editTitle': 'تعديل النشاط',
      'activityManagement.name': 'اسم النشاط',
      'activityManagement.supervisor': 'المشرف (معلم)',
      'activityManagement.selectSupervisor': 'اختر معلماً',
      'activityManagement.startTime': 'وقت البدء',
      'activityManagement.endTime': 'وقت الانتهاء',
      'activityManagement.location': 'المكان',
      'activityManagement.addButton': 'إضافة نشاط',
      'activityManagement.existing': 'الأنشطة الحالية',
      'activityManagement.assignedStudents': 'الطلاب المسجلون',
      'activityManagement.assignStudents': 'تسجيل الطلاب',
      'activityManagement.noActivities': 'لا توجد أنشطة مسجلة في مدرستك.',
      'activityManagement.toast.added': 'تمت إضافة النشاط بنجاح!',
      'activityManagement.toast.updated': 'تم تحديث النشاط بنجاح!',
      'activityManagement.toast.deleted': 'تم حذف النشاط بنجاح.',
      'activityManagement.deleteConfirmation': 'هل أنت متأكد أنك تريد حذف هذا النشاط؟',
      'activityManagement.assignStudentsTo': 'تسجيل الطلاب في',
      'activityManagement.availableStudents': 'الطلاب المتاحون',
      'activityManagement.toast.assignmentsUpdated': 'تم تحديث تسجيلات الطلاب بنجاح!',

      // Super Admin Dashboard
      'super-admin.title': 'لوحة تحكم المدير العام',
      'super-admin.tabs.schools': 'المدارس',
      'super-admin.tabs.accounts': 'حسابات المستخدمين',

      'schoolManagement.title': 'إدارة المدارس',
      'schoolManagement.existingSchools': 'المدارس الحالية',
      'schoolManagement.addSchool': 'إضافة مدرسة جديدة',
      'schoolManagement.schoolName': 'اسم المدرسة',
      'schoolManagement.adminName': 'اسم المدير',
      'schoolManagement.adminEmail': 'البريد الإلكتروني للمدير',
      'schoolManagement.saveSchool': 'حفظ المدرسة',
      'schoolManagement.cancel': 'إلغاء',
      'schoolManagement.edit': 'تعديل',
      'schoolManagement.delete': 'حذف',
      'schoolManagement.deleteConfirmationTitle': 'حذف المدرسة',
      'schoolManagement.deleteConfirmationText': 'هل أنت متأكد أنك تريد حذف هذه المدرسة؟ سيؤدي ذلك أيضًا إلى حذف حساب المسؤول المرتبط وجميع البيانات ذات الصلة (الفصول، الطلاب، الطلبات، إلخ). لا يمكن التراجع عن هذا الإجراء.',
      'schoolManagement.addTitle': 'إضافة مدرسة جديدة',
      'schoolManagement.editTitle': 'تعديل بيانات المدرسة',
      'schoolManagement.createButton': 'إنشاء مدرسة',
      'schoolManagement.actions': 'الإجراءات',
      'schoolManagement.toast.schoolAdded': 'تمت إضافة المدرسة والمسؤول بنجاح!',
      'schoolManagement.toast.schoolUpdated': 'تم تحديث المدرسة والمسؤول بنجاح!',
      'schoolManagement.toast.schoolDeleted': 'تم حذف المدرسة والمسؤول بنجاح!',
      'schoolManagement.noSchools': 'لم يتم العثور على مدارس. أضف مدرسة جديدة أعلاه.',

      'super-admin.accountManagement.title': 'إدارة حسابات المستخدمين',
      'super-admin.accountManagement.description': 'إدارة جميع حسابات المستخدمين عبر جميع المدارس.',
      'super-admin.accountManagement.searchPlaceholder': 'البحث بالاسم، البريد الإلكتروني، أو المدرسة',
      'super-admin.accountManagement.name': 'الاسم',
      'super-admin.accountManagement.email': 'البريد الإلكتروني',
      'super-admin.accountManagement.role': 'الدور',
      'super-admin.accountManagement.school': 'المدرسة',
      'super-admin.accountManagement.class': 'الفصل',
      'super-admin.accountManagement.edit': 'تعديل',
      'super-admin.accountManagement.delete': 'حذف',
      'super-admin.accountManagement.save': 'حفظ المستخدم',
      'super-admin.accountManagement.cancel': 'إلغاء',
      'super-admin.accountManagement.editTitle': 'تعديل حساب المستخدم',
      'super-admin.accountManagement.actions': 'الإجراءات',
      'super-admin.accountManagement.deleteConfirmationTitle': 'حذف حساب المستخدم',
      'super-admin.accountManagement.deleteConfirmationText': 'هل أنت متأكد أنك تريد حذف حساب المستخدم هذا؟ إذا كان هذا المستخدم هو مدير مدرسة، فسيتم حذف جميع البيانات المرتبطة بمدرسته أيضًا.',
      'super-admin.accountManagement.deleteAdminWarning': 'تحذير: حذف مدير مدرسة سيؤدي إلى حذف مدرسته وجميع البيانات المرتبطة بها (الفصول، الطلاب، الطلبات، إلخ).',
      'super-admin.accountManagement.toast.userUpdated': 'تم تحديث حساب المستخدم بنجاح!',
      'super-admin.accountManagement.toast.userDeleted': 'تم حذف حساب المستخدم بنجاح!',
      'super-admin.accountManagement.noUsersFound': 'لم يتم العثور على حسابات مستخدمين مطابقة لبحثك.',

      'broadcast.title': 'إرسال إعلان',
      'broadcast.description': 'أرسل رسالة لجميع أولياء الأمور في المدرسة.',
      'broadcast.placeholder': 'اكتب رسالتك هنا...',
      'broadcast.sendButton': 'إرسال الإعلان',
      'broadcast.toast.sent': 'تم إرسال الإعلان بنجاح!',

      // Statuses
      'statuses.pending': 'معلق',
      'statuses.acknowledged': 'تم الاستلام',
      'statuses.arrived': 'وصل',
      'statuses.ready': 'جاهز للاستلام',
      'statuses.completed': 'اكتمل',
    },
  };

  translate(key: string, replacements: Record<string, string> = {}): string {
    const lang = this.language();
    let translation = this.translations[lang]?.[key] || key;

    for (const [placeholder, value] of Object.entries(replacements)) {
      translation = translation.replace(new RegExp(`{{${placeholder}}}`, 'g'), value);
    }

    return translation;
  }

  setLanguage(lang: 'en' | 'ar'): void {
    this.language.set(lang);
  }
}
