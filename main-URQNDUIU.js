var Em=Object.defineProperty,Cm=Object.defineProperties;var _m=Object.getOwnPropertyDescriptors;var Ll=Object.getOwnPropertySymbols;var Im=Object.prototype.hasOwnProperty,Dm=Object.prototype.propertyIsEnumerable;var Ol=(t,e,n)=>e in t?Em(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,se=(t,e)=>{for(var n in e||={})Im.call(e,n)&&Ol(t,n,e[n]);if(Ll)for(var n of Ll(e))Dm.call(e,n)&&Ol(t,n,e[n]);return t},le=(t,e)=>Cm(t,_m(e));var ji;function Jo(){return ji}function et(t){let e=ji;return ji=t,e}var Vl=Symbol("NotFound");function dn(t){return t===Vl||t?.name==="\u0275NotFound"}var Ee=null,Yo=!1,Ki=1,Tm=null,Ie=Symbol("SIGNAL");function V(t){let e=Ee;return Ee=t,e}function Qo(){return Ee}var Rt={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fn(t){if(Yo)throw new Error("");if(Ee===null)return;Ee.consumerOnSignalRead(t);let e=Ee.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=Ee.recomputing;if(o&&(n=e!==void 0?e.nextProducer:Ee.producers,n!==void 0&&n.producer===t)){Ee.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===Ee&&(!o||wm(r,Ee)))return;let i=gn(Ee),s={producer:t,consumer:Ee,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};Ee.producersTail=s,e!==void 0?e.nextProducer=s:Ee.producers=s,i&&Gl(t,s)}function Ul(){Ki++}function Xo(t){if(!(gn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ki)){if(!t.producerMustRecompute(t)&&!mn(t)){Ko(t);return}t.producerRecomputeValue(t),Ko(t)}}function Qi(t){if(t.consumers===void 0)return;let e=Yo;Yo=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||Sm(o)}}finally{Yo=e}}function Xi(){return Ee?.consumerAllowSignalWrites!==!1}function Sm(t){t.dirty=!0,Qi(t),t.consumerMarkedDirty?.(t)}function Ko(t){t.dirty=!1,t.lastCleanEpoch=Ki}function kt(t){return t&&Hl(t),V(t)}function Hl(t){t.producersTail=void 0,t.recomputing=!0}function pn(t,e){V(e),t&&Bl(t)}function Bl(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(gn(t))do n=es(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function mn(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(Xo(n),o!==n.version))return!0}return!1}function Ft(t){if(gn(t)){let e=t.producers;for(;e!==void 0;)e=es(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Gl(t,e){let n=t.consumersTail,o=gn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)Gl(r.producer,r)}function es(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!gn(e)){let i=e.producers;for(;i!==void 0;)i=es(i)}return n}function gn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function er(t){Tm?.(t)}function wm(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function tr(t,e){return Object.is(t,e)}function nr(t,e){let n=Object.create(Mm);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(Xo(n),fn(n),n.value===to)throw n.error;return n.value};return o[Ie]=n,er(n),o}var Zo=Symbol("UNSET"),jo=Symbol("COMPUTING"),to=Symbol("ERRORED"),Mm=le(se({},Rt),{value:Zo,dirty:!0,error:null,equal:tr,kind:"computed",producerMustRecompute(t){return t.value===Zo||t.value===jo},producerRecomputeValue(t){if(t.value===jo)throw new Error("");let e=t.value;t.value=jo;let n=kt(t),o,r=!1;try{o=t.computation(),V(null),r=e!==Zo&&e!==to&&o!==to&&t.equal(e,o)}catch(i){o=to,t.error=i}finally{pn(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function Am(){throw new Error}var $l=Am;function ql(t){$l(t)}function ts(t){$l=t}var xm=null;function ns(t,e){let n=Object.create(or);n.value=t,e!==void 0&&(n.equal=e);let o=()=>zl(n);return o[Ie]=n,er(n),[o,s=>hn(n,s),s=>os(n,s)]}function zl(t){return fn(t),t.value}function hn(t,e){Xi()||ql(t),t.equal(t.value,e)||(t.value=e,Nm(t))}function os(t,e){Xi()||ql(t),hn(t,e(t.value))}var or=le(se({},Rt),{equal:tr,value:void 0,kind:"signal"});function Nm(t){t.version++,Ul(),Qi(t),xm?.(t)}function Se(t){return typeof t=="function"}function rr(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ir=rr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var De=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(Se(o))try{o()}catch(i){e=i instanceof ir?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{Wl(i)}catch(s){e=e??[],s instanceof ir?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ir(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Wl(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){let{_finalizers:n}=this;n&&no(n,e),e instanceof t&&e._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var rs=De.EMPTY;function sr(t){return t instanceof De||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function Wl(t){Se(t)?t():t.unsubscribe()}var Be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yn={setTimeout(t,e,...n){let{delegate:o}=yn;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=yn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Jl(t){yn.setTimeout(()=>{let{onUnhandledError:e}=Be;if(e)e(t);else throw t})}function is(){}var Yl=ss("C",void 0,void 0);function Zl(t){return ss("E",void 0,t)}function jl(t){return ss("N",t,void 0)}function ss(t,e,n){return{kind:t,value:e,error:n}}var Lt=null;function vn(t){if(Be.useDeprecatedSynchronousErrorHandling){let e=!Lt;if(e&&(Lt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=Lt;if(Lt=null,n)throw o}}else t()}function Kl(t){Be.useDeprecatedSynchronousErrorHandling&&Lt&&(Lt.errorThrown=!0,Lt.error=t)}var Ot=class extends De{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sr(e)&&e.add(this)):this.destination=Rm}static create(e,n,o){return new En(e,n,o)}next(e){this.isStopped?us(jl(e),this):this._next(e)}error(e){this.isStopped?us(Zl(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?us(Yl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bm=Function.prototype.bind;function as(t,e){return bm.call(t,e)}var ls=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){ar(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){ar(o)}else ar(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ar(n)}}},En=class extends Ot{constructor(e,n,o){super();let r;if(Se(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&Be.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&as(e.next,i),error:e.error&&as(e.error,i),complete:e.complete&&as(e.complete,i)}):r=e}this.destination=new ls(r)}};function ar(t){Be.useDeprecatedSynchronousErrorHandling?Kl(t):Jl(t)}function Pm(t){throw t}function us(t,e){let{onStoppedNotification:n}=Be;n&&yn.setTimeout(()=>n(t,e))}var Rm={closed:!0,next:is,error:Pm,complete:is};var Ql=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xl(t){return t}function ec(t){return t.length===0?Xl:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var Cn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=Fm(n)?n:new En(n,o,r);return vn(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=tc(o),new o((r,i)=>{let s=new En({next:l=>{try{n(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Ql](){return this}pipe(...n){return ec(n)(this)}toPromise(n){return n=tc(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function tc(t){var e;return(e=t??Be.Promise)!==null&&e!==void 0?e:Promise}function km(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}function Fm(t){return t&&t instanceof Ot||km(t)&&sr(t)}function Lm(t){return Se(t?.lift)}function nc(t){return e=>{if(Lm(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function oc(t,e,n,o,r){return new cs(t,e,n,o,r)}var cs=class extends Ot{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){e.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var rc=rr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class t extends Cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new ur(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new rc}next(n){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){vn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?rs:(this.currentObservers=null,i.push(n),new De(()=>{this.currentObservers=null,no(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new Cn;return n.source=this,n}}return t.create=(e,n)=>new ur(e,n),t})(),ur=class extends _t{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:rs}};var oo=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};function ds(t,e){return nc((n,o)=>{let r=0;n.subscribe(oc(o,i=>{o.next(t.call(e,i,r++))}))})}var ic=le(se({},Rt),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function sc(t){if(t.dirty=!1,t.version>0&&!mn(t))return;t.version++;let e=kt(t);try{t.cleanup(),t.fn()}finally{pn(t,e)}}var pr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,n){super(ao(e,n)),this.code=e}};function Om(t){return`NG0${Math.abs(t)}`}function ao(t,e){return`${Om(t)}${e?": "+e:""}`}function te(t){for(let e in t)if(t[e]===te)return e;throw Error("")}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(It).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function Ds(t,e){return t?e?`${t} ${e}`:t:e||""}var Vm=te({__forward_ref__:te});function mr(t){return t.__forward_ref__=mr,t.toString=function(){return It(this())},t}function xe(t){return lc(t)?t():t}function lc(t){return typeof t=="function"&&t.hasOwnProperty(Vm)&&t.__forward_ref__===mr}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function uo(t){return{providers:t.providers||[],imports:t.imports||[]}}function gr(t){return Um(t,hr)}function Um(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Hm(t){let e=t?.[hr]??null;return e||null}function ps(t){return t&&t.hasOwnProperty(cr)?t[cr]:null}var hr=te({\u0275prov:te}),cr=te({\u0275inj:te}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ts(t){return t&&!!t.\u0275providers}var Ss=te({\u0275cmp:te}),ws=te({\u0275dir:te}),Ms=te({\u0275pipe:te});var ms=te({\u0275fac:te}),Bt=te({__NG_ELEMENT_ID__:te}),ac=te({__NG_ENV_ID__:te});function Dn(t){return typeof t=="string"?t:t==null?"":String(t)}function cc(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Dn(t)}var dc=te({ngErrorCode:te}),Bm=te({ngErrorMessage:te}),Gm=te({ngTokenPath:te});function As(t,e){return fc("",-200,e)}function yr(t,e){throw new z(-201,!1)}function fc(t,e,n){let o=new z(e,t);return o[dc]=e,o[Bm]=t,n&&(o[Gm]=n),o}function $m(t){return t[dc]}var gs;function pc(){return gs}function Ae(t){let e=gs;return gs=t,e}function xs(t,e,n){let o=gr(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;yr(t,"Injector")}var qm={},Vt=qm,zm="__NG_DI_FLAG__",hs=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=Ut(n)||0;try{return this.injector.get(e,o&8?null:Vt,o)}catch(r){if(dn(r))return r;throw r}}};function Wm(t,e=0){let n=Jo();if(n===void 0)throw new z(-203,!1);if(n===null)return xs(t,void 0,e);{let o=Jm(e),r=n.retrieve(t,o);if(dn(r)){if(o.optional)return null;throw r}return r}}function X(t,e=0){return(pc()||Wm)(xe(t),e)}function P(t,e){return X(t,Ut(e))}function Ut(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jm(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ys(t){let e=[];for(let n=0;n<t.length;n++){let o=xe(t[n]);if(Array.isArray(o)){if(o.length===0)throw new z(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let l=o[s],c=Ym(l);typeof c=="number"?c===-1?r=l.token:i|=c:r=l}e.push(X(r,i))}else e.push(X(o))}return e}function Ym(t){return t[zm]}function In(t,e){let n=t.hasOwnProperty(ms);return n?t[ms]:null}function mc(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}function gc(t){return t.flat(Number.POSITIVE_INFINITY)}function vr(t,e){t.forEach(n=>Array.isArray(n)?vr(n,e):e(n))}function Ns(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hc(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function yc(t,e,n){let o=Tn(t,e);return o>=0?t[o|1]=n:(o=~o,hc(t,o,e,n)),o}function Er(t,e){let n=Tn(t,e);if(n>=0)return t[n|1]}function Tn(t,e){return Zm(t,e,1)}function Zm(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var Gt={},Pe=[],$t=new j(""),bs=new j("",-1),Ps=new j(""),io=class{get(e,n=Vt){if(n===Vt){let r=fc("",-201);throw r.name="\u0275NotFound",r}return n}};function qt(t){return t[Ss]||null}function Rs(t){return t[ws]||null}function vc(t){return t[Ms]||null}function ks(t){return{\u0275providers:t}}function Ec(...t){return{\u0275providers:Fs(!0,t),\u0275fromNgModule:!0}}function Fs(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return vr(e,s=>{let l=s;dr(l,i,[],o)&&(r||=[],r.push(l))}),r!==void 0&&Cc(r,i),n}function Cc(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];Ls(r,i=>{e(i,o)})}}function dr(t,e,n,o){if(t=xe(t),!t)return!1;let r=null,i=ps(t),s=!i&&qt(t);if(!i&&!s){let c=t.ngModule;if(i=ps(c),i)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let l=o.has(r);if(s){if(l)return!1;if(o.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)dr(d,e,n,o)}}else if(i){if(i.imports!=null&&!l){o.add(r);let d;try{vr(i.imports,f=>{dr(f,e,n,o)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Cc(d,e)}if(!l){let d=In(r)||(()=>new r);e({provide:r,useFactory:d,deps:Pe},r),e({provide:Ps,useValue:r,multi:!0},r),e({provide:$t,useValue:()=>X(r),multi:!0},r)}let c=i.providers;if(c!=null&&!l){let d=t;Ls(c,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function Ls(t,e){for(let n of t)Ts(n)&&(n=n.\u0275providers),Array.isArray(n)?Ls(n,e):e(n)}var jm=te({provide:String,useValue:te});function _c(t){return t!==null&&typeof t=="object"&&jm in t}function Km(t){return!!(t&&t.useExisting)}function Qm(t){return!!(t&&t.useFactory)}function fr(t){return typeof t=="function"}var co=new j(""),lr={},uc={},fs;function fo(){return fs===void 0&&(fs=new io),fs}var Re=class{},Ht=class extends Re{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,Es(e,s=>this.processProvider(s)),this.records.set(bs,_n(void 0,this)),r.has("environment")&&this.records.set(Re,_n(void 0,this));let i=this.records.get(co);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ps,Pe,{self:!0}))}retrieve(e,n){let o=Ut(n)||0;try{return this.get(e,Vt,o)}catch(r){if(dn(r))return r;throw r}}destroy(){ro(this),this._destroyed=!0;let e=V(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(e)}}onDestroy(e){return ro(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ro(this);let n=et(this),o=Ae(void 0),r;try{return e()}finally{et(n),Ae(o)}}get(e,n=Vt,o){if(ro(this),e.hasOwnProperty(ac))return e[ac](this);let r=Ut(o),i,s=et(this),l=Ae(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=og(e)&&gr(e);f&&this.injectableDefInScope(f)?d=_n(vs(e),lr):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let c=r&2?fo():this.parent;return n=r&8&&n===Vt?null:n,c.get(e,n)}catch(c){let d=$m(c);throw d===-200||d===-201?new z(d,null):c}finally{Ae(l),et(s)}}resolveInjectorInitializers(){let e=V(null),n=et(this),o=Ae(void 0),r;try{let i=this.get($t,Pe,{self:!0});for(let s of i)s()}finally{et(n),Ae(o),V(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(It(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=xe(e);let n=fr(e)?e:xe(e&&e.provide),o=eg(e);if(!fr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=_n(void 0,lr,!0),r.factory=()=>ys(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=V(null);try{if(n.value===uc)throw As(It(e));return n.value===lr&&(n.value=uc,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&ng(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{V(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vs(t){let e=gr(t),n=e!==null?e.factory:In(t);if(n!==null)return n;if(t instanceof j)throw new z(204,!1);if(t instanceof Function)return Xm(t);throw new z(204,!1)}function Xm(t){if(t.length>0)throw new z(204,!1);let n=Hm(t);return n!==null?()=>n.factory(t):()=>new t}function eg(t){if(_c(t))return _n(void 0,t.useValue);{let e=Ic(t);return _n(e,lr)}}function Ic(t,e,n){let o;if(fr(t)){let r=xe(t);return In(r)||vs(r)}else if(_c(t))o=()=>xe(t.useValue);else if(Qm(t))o=()=>t.useFactory(...ys(t.deps||[]));else if(Km(t))o=(r,i)=>X(xe(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=xe(t&&(t.useClass||t.provide));if(tg(t))o=()=>new r(...ys(t.deps));else return In(r)||vs(r)}return o}function ro(t){if(t.destroyed)throw new z(205,!1)}function _n(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tg(t){return!!t.deps}function ng(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function og(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Es(t,e){for(let n of t)Array.isArray(n)?Es(n,e):n&&Ts(n)?Es(n.\u0275providers,e):e(n)}function Sn(t,e){let n;t instanceof Ht?(ro(t),n=t):n=new hs(t);let o,r=et(n),i=Ae(void 0);try{return e()}finally{et(r),Ae(i)}}function Dc(){return pc()!==void 0||Jo()!=null}var $e=0,F=1,U=2,pe=3,Fe=4,Le=5,wn=6,Mn=7,ce=8,dt=9,nt=10,de=11,An=12,Os=13,zt=14,Oe=15,Tt=16,Wt=17,ot=18,po=19,Vs=20,ct=21,Cr=22,ft=23,Ne=24,_r=25,Jt=26,ye=27,Tc=1,Us=6,St=7,mo=8,Yt=9,ue=10;function pt(t){return Array.isArray(t)&&typeof t[Tc]=="object"}function qe(t){return Array.isArray(t)&&t[Tc]===!0}function Hs(t){return(t.flags&4)!==0}function Zt(t){return t.componentOffset>-1}function Ir(t){return(t.flags&1)===1}function jt(t){return!!t.template}function xn(t){return(t[U]&512)!==0}function Kt(t){return(t[U]&256)===256}var Bs="svg",Sc="math";function Ve(t){for(;Array.isArray(t);)t=t[$e];return t}function Gs(t,e){return Ve(e[t])}function rt(t,e){return Ve(e[t.index])}function go(t,e){return t.data[e]}function it(t,e){let n=e[t];return pt(n)?n:n[$e]}function wc(t){return(t[U]&4)===4}function Dr(t){return(t[U]&128)===128}function Mc(t){return qe(t[pe])}function st(t,e){return e==null?null:t[e]}function $s(t){t[Wt]=0}function qs(t){t[U]&1024||(t[U]|=1024,Dr(t)&&Qt(t))}function Ac(t,e){for(;t>0;)e=e[zt],t--;return e}function ho(t){return!!(t[U]&9216||t[Ne]?.dirty)}function Tr(t){t[nt].changeDetectionScheduler?.notify(8),t[U]&64&&(t[U]|=1024),ho(t)&&Qt(t)}function Qt(t){t[nt].changeDetectionScheduler?.notify(0);let e=Dt(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!Dr(e)));)e=Dt(e)}function zs(t,e){if(Kt(t))throw new z(911,!1);t[ct]===null&&(t[ct]=[]),t[ct].push(e)}function xc(t,e){if(t[ct]===null)return;let n=t[ct].indexOf(e);n!==-1&&t[ct].splice(n,1)}function Dt(t){let e=t[pe];return qe(e)?e[pe]:e}function Ws(t){return t[Mn]??=[]}function Js(t){return t.cleanup??=[]}function Nc(t,e,n,o){let r=Ws(e);r.push(n),t.firstCreatePass&&Js(t).push(o,r.length-1)}var $={lFrame:qc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cs=!1;function bc(){return $.lFrame.elementDepthCount}function Pc(){$.lFrame.elementDepthCount++}function Ys(){$.lFrame.elementDepthCount--}function Rc(){return $.bindingsEnabled}function kc(){return $.skipHydrationRootTNode!==null}function Zs(t){return $.skipHydrationRootTNode===t}function js(){$.skipHydrationRootTNode=null}function Y(){return $.lFrame.lView}function we(){return $.lFrame.tView}function R(t){return $.lFrame.contextLView=t,t[ce]}function k(t){return $.lFrame.contextLView=null,t}function be(){let t=Ks();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ks(){return $.lFrame.currentTNode}function Fc(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Nn(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function Qs(){return $.lFrame.isParent}function Lc(){$.lFrame.isParent=!1}function Xs(){return Cs}function bn(t){let e=Cs;return Cs=t,e}function Oc(){return $.lFrame.bindingIndex}function Vc(t){return $.lFrame.bindingIndex=t}function Pn(){return $.lFrame.bindingIndex++}function ea(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Uc(){return $.lFrame.inI18n}function Hc(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sr(e)}function Bc(){return $.lFrame.currentDirectiveIndex}function Sr(t){$.lFrame.currentDirectiveIndex=t}function Gc(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ta(){return $.lFrame.currentQueryIndex}function wr(t){$.lFrame.currentQueryIndex=t}function rg(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[Le]:null}function na(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=rg(i),r===null||(i=i[zt],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=$.lFrame=$c();return o.currentTNode=e,o.lView=t,!0}function Mr(t){let e=$c(),n=t[F];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $c(){let t=$.lFrame,e=t===null?null:t.child;return e===null?qc(t):e}function qc(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zc(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var oa=zc;function Ar(){let t=zc();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Wc(t){return($.lFrame.contextLView=Ac(t,$.lFrame.contextLView))[ce]}function mt(){return $.lFrame.selectedIndex}function wt(t){$.lFrame.selectedIndex=t}function ra(){let t=$.lFrame;return go(t.tView,t.selectedIndex)}function A(){$.lFrame.currentNamespace=Bs}function N(){ig()}function ig(){$.lFrame.currentNamespace=null}function Jc(){return $.lFrame.currentNamespace}var Yc=!0;function xr(){return Yc}function Nr(t){Yc=t}function _s(t,e=null,n=null,o){let r=Zc(t,e,n,o);return r.resolveInjectorInitializers(),r}function Zc(t,e=null,n=null,o,r=new Set){let i=[n||Pe,Ec(t)];return o=o||(typeof t=="object"?void 0:It(t)),new Ht(i,e||fo(),o||null,r)}var Ge=class t{static THROW_IF_NOT_FOUND=Vt;static NULL=new io;static create(e,n){if(Array.isArray(e))return _s({name:""},n,e,"");{let o=e.name??"";return _s({name:o},e.parent,e.providers,o)}}static \u0275prov=oe({token:t,providedIn:"any",factory:()=>X(bs)});static __NG_ELEMENT_ID__=-1},ze=new j(""),Xt=(()=>{class t{static __NG_ELEMENT_ID__=sg;static __NG_ENV_ID__=n=>n}return t})(),so=class extends Xt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Kt(this._lView)}onDestroy(e){let n=this._lView;return zs(n,e),()=>xc(n,e)}};function sg(){return new so(Y())}var ke=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new j("",{providedIn:"root",factory:()=>{let t=P(Re),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(ke),e.handleError(n))}}}),jc={provide:$t,useValue:()=>void P(ke),multi:!0};function W(t,e){let[n,o,r]=ns(t,e?.equal),i=n,s=i[Ie];return i.set=o,i.update=r,i.asReadonly=ia.bind(i),i}function ia(){let t=this[Ie];if(t.readonlyFn===void 0){let e=()=>this();e[Ie]=t,t.readonlyFn=e}return t.readonlyFn}var yo=(()=>{class t{view;node;constructor(n,o){this.view=n,this.node=o}static __NG_ELEMENT_ID__=ag}return t})();function ag(){return new yo(Y(),be())}var tt=class{},vo=new j("",{providedIn:"root",factory:()=>!1});var sa=new j(""),br=new j(""),en=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new oo(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Cn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})();function tn(...t){}var Eo=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new Is})}return t})(),Is=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}};function Ga(t){return{toString:t}.toString()}function yg(t){return typeof t=="function"}var Vr=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function Ad(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}function vg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Cg),Eg}function Eg(){let t=Nd(this),e=t?.current;if(e){let n=t.previous;if(n===Gt)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function Cg(t,e,n,o,r){let i=this.declaredInputs[o],s=Nd(t)||_g(t,{previous:Gt,current:null}),l=s.current||(s.current={}),c=s.previous,d=c[i];l[i]=new Vr(d&&d.currentValue,n,c===Gt),Ad(t,e,r,n)}var xd="__ngSimpleChanges__";function Nd(t){return t[xd]||null}function _g(t,e){return t[xd]=e}var Kc=[];var ne=function(t,e=null,n){for(let o=0;o<Kc.length;o++){let r=Kc[o];r(t,e,n)}};function Ig(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=vg(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Dg(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Rr(t,e,n){bd(t,e,3,n)}function kr(t,e,n,o){(t[U]&3)===n&&bd(t,e,n,o)}function aa(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function bd(t,e,n,o){let r=o!==void 0?t[Wt]&65535:0,i=o??-1,s=e.length-1,l=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(l=e[c],o!=null&&l>=o)break}else e[c]<0&&(t[Wt]+=65536),(l<i||i==-1)&&(Tg(t,n,e,c),t[Wt]=(t[Wt]&4294901760)+c+2),c++}function Qc(t,e){ne(4,t,e);let n=V(null);try{e.call(t)}finally{V(n),ne(5,t,e)}}function Tg(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],l=t[s];r?t[U]>>14<t[Wt]>>16&&(t[U]&3)===e&&(t[U]+=16384,Qc(l,i)):Qc(l,i)}var kn=-1,Io=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function Sg(t){return(t.flags&8)!==0}function wg(t){return(t.flags&16)!==0}function Mg(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],l=n[o++];t.setAttribute(e,s,l,i)}else{let i=r,s=n[++o];xg(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function Ag(t){return t===3||t===4||t===6}function xg(t){return t.charCodeAt(0)===64}function Xr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?Xc(t,n,r,null,e[++o]):Xc(t,n,r,null,null))}}return t}function Xc(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let l=t[i++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=i-1;break}}}for(;i<t.length;){let l=t[i];if(typeof l=="number")break;if(l===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function Pd(t){return t!==kn}function Ur(t){return t&32767}function Ng(t){return t>>16}function Hr(t,e){let n=Ng(t),o=e;for(;n>0;)o=o[zt],n--;return o}var ma=!0;function ed(t){let e=ma;return ma=t,e}var bg=256,Rd=bg-1,kd=5,Pg=0,at={};function Rg(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Bt)&&(o=n[Bt]),o==null&&(o=n[Bt]=Pg++);let r=o&Rd,i=1<<r;e.data[t+(r>>kd)]|=i}function Fd(t,e){let n=Ld(t,e);if(n!==-1)return n;let o=e[F];o.firstCreatePass&&(t.injectorIndex=e.length,ua(o.data,t),ua(e,null),ua(o.blueprint,null));let r=$a(t,e),i=t.injectorIndex;if(Pd(r)){let s=Ur(r),l=Hr(r,e),c=l[F].data;for(let d=0;d<8;d++)e[i+d]=l[s+d]|c[s+d]}return e[i+8]=r,i}function ua(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ld(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $a(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Bd(r),o===null)return kn;if(n++,r=r[zt],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return kn}function kg(t,e,n){Rg(t,e,n)}function Od(t,e,n){if(n&8||t!==void 0)return t;yr(e,"NodeInjector")}function Vd(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[dt],i=Ae(void 0);try{return r?r.get(e,o,n&8):xs(e,o,n&8)}finally{Ae(i)}}return Od(o,e,n)}function Ud(t,e,n,o=0,r){if(t!==null){if(e[U]&2048&&!(o&2)){let s=Vg(t,e,n,o,at);if(s!==at)return s}let i=Hd(t,e,n,o,at);if(i!==at)return i}return Vd(e,n,o,r)}function Hd(t,e,n,o,r){let i=Lg(n);if(typeof i=="function"){if(!na(e,t,o))return o&1?Od(r,n,o):Vd(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))yr(n);else return s}finally{oa()}}else if(typeof i=="number"){let s=null,l=Ld(t,e),c=kn,d=o&1?e[Oe][Le]:null;for((l===-1||o&4)&&(c=l===-1?$a(t,e):e[l+8],c===kn||!nd(o,!1)?l=-1:(s=e[F],l=Ur(c),e=Hr(c,e)));l!==-1;){let f=e[F];if(td(i,l,f.data)){let p=Fg(l,e,n,s,o,d);if(p!==at)return p}c=e[l+8],c!==kn&&nd(o,e[F].data[l+8]===d)&&td(i,l,e)?(s=f,l=Ur(c),e=Hr(c,e)):l=-1}}return r}function Fg(t,e,n,o,r,i){let s=e[F],l=s.data[t+8],c=o==null?Zt(l)&&ma:o!=s&&(l.type&3)!==0,d=r&1&&i===l,f=Fr(l,s,n,c,d);return f!==null?Br(e,s,f,l,r):at}function Fr(t,e,n,o,r){let i=t.providerIndexes,s=e.data,l=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?l:l+f,m=r?l+f:d;for(let y=p;y<m;y++){let E=s[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(r){let y=s[c];if(y&&jt(y)&&y.type===n)return c}return null}function Br(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof Io){let l=i;if(l.resolving){let y=cc(s[n]);throw As(y)}let c=ed(l.canSeeViewProviders);l.resolving=!0;let d=s[n].type||s[n],f,p=l.injectImpl?Ae(l.injectImpl):null,m=na(t,o,0);try{i=t[n]=l.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&Ig(n,s[n],e)}finally{p!==null&&Ae(p),ed(c),l.resolving=!1,oa()}}return i}function Lg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Bt)?t[Bt]:void 0;return typeof e=="number"?e>=0?e&Rd:Og:e}function td(t,e,n){let o=1<<t;return!!(n[e+(t>>kd)]&o)}function nd(t,e){return!(t&2)&&!(t&1&&e)}var nn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Ud(this._tNode,this._lView,e,Ut(o),n)}};function Og(){return new nn(be(),Y())}function Vg(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[U]&2048&&!xn(s);){let l=Hd(i,s,n,o|2,at);if(l!==at)return l;let c=i.parent;if(!c){let d=s[Vs];if(d){let f=d.get(n,at,o);if(f!==at)return f}c=Bd(s),s=s[zt]}i=c}return r}function Bd(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[Le]:null}function Ug(){return Un(be(),Y())}function Un(t,e){return new Hn(rt(t,e))}var Hn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ug}return t})();function Hg(t){return t instanceof Hn?t.nativeElement:t}function Bg(){return this._results[Symbol.iterator]()}var Gr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _t}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let o=gc(e);(this._changesDetected=!mc(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Bg};function Gd(t){return(t.flags&128)===128}var qa=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(qa||{}),$d=new Map,Gg=0;function $g(){return Gg++}function qg(t){$d.set(t[po],t)}function ga(t){$d.delete(t[po])}var od="__ngContext__";function Fn(t,e){pt(e)?(t[od]=e[po],qg(e)):t[od]=e}function qd(t){return Wd(t[An])}function zd(t){return Wd(t[Fe])}function Wd(t){for(;t!==null&&!qe(t);)t=t[Fe];return t}var ha;function za(t){ha=t}function Jd(){if(ha!==void 0)return ha;if(typeof document<"u")return document;throw new z(210,!1)}var ei=new j("",{providedIn:"root",factory:()=>zg}),zg="ng",ti=new j(""),No=new j("",{providedIn:"platform",factory:()=>"unknown"});var ni=new j("",{providedIn:"root",factory:()=>Jd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wg="h",Jg="b";var Yd="r";var Zd="di";var jd=!1,Kd=new j("",{providedIn:"root",factory:()=>jd});var Yg=(t,e,n,o)=>{};function Zg(t,e,n,o){Yg(t,e,n,o)}function Wa(t){return(t.flags&32)===32}var jg=()=>null;function Qd(t,e,n=!1){return jg(t,e,n)}function Xd(t,e){let n=t.contentQueries;if(n!==null){let o=V(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let l=t.data[s];wr(i),l.contentQueries(2,e[s],s)}}}finally{V(o)}}}function ya(t,e,n){wr(0);let o=V(null);try{e(t,n)}finally{V(o)}}function ef(t,e,n){if(Hs(e)){let o=V(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let l=t.data[s];if(l.contentQueries){let c=n[s];l.contentQueries(1,c,s)}}}finally{V(o)}}}var ht=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(ht||{});var $r=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pr})`}};function Ja(t){return t instanceof $r?t.changingThisBreaksApplicationSecurity:t}function tf(t,e){let n=nf(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pr})`)}return n===e}function nf(t){return t instanceof $r&&t.getTypeName()||null}var Kg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function of(t){return t=String(t),t.match(Kg)?t:"unsafe:"+t}var Ya=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Ya||{});function vt(t){let e=Qg();return e?e.sanitize(Ya.URL,t)||"":tf(t,"URL")?Ja(t):of(Dn(t))}function Qg(){let t=Y();return t&&t[nt].sanitizer}function Xg(t,e,n){let o=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let i=e.length;if(r+i===o||t.charCodeAt(r+i)<=32)return r}n=r+1}}var rf="ng-template";function eh(t,e,n,o){let r=0;if(o){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Xg(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Za(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&typeof(i=e[r])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Za(t){return t.type===4&&t.value!==rf}function th(t,e,n){let o=t.type===4&&!n?rf:t.value;return e===o}function nh(t,e,n){let o=4,r=t.attrs,i=r!==null?ih(r):0,s=!1;for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="number"){if(!s&&!We(o)&&!We(c))return!1;if(s&&We(c))continue;s=!1,o=c|o&1;continue}if(!s)if(o&4){if(o=2|o&1,c!==""&&!th(t,c,n)||c===""&&e.length===1){if(We(o))return!1;s=!0}}else if(o&8){if(r===null||!eh(t,r,c,n)){if(We(o))return!1;s=!0}}else{let d=e[++l],f=oh(c,r,Za(t),n);if(f===-1){if(We(o))return!1;s=!0;continue}if(d!==""){let p;if(f>i?p="":p=r[f+1].toLowerCase(),o&2&&d!==p){if(We(o))return!1;s=!0}}}}return We(o)||s}function We(t){return(t&1)===0}function oh(t,e,n,o){if(e===null)return-1;let r=0;if(o||!n){let i=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)i=!0;else if(s===1||s===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=i?1:2}return-1}else return sh(e,t)}function rh(t,e,n=!1){for(let o=0;o<e.length;o++)if(nh(t,e[o],n))return!0;return!1}function ih(t){for(let e=0;e<t.length;e++){let n=t[e];if(Ag(n))return e}return t.length}function sh(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let o=t[n];if(typeof o=="number")return-1;if(o===e)return n;n++}return-1}function rd(t,e){return t?":not("+e.trim()+")":e}function ah(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let l=t[++n];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!We(s)&&(e+=rd(i,r),r=""),o=s,i=i||!We(o);n++}return r!==""&&(e+=rd(i,r)),e}function uh(t){return t.map(ah).join(",")}function lh(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!We(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var Je={};function ch(t,e){return t.createText(e)}function dh(t,e,n){t.setValue(e,n)}function sf(t,e,n){return t.createElement(e,n)}function qr(t,e,n,o,r){t.insertBefore(e,n,o,r)}function af(t,e,n){t.appendChild(e,n)}function id(t,e,n,o,r){o!==null?qr(t,e,n,o,r):af(t,e,n)}function uf(t,e,n,o){t.removeChild(null,e,n,o)}function fh(t,e,n){t.setAttribute(e,"style",n)}function ph(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function lf(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&Mg(t,e,o),r!==null&&ph(t,e,r),i!==null&&fh(t,e,i)}function ja(t,e,n,o,r,i,s,l,c,d,f){let p=ye+o,m=p+r,y=mh(p,m),E=typeof d=="function"?d():d;return y[F]={type:t,blueprint:y,template:n,queries:null,viewQuery:l,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:f}}function mh(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:Je);return n}function gh(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ja(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ka(t,e,n,o,r,i,s,l,c,d,f){let p=e.blueprint.slice();return p[$e]=r,p[U]=o|4|128|8|64|1024,(d!==null||t&&t[U]&2048)&&(p[U]|=2048),$s(p),p[pe]=p[zt]=t,p[ce]=n,p[nt]=s||t&&t[nt],p[de]=l||t&&t[de],p[dt]=c||t&&t[dt]||null,p[Le]=i,p[po]=$g(),p[wn]=f,p[Vs]=d,p[Oe]=e.type==2?t[Oe]:p,p}function hh(t,e,n){let o=rt(e,t),r=gh(n),i=t[nt].rendererFactory,s=Qa(t,Ka(t,r,null,cf(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function cf(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function df(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function Qa(t,e){return t[An]?t[Os][Fe]=e:t[An]=e,t[Os]=e,e}function C(t=1){ff(we(),Y(),mt()+t,!1)}function ff(t,e,n,o){if(!o)if((e[U]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Rr(e,i,n)}else{let i=t.preOrderHooks;i!==null&&kr(e,i,0,n)}wt(n)}var oi=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(oi||{});function va(t,e,n,o){let r=V(null);try{let[i,s,l]=t.inputs[n],c=null;(s&oi.SignalBased)!==0&&(c=e[i][Ie]),c!==null&&c.transformFn!==void 0?o=c.transformFn(o):l!==null&&(o=l.call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):Ad(e,c,i,o)}finally{V(r)}}var yt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(yt||{}),yh;function Xa(t,e){return yh(t,e)}var on=new Set,eu=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(eu||{}),bo=new j(""),sd=new Set;function an(t){sd.has(t)||(sd.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var pf=!1,Ea=class extends _t{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Dc()&&(this.destroyRef=P(Xt,{optional:!0})??void 0,this.pendingTasks=P(en,{optional:!0})??void 0)}emit(e){let n=V(null);try{super.next(e)}finally{V(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:i,complete:s});return e instanceof De&&e.add(l),l}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},gt=Ea;function mf(t){let e,n;function o(){t=tn;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function ad(t){return queueMicrotask(()=>t()),()=>{t=tn}}var tu="isAngularZone",zr=tu+"_ID",vh=0,ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=pf}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,_h(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(tu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Eh,tn,tn);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},Eh={};function nu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ch(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mf(()=>{t.callbackScheduled=!1,Ca(t),t.isCheckStableRunning=!0,nu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ca(t)}function _h(t){let e=()=>{Ch(t)},n=vh++;t._inner=t._inner.fork({name:"angular",properties:{[tu]:!0,[zr]:n,[zr+n]:!0},onInvokeTask:(o,r,i,s,l,c)=>{if(Ih(c))return o.invokeTask(i,s,l,c);try{return ud(t),o.invokeTask(i,s,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ld(t)}},onInvoke:(o,r,i,s,l,c,d)=>{try{return ud(t),o.invoke(i,s,l,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Dh(c)&&e(),ld(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ca(t),nu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ca(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ud(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ld(t){t._nesting--,nu(t)}var Do=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function Ih(t){return gf(t,"__ignore_ng_zone__")}function Dh(t){return gf(t,"__scheduler_tick__")}function gf(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var hf=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})();var yf=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function vf(t,e,n){let o=t.get(yf);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function Th(t,e){let n=t.get(yf);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function Sh(t,e){for(let[n,o]of e)vf(t,o.animateFns)}function cd(t,e,n,o){let r=t?.[Jt]?.enter;e!==null&&r&&r.has(n.index)&&Sh(o,r)}function Rn(t,e,n,o,r,i,s,l){if(r!=null){let c,d=!1;qe(r)?c=r:pt(r)&&(d=!0,r=r[$e]);let f=Ve(r);t===0&&o!==null?(cd(l,o,i,n),s==null?af(e,o,f):qr(e,o,f,s||null,!0)):t===1&&o!==null?(cd(l,o,i,n),qr(e,o,f,s||null,!0)):t===2?dd(l,i,n,p=>{uf(e,f,d,p)}):t===3&&dd(l,i,n,()=>{e.destroyNode(f)}),c!=null&&Vh(e,t,n,c,i,o,s)}}function wh(t,e){Ef(t,e),e[$e]=null,e[Le]=null}function Mh(t,e,n,o,r,i){o[$e]=r,o[Le]=e,ii(t,o,n,1,r,i)}function Ef(t,e){e[nt].changeDetectionScheduler?.notify(9),ii(t,e,e[de],2,null,null)}function Ah(t){let e=t[An];if(!e)return la(t[F],t);for(;e;){let n=null;if(pt(e))n=e[An];else{let o=e[ue];o&&(n=o)}if(!n){for(;e&&!e[Fe]&&e!==t;)pt(e)&&la(e[F],e),e=e[pe];e===null&&(e=t),pt(e)&&la(e[F],e),n=e&&e[Fe]}e=n}}function ou(t,e){let n=t[Yt],o=n.indexOf(e);n.splice(o,1)}function ri(t,e){if(Kt(e))return;let n=e[de];n.destroyNode&&ii(t,e,n,3,null,null),Ah(e)}function la(t,e){if(Kt(e))return;let n=V(null);try{e[U]&=-129,e[U]|=256,e[Ne]&&Ft(e[Ne]),bh(t,e),Nh(t,e),e[F].type===1&&e[de].destroy();let o=e[Tt];if(o!==null&&qe(e[pe])){o!==e[pe]&&ou(o,e);let r=e[ot];r!==null&&r.detachView(t)}ga(e)}finally{V(n)}}function dd(t,e,n,o){let r=t?.[Jt];if(r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&on.add(t),vf(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),l=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:f}=d();l.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(l),xh(t,o)}else t&&on.delete(t),o(!1)},r)}function xh(t,e){let n=t[Jt]?.running;if(n){n.then(()=>{t[Jt].running=void 0,on.delete(t),e(!0)});return}e(!1)}function Nh(t,e){let n=t.cleanup,o=e[Mn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else{let l=o[n[s+1]];n[s].call(l)}o!==null&&(e[Mn]=null);let r=e[ct];if(r!==null){e[ct]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let i=e[ft];if(i!==null){e[ft]=null;for(let s of i)s.destroy()}}function bh(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof Io)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=r[i[s]],c=i[s+1];ne(4,l,c);try{c.call(l)}finally{ne(5,l,c)}}else{ne(4,r,i);try{i.call(r)}finally{ne(5,r,i)}}}}}function Ph(t,e,n){return Rh(t,e.parent,n)}function Rh(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[$e];if(Zt(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===ht.None||r===ht.Emulated)return null}return rt(o,n)}function kh(t,e,n){return Lh(t,e,n)}function Fh(t,e,n){return t.type&40?rt(t,n):null}var Lh=Fh,fd;function ru(t,e,n,o){let r=Ph(t,o,e),i=e[de],s=o.parent||e[Le],l=kh(s,o,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)id(i,r,n[c],l,!1);else id(i,r,n,l,!1);fd!==void 0&&fd(i,o,e,n,r)}function Co(t,e){if(e!==null){let n=e.type;if(n&3)return rt(e,t);if(n&4)return _a(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return Co(t,o);{let r=t[e.index];return qe(r)?_a(-1,r):Ve(r)}}else{if(n&128)return Co(t,e.next);if(n&32)return Xa(e,t)()||Ve(t[e.index]);{let o=Cf(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=Dt(t[Oe]);return Co(r,o)}else return Co(t,e.next)}}}return null}function Cf(t,e){if(e!==null){let o=t[Oe][Le],r=e.projection;return o.projection[r]}return null}function _a(t,e){let n=ue+t+1;if(n<e.length){let o=e[n],r=o[F].firstChild;if(r!==null)return Co(o,r)}return e[St]}function iu(t,e,n,o,r,i,s){for(;n!=null;){let l=o[dt];if(n.type===128){n=n.next;continue}let c=o[n.index],d=n.type;if(s&&e===0&&(c&&Fn(Ve(c),o),n.flags|=2),!Wa(n))if(d&8)iu(t,e,n.child,o,r,i,!1),Rn(e,t,l,r,c,n,i,o);else if(d&32){let f=Xa(n,o),p;for(;p=f();)Rn(e,t,l,r,p,n,i,o);Rn(e,t,l,r,c,n,i,o)}else d&16?Oh(t,e,o,n,r,i):Rn(e,t,l,r,c,n,i,o);n=s?n.projectionNext:n.next}}function ii(t,e,n,o,r,i){iu(n,o,t.firstChild,e,r,i,!1)}function Oh(t,e,n,o,r,i){let s=n[Oe],c=s[Le].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];Rn(e,t,n[dt],r,f,o,i,n)}else{let d=c,f=s[pe];Gd(o)&&(d.flags|=128),iu(t,e,d,f,r,i,!0)}}function Vh(t,e,n,o,r,i,s){let l=o[St],c=Ve(o);l!==c&&Rn(e,t,n,i,l,r,s);for(let d=ue;d<o.length;d++){let f=o[d];ii(f[F],f,t,e,i,l)}}function Uh(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:yt.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=yt.Important),t.setStyle(n,o,r,i))}}function _f(t,e,n,o,r){let i=mt(),s=o&2;try{wt(-1),s&&e.length>ye&&ff(t,e,ye,!1),ne(s?2:0,r,n),n(o,r)}finally{wt(i),ne(s?3:1,r,n)}}function If(t,e,n){Wh(t,e,n),(n.flags&64)===64&&Jh(t,e,n)}function su(t,e,n=rt){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],l=s===-1?n(e,t):t[s];t[r++]=l}}}function Hh(t,e,n,o){let i=o.get(Kd,jd)||n===ht.ShadowDom,s=t.selectRootElement(e,i);return Bh(s),s}function Bh(t){Gh(t)}var Gh=()=>null;function $h(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qh(t,e,n,o,r,i){let s=e[F];if(au(t,s,e,n,o)){Zt(t)&&zh(e,t.index);return}t.type&3&&(n=$h(n)),Df(t,e,n,o,r,i)}function Df(t,e,n,o,r,i){if(t.type&3){let s=rt(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function zh(t,e){let n=it(e,t);n[U]&16||(n[U]|=64)}function Wh(t,e,n){let o=n.directiveStart,r=n.directiveEnd;Zt(n)&&hh(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Fd(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let l=t.data[s],c=Br(e,t,s,n);if(Fn(c,e),i!==null&&jh(e,s-o,c,l,n,i),jt(l)){let d=it(n.index,e);d[ce]=Br(e,t,s,n)}}}function Jh(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Bc();try{wt(i);for(let l=o;l<r;l++){let c=t.data[l],d=e[l];Sr(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Yh(c,d)}}finally{wt(-1),Sr(s)}}function Yh(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Zh(t,e){let n=t.directiveRegistry,o=null;if(n)for(let r=0;r<n.length;r++){let i=n[r];rh(e,i.selectors,!1)&&(o??=[],jt(i)?o.unshift(i):o.push(i))}return o}function jh(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1];va(o,n,c,d)}}function Tf(t,e,n,o,r){let i=ye+n,s=e[F],l=r(s,e,t,o,n);e[i]=l,Nn(t,!0);let c=t.type===2;return c?(lf(e[de],l,t),(bc()===0||Ir(t))&&Fn(l,e),Pc()):Fn(l,e),xr()&&(!c||!Wa(t))&&ru(s,e,l,t),t}function Sf(t){let e=t;return Qs()?Lc():(e=e.parent,Nn(e,!1)),e}function Kh(t,e){let n=t[dt];if(!n)return;let o;try{o=n.get(Mt,null)}catch{o=null}o?.(e)}function au(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],l=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],f=s[c+1],p=e.data[d];va(p,n[d],f,r),l=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];va(f,d,o,r),l=!0}return l}function Qh(t,e){let n=it(e,t),o=n[F];Xh(o,n);let r=n[$e];r!==null&&n[wn]===null&&(n[wn]=Qd(r,n[dt])),ne(18),uu(o,n,n[ce]),ne(19,n[ce])}function Xh(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function uu(t,e,n){Mr(e);try{let o=t.viewQuery;o!==null&&ya(1,o,n);let r=t.template;r!==null&&_f(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ot]?.finishViewCreation(t),t.staticContentQueries&&Xd(t,e),t.staticViewQueries&&ya(2,t.viewQuery,n);let i=t.components;i!==null&&e0(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[U]&=-5,Ar()}}function e0(t,e){for(let n=0;n<e.length;n++)Qh(t,e[n])}function si(t,e,n,o){let r=V(null);try{let i=e.tView,l=t[U]&4096?4096:16,c=Ka(t,i,n,l,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];c[Tt]=d;let f=t[ot];return f!==null&&(c[ot]=f.createEmbeddedView(i)),uu(i,c,n),c}finally{V(r)}}function To(t,e){return!e||e.firstChild===null||Gd(t)}function So(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(Ve(i)),qe(i)&&wf(i,o);let s=n.type;if(s&8)So(t,e,n.child,o);else if(s&32){let l=Xa(n,e),c;for(;c=l();)o.push(c)}else if(s&16){let l=Cf(e,n);if(Array.isArray(l))o.push(...l);else{let c=Dt(e[Oe]);So(c[F],c,l,o,!0)}}n=r?n.projectionNext:n.next}return o}function wf(t,e){for(let n=ue;n<t.length;n++){let o=t[n],r=o[F].firstChild;r!==null&&So(o[F],o,r,e)}t[St]!==t[$e]&&e.push(t[St])}function Mf(t){if(t[_r]!==null){for(let e of t[_r])e.impl.addSequence(e);t[_r].length=0}}var Af=[];function t0(t){return t[Ne]??n0(t)}function n0(t){let e=Af.pop()??Object.create(r0);return e.lView=t,e}function o0(t){t.lView[Ne]!==t&&(t.lView=null,Af.push(t))}var r0=le(se({},Rt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Qt(t.lView)},consumerOnSignalRead(){this.lView[Ne]=this}});function i0(t){let e=t[Ne]??Object.create(s0);return e.lView=t,e}var s0=le(se({},Rt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Dt(t.lView);for(;e&&!xf(e[F]);)e=Dt(e);e&&qs(e)},consumerOnSignalRead(){this.lView[Ne]=this}});function xf(t){return t.type!==2}function Nf(t){if(t[ft]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[ft])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[U]&8192)}}var a0=100;function bf(t,e=0){let o=t[nt].rendererFactory,r=!1;r||o.begin?.();try{u0(t,e)}finally{r||o.end?.()}}function u0(t,e){let n=Xs();try{bn(!0),Ia(t,e);let o=0;for(;ho(t);){if(o===a0)throw new z(103,!1);o++,Ia(t,1)}}finally{bn(n)}}function l0(t,e,n,o){if(Kt(e))return;let r=e[U],i=!1,s=!1;Mr(e);let l=!0,c=null,d=null;i||(xf(t)?(d=t0(e),c=kt(d)):Qo()===null?(l=!1,d=i0(e),c=kt(d)):e[Ne]&&(Ft(e[Ne]),e[Ne]=null));try{$s(e),Vc(t.bindingStartIndex),n!==null&&_f(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let y=t.preOrderCheckHooks;y!==null&&Rr(e,y,null)}else{let y=t.preOrderHooks;y!==null&&kr(e,y,0,null),aa(e,0)}if(s||c0(e),Nf(e),Pf(e,0),t.contentQueries!==null&&Xd(t,e),!i)if(f){let y=t.contentCheckHooks;y!==null&&Rr(e,y)}else{let y=t.contentHooks;y!==null&&kr(e,y,1),aa(e,1)}f0(t,e);let p=t.components;p!==null&&kf(e,p,0);let m=t.viewQuery;if(m!==null&&ya(2,m,o),!i)if(f){let y=t.viewCheckHooks;y!==null&&Rr(e,y)}else{let y=t.viewHooks;y!==null&&kr(e,y,2),aa(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cr]){for(let y of e[Cr])y();e[Cr]=null}i||(Mf(e),e[U]&=-73)}catch(f){throw i||Qt(e),f}finally{d!==null&&(pn(d,c),l&&o0(d)),Ar()}}function Pf(t,e){for(let n=qd(t);n!==null;n=zd(n))for(let o=ue;o<n.length;o++){let r=n[o];Rf(r,e)}}function c0(t){for(let e=qd(t);e!==null;e=zd(e)){if(!(e[U]&2))continue;let n=e[Yt];for(let o=0;o<n.length;o++){let r=n[o];qs(r)}}}function d0(t,e,n){ne(18);let o=it(e,t);Rf(o,n),ne(19,o[ce])}function Rf(t,e){Dr(t)&&Ia(t,e)}function Ia(t,e){let o=t[F],r=t[U],i=t[Ne],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&mn(i)),s||=!1,i&&(i.dirty=!1),t[U]&=-9217,s)l0(o,t,o.template,t[ce]);else if(r&8192){let l=V(null);try{Nf(t),Pf(t,1);let c=o.components;c!==null&&kf(t,c,1),Mf(t)}finally{V(l)}}}function kf(t,e,n){for(let o=0;o<e.length;o++)d0(t,e[o],n)}function f0(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)wt(~r);else{let i=r,s=n[++o],l=n[++o];Hc(s,i);let c=e[i];ne(24,c),l(2,c),ne(25,c)}}}finally{wt(-1)}}function lu(t,e){let n=Xs()?64:1088;for(t[nt].changeDetectionScheduler?.notify(e);t;){t[U]|=n;let o=Dt(t);if(xn(t)&&!o)return t;t=o}return null}function Ff(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function Lf(t,e){let n=ue+e;if(n<t.length)return t[n]}function ai(t,e,n,o=!0){let r=e[F];if(p0(r,e,t,n),o){let s=_a(n,t),l=e[de],c=l.parentNode(t[St]);c!==null&&Mh(r,t[Le],l,e,c,s)}let i=e[wn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Of(t,e){let n=wo(t,e);return n!==void 0&&ri(n[F],n),n}function wo(t,e){if(t.length<=ue)return;let n=ue+e,o=t[n];if(o){let r=o[Tt];r!==null&&r!==t&&ou(r,o),e>0&&(t[n-1][Fe]=o[Fe]);let i=lo(t,ue+e);wh(o[F],o);let s=i[ot];s!==null&&s.detachView(i[F]),o[pe]=null,o[Fe]=null,o[U]&=-129}return o}function p0(t,e,n,o){let r=ue+o,i=n.length;o>0&&(n[r-1][Fe]=e),o<i-ue?(e[Fe]=n[r],Ns(n,ue+o,e)):(n.push(e),e[Fe]=null),e[pe]=n;let s=e[Tt];s!==null&&n!==s&&Vf(s,e);let l=e[ot];l!==null&&l.insertView(t),Tr(e),e[U]|=128}function Vf(t,e){let n=t[Yt],o=e[pe];if(pt(o))t[U]|=2;else{let r=o[pe][Oe];e[Oe]!==r&&(t[U]|=2)}n===null?t[Yt]=[e]:n.push(e)}var Ln=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[F];return So(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ce]}set context(e){this._lView[ce]=e}get destroyed(){return Kt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pe];if(qe(e)){let n=e[mo],o=n?n.indexOf(this):-1;o>-1&&(wo(e,o),lo(n,o))}this._attachedToViewContainer=!1}ri(this._lView[F],this._lView)}onDestroy(e){zs(this._lView,e)}markForCheck(){lu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){Tr(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,bf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xn(this._lView),n=this._lView[Tt];n!==null&&!e&&ou(n,this._lView),Ef(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=xn(this._lView),o=this._lView[Tt];o!==null&&!n&&Vf(o,this._lView),Tr(this._lView)}};var On=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=m0;constructor(n,o,r){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,r){let i=si(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:r});return new Ln(i)}}return t})();function m0(){return cu(be(),Y())}function cu(t,e){return t.type&4?new On(e,t,Un(t,e)):null}function ui(t,e,n,o,r){let i=t.data[e];if(i===null)i=g0(t,e,n,o,r),Uc()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=Fc();i.injectorIndex=s===null?-1:s.injectorIndex}return Nn(i,!0),i}function g0(t,e,n,o,r){let i=Ks(),s=Qs(),l=s?i:i&&i.parent,c=t.data[e]=y0(t,l,n,e,o,r);return h0(t,c,i,s),c}function h0(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function y0(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,l=0;return kc()&&(l|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var LA=new RegExp(`^(\\d+)*(${Jg}|${Wg})*(.*)`);function v0(t){let e=t[Us]??[],o=t[pe][de],r=[];for(let i of e)i.data[Zd]!==void 0?r.push(i):E0(i,o);t[Us]=r}function E0(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[Yd];for(;n<r;){let i=o.nextSibling;uf(e,o,!1),o=i,n++}}}var C0=()=>null,_0=()=>null;function Da(t,e){return C0(t,e)}function Uf(t,e,n){return _0(t,e,n)}var Hf=class{},li=class{},Ta=class{resolveComponentFactory(e){throw new z(917,!1)}},ci=class{static NULL=new Ta},rn=class{};var Bf=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}return t})();var Lr={},Sa=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,Lr,o);return r!==Lr||n===Lr?r:this.parentInjector.get(e,n,o)}};function Wr(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")i=l;else if(i==1)r=Ds(r,l);else if(i==2){let c=l,d=e[++s];o=Ds(o,c+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function du(t,e=0){let n=Y();if(n===null)return X(t,e);let o=be();return Ud(o,n,xe(t),e)}function I0(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let l=s,c=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[l,c,d]=f.resolveHostDirectives(s);break}S0(t,e,n,l,i,c,d)}i!==null&&o!==null&&D0(n,o,i)}function D0(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new z(-301,!1);o.push(e[r],i)}}function T0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function S0(t,e,n,o,r,i,s){let l=o.length,c=!1;for(let m=0;m<l;m++){let y=o[m];!c&&jt(y)&&(c=!0,T0(t,n,m)),kg(Fd(n,e),t,y.type)}b0(n,t.data.length,l);for(let m=0;m<l;m++){let y=o[m];y.providersResolver&&y.providersResolver(y)}let d=!1,f=!1,p=df(t,e,l,null);l>0&&(n.directiveToIndex=new Map);for(let m=0;m<l;m++){let y=o[m];if(n.mergedAttrs=Xr(n.mergedAttrs,y.hostAttrs),M0(t,n,e,p,y),N0(p,y,r),s!==null&&s.has(y)){let[_,I]=s.get(y);n.directiveToIndex.set(y.type,[p,_+n.directiveStart,I+n.directiveStart])}else(i===null||!i.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let E=y.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}w0(t,n,i)}function w0(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))pd(0,e,r,o),pd(1,e,r,o),gd(e,o,!1);else{let i=n.get(r);md(0,e,i,o),md(1,e,i,o),gd(e,o,!0)}}}function pd(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),Gf(e,i)}}function md(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],l;t===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(o,i),Gf(e,s)}}function Gf(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function gd(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||Za(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,l=0;for(;l<o.length;){let c=o[l];if(c===0){l+=4;continue}else if(c===5){l+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let d=r[c];for(let f of d)if(f===e){s??=[],s.push(c,o[l+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[l+1]);break}}l+=2}t.initialInputs??=[],t.initialInputs.push(s)}function M0(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=In(r.type,!0)),s=new Io(i,jt(r),du,null);t.blueprint[o]=s,n[o]=s,A0(t,e,o,df(t,n,r.hostVars,Je),r)}function A0(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let l=~e.index;x0(s)!=l&&s.push(l),s.push(n,o,i)}}function x0(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function N0(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;jt(e)&&(n[""]=t)}}function b0(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $f(t,e,n,o,r,i,s,l){let c=e[F],d=c.consts,f=st(d,s),p=ui(c,t,n,o,f);return i&&I0(c,e,p,st(d,l),r),p.mergedAttrs=Xr(p.mergedAttrs,p.attrs),p.attrs!==null&&Wr(p,p.attrs,!1),p.mergedAttrs!==null&&Wr(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function qf(t,e){Dg(t,e),Hs(e)&&t.queries.elementEnd(e)}function P0(t,e,n,o,r,i){let s=e.consts,l=st(s,r),c=ui(e,t,n,o,l);if(c.mergedAttrs=Xr(c.mergedAttrs,c.attrs),i!=null){let d=st(s,i);c.localNames=[];for(let f=0;f<d.length;f+=2)c.localNames.push(d[f],-1)}return c.attrs!==null&&Wr(c,c.attrs,!1),c.mergedAttrs!==null&&Wr(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function At(t,e,n){if(n===Je)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function R0(t,e,n,o){let r=At(t,e,n);return At(t,e+1,o)||r}function Or(t,e,n){return function o(r){let i=Zt(t)?it(t.index,e):e;lu(i,5);let s=e[ce],l=hd(e,s,n,r),c=o.__ngNextListenerFn__;for(;c;)l=hd(e,s,c,r)&&l,c=c.__ngNextListenerFn__;return l}}function hd(t,e,n,o){let r=V(null);try{return ne(6,e,n),n(o)!==!1}catch(i){return Kh(t,i),!1}finally{ne(7,e,n),V(r)}}function zf(t,e,n,o,r,i,s,l){let c=Ir(t),d=!1,f=null;if(!o&&c&&(f=F0(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=rt(t,n),m=o?o(p):p;Zg(n,m,i,l);let y=r.listen(m,i,l);if(!k0(i)){let E=o?_=>o(Ve(_[t.index])):t.index;Wf(E,e,n,i,l,y,!1)}}return d}function k0(t){return t.startsWith("animation")||t.startsWith("transition")}function F0(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let l=e[Mn],c=r[i+2];return l&&l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function Wf(t,e,n,o,r,i,s){let l=e.firstCreatePass?Js(e):null,c=Ws(n),d=c.length;c.push(r,i),l&&l.push(o,t,d,(d+1)*(s?-1:1))}function yd(t,e,n,o,r,i){let s=e[n],l=e[F],d=l.data[n].outputs[o],p=s[d].subscribe(i);Wf(t.index,l,e,r,i,p,!0)}var wa=Symbol("BINDING");var Ma=class extends ci{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qt(e);return new Mo(n,this.ngModule)}};function L0(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&oi.SignalBased)!==0};return r&&(i.transform=r),i})}function O0(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function V0(t,e,n){let o=e instanceof Re?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new Sa(n,o):n}function U0(t){let e=t.get(rn,null);if(e===null)throw new z(407,!1);let n=t.get(Bf,null),o=t.get(tt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function H0(t,e){let n=Jf(t);return sf(e,n,n==="svg"?Bs:n==="math"?Sc:null)}function Jf(t){return(t.selectors[0][0]||"div").toLowerCase()}var Mo=class extends li{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L0(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=O0(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=uh(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){ne(22);let l=V(null);try{let c=this.componentDef,d=B0(o,c,s,i),f=V0(c,r||this.ngModule,e),p=U0(f),m=p.rendererFactory.createRenderer(null,c),y=o?Hh(m,o,c.encapsulation,f):H0(c,m),E=s?.some(vd)||i?.some(T=>typeof T!="function"&&T.bindings.some(vd)),_=Ka(null,d,null,512|cf(c),null,null,p,m,f,null,Qd(y,f,!0));_[ye]=y,Mr(_);let I=null;try{let T=$f(ye,_,2,"#host",()=>d.directiveRegistry,!0,0);lf(m,y,T),Fn(y,_),If(d,_,T),ef(d,T,_),qf(d,T),n!==void 0&&$0(T,this.ngContentSelectors,n),I=it(T.index,_),_[ce]=I[ce],uu(d,_,null)}catch(T){throw I!==null&&ga(I),ga(_),T}finally{ne(23),Ar()}return new Jr(this.componentType,_,!!E)}finally{V(l)}}};function B0(t,e,n,o){let r=t?["ng-version","20.3.12"]:lh(e.selectors[0]),i=null,s=null,l=0;if(n)for(let f of n)l+=f[wa].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let m of p.bindings){l+=m[wa].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(i??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let c=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,m=Rs(p);c.push(m)}return ja(0,null,G0(i,s),1,l,c,null,null,null,[r],null)}function G0(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function vd(t){let e=t[wa].kind;return e==="input"||e==="twoWay"}var Jr=class extends Hf{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=go(n[F],ye),this.location=Un(this._tNode,n),this.instance=it(this._tNode.index,n)[ce],this.hostView=this.changeDetectorRef=new Ln(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=au(o,r[F],r,e,n);this.previousInputValues.set(e,n);let s=it(o.index,r);lu(s,1)}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $0(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=q0}return t})();function q0(){let t=be();return Zf(t,Y())}var z0=Po,Yf=class extends z0{_lContainer;_hostTNode;_hostLView;constructor(e,n,o){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=o}get element(){return Un(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){let e=$a(this._hostTNode,this._hostLView);if(Pd(e)){let n=Hr(e,this._hostLView),o=Ur(e),r=n[F].data[o+8];return new nn(r,n)}else return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ed(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ue}createEmbeddedView(e,n,o){let r,i;typeof o=="number"?r=o:o!=null&&(r=o.index,i=o.injector);let s=Da(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(l,r,To(this._hostTNode,s)),l}createComponent(e,n,o,r,i,s,l){let c=e&&!yg(e),d;if(c)d=n;else{let I=n||{};d=I.index,o=I.injector,r=I.projectableNodes,i=I.environmentInjector||I.ngModuleRef,s=I.directives,l=I.bindings}let f=c?e:new Mo(qt(e)),p=o||this.parentInjector;if(!i&&f.ngModule==null){let T=(c?p:this.parentInjector).get(Re,null);T&&(i=T)}let m=qt(f.componentType??{}),y=Da(this._lContainer,m?.id??null),E=y?.firstChild??null,_=f.create(p,r,E,i,s,l);return this.insertImpl(_.hostView,d,To(this._hostTNode,y)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,o){let r=e._lView;if(Mc(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let c=r[pe],d=new Yf(c,c[Le],c[pe]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return ai(s,r,i,o),e.attachToViewContainerRef(),Ns(ca(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ed(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),o=wo(this._lContainer,n);o&&(lo(ca(this._lContainer),n),ri(o[F],o))}detach(e){let n=this._adjustIndex(e,-1),o=wo(this._lContainer,n);return o&&lo(ca(this._lContainer),n)!=null?new Ln(o):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ed(t){return t[mo]}function ca(t){return t[mo]||(t[mo]=[])}function Zf(t,e){let n,o=e[t.index];return qe(o)?n=o:(n=Ff(o,e,null,t),e[t.index]=n,Qa(e,n)),J0(n,e,t,o),new Yf(n,t,e)}function W0(t,e){let n=t[de],o=n.createComment(""),r=rt(e,t),i=n.parentNode(r);return qr(n,i,o,n.nextSibling(r),!1),o}var J0=j0,Y0=()=>!1;function Z0(t,e,n){return Y0(t,e,n)}function j0(t,e,n,o){if(t[St])return;let r;n.type&8?r=Ve(o):r=W0(e,n),t[St]=r}var Aa=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},xa=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let o=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let i=0;i<o;i++){let s=n.getByIndex(i),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)fu(e,n).matches!==null&&this.queries[n].setDirty()}},Na=class{flags;read;predicate;constructor(e,n,o=null){this.flags=n,this.read=o,typeof e=="string"?this.predicate=ry(e):this.predicate=e}},ba=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pa=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=e.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let i=o[r];this.matchTNodeWithReadOption(e,n,K0(n,i)),this.matchTNodeWithReadOption(e,n,Fr(n,e,i,!1,!1))}else o===On?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fr(n,e,o,!1,!1))}matchTNodeWithReadOption(e,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===Hn||r===Po||r===On&&n.type&4)this.addMatch(n.index,-2);else{let i=Fr(n,e,r,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,o)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function K0(t,e){let n=t.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1]}return null}function Q0(t,e){return t.type&11?Un(t,e):t.type&4?cu(t,e):null}function X0(t,e,n,o){return n===-1?Q0(e,t):n===-2?ey(t,e,o):Br(t,t[F],n,e)}function ey(t,e,n){if(n===Hn)return Un(e,t);if(n===On)return cu(e,t);if(n===Po)return Zf(e,t)}function jf(t,e,n,o){let r=e[ot].queries[o];if(r.matches===null){let i=t.data,s=n.matches,l=[];for(let c=0;s!==null&&c<s.length;c+=2){let d=s[c];if(d<0)l.push(null);else{let f=i[d];l.push(X0(e,f,s[c+1],n.metadata.read))}}r.matches=l}return r.matches}function Ra(t,e,n,o){let r=t.queries.getByIndex(n),i=r.matches;if(i!==null){let s=jf(t,e,r,n);for(let l=0;l<i.length;l+=2){let c=i[l];if(c>0)o.push(s[l/2]);else{let d=i[l+1],f=e[-c];for(let p=ue;p<f.length;p++){let m=f[p];m[Tt]===m[pe]&&Ra(m[F],m,d,o)}if(f[Yt]!==null){let p=f[Yt];for(let m=0;m<p.length;m++){let y=p[m];Ra(y[F],y,d,o)}}}}}return o}function ty(t,e){return t[ot].queries[e].queryList}function ny(t,e,n){let o=new Gr((n&4)===4);return Nc(t,e,o,o.destroy),(e[ot]??=new xa).queries.push(new Aa(o))-1}function oy(t,e,n){let o=we();return o.firstCreatePass&&(iy(o,new Na(t,e,n),-1),(e&2)===2&&(o.staticViewQueries=!0)),ny(o,Y(),e)}function ry(t){return t.split(",").map(e=>e.trim())}function iy(t,e,n){t.queries===null&&(t.queries=new ba),t.queries.track(new Pa(e,n))}function fu(t,e){return t.queries.getByIndex(e)}function sy(t,e){let n=t[F],o=fu(n,e);return o.crossesNgTemplate?Ra(n,t,e,[]):jf(n,t,o,e)}var Yr=class{};var Ao=class extends Yr{injector;componentFactoryResolver=new Ma(this);instance=null;constructor(e){super();let n=new Ht([...e.providers,{provide:Yr,useValue:this},{provide:ci,useValue:this.componentFactoryResolver}],e.parent||fo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kf(t,e,n=null){return new Ao({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ay=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=Fs(!1,n.type),r=o.length>0?Kf([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(X(Re))})}return t})();function ve(t){return Ga(()=>{let e=dy(t),n=le(se({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(ay).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ht.Emulated,styles:t.styles||Pe,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&an("NgStandalone"),fy(n);let o=t.dependencies;return n.directiveDefs=Cd(o,uy),n.pipeDefs=Cd(o,vc),n.id=py(n),n})}function uy(t){return qt(t)||Rs(t)}function di(t){return Ga(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ly(t,e){if(t==null)return Gt;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,l,c;Array.isArray(r)?(l=r[0],i=r[1],s=r[2]??i,c=r[3]||null):(i=r,s=r,l=oi.None,c=null),n[i]=[o,l,c],e[i]=s}return n}function cy(t){if(t==null)return Gt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function dy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Gt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ly(t.inputs,e),outputs:cy(t.outputs),debugInfo:null}}function fy(t){t.features?.forEach(e=>e(t))}function Cd(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function py(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function my(t,e,n,o,r,i,s,l){if(n.firstCreatePass){t.mergedAttrs=Xr(t.mergedAttrs,t.attrs);let f=t.tView=ja(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}l&&(t.flags|=l),Nn(t,!1);let c=gy(n,e,t,o);xr()&&ru(n,e,c,t),Fn(c,e);let d=Ff(c,e,c,t);e[o+ye]=d,Qa(e,d),Z0(d,t,e)}function Zr(t,e,n,o,r,i,s,l,c,d,f){let p=n+ye,m;if(e.firstCreatePass){if(m=ui(e,p,4,s||null,l||null),d!=null){let y=st(e.consts,d);m.localNames=[];for(let E=0;E<y.length;E+=2)m.localNames.push(y[E],-1)}}else m=e.data[p];return my(m,t,e,n,o,r,i,c),d!=null&&su(t,m,f),m}var gy=hy;function hy(t,e,n,o){return Nr(!0),e[de].createComment("")}var pu=new j("");function mu(t){return!!t&&typeof t.then=="function"}function Qf(t){return!!t&&typeof t.subscribe=="function"}var Xf=new j("");var gu=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=P(Xf,{optional:!0})??[];injector=P(Ge);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=Sn(this.injector,r);if(mu(i))n.push(i);else if(Qf(i)){let s=new Promise((l,c)=>{i.subscribe({complete:l,error:c})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ep=new j("");function tp(){ts(()=>{let t="";throw new z(600,t)})}function np(t){return t.isBoundToModule}var yy=10;var Ro=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Mt);afterRenderManager=P(hf);zonelessEnabled=P(vo);rootEffectScheduler=P(Eo);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _t;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(en);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ds(n=>!n))}constructor(){P(bo,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=P(Re);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=Ge.NULL){return this._injector.get(ge).run(()=>{ne(10);let s=n instanceof li;if(!this._injector.get(gu).done){let E="";throw new z(405,E)}let c;s?c=n:c=this._injector.get(ci).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=np(c)?void 0:this._injector.get(Yr),f=o||c.selector,p=c.create(r,[],f,d),m=p.location.nativeElement,y=p.injector.get(pu,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),_o(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ne(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ne(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let n=V(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(n),this.afterTick.next(),ne(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(rn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<yy;)ne(14),this.synchronizeOnce(),ne(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!ho(r))continue;let i=o&&!this.zonelessEnabled?0:1;bf(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ho(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;_o(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(ep,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_o(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _o(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var GA=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ka=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function da(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function vy(t,e,n){let o,r,i=0,s=t.length-1,l=void 0;if(Array.isArray(e)){let c=e.length-1;for(;i<=s&&i<=c;){let d=t.at(i),f=e[i],p=da(i,d,i,f,n);if(p!==0){p<0&&t.updateValue(i,f),i++;continue}let m=t.at(s),y=e[c],E=da(s,m,c,y,n);if(E!==0){E<0&&t.updateValue(s,y),s--,c--;continue}let _=n(i,d),I=n(s,m),T=n(i,f);if(Object.is(T,I)){let x=n(c,y);Object.is(x,_)?(t.swap(i,s),t.updateValue(s,y),c--,s--):t.move(s,i),t.updateValue(i,f),i++;continue}if(o??=new jr,r??=Id(t,i,s,n),Fa(t,o,i,T))t.updateValue(i,f),i++,s++;else if(r.has(T))o.set(_,t.detach(i)),s--;else{let x=t.create(i,e[i]);t.attach(i,x),i++,s++}}for(;i<=c;)_d(t,o,n,i,e[i]),i++}else if(e!=null){let c=e[Symbol.iterator](),d=c.next();for(;!d.done&&i<=s;){let f=t.at(i),p=d.value,m=da(i,f,i,p,n);if(m!==0)m<0&&t.updateValue(i,p),i++,d=c.next();else{o??=new jr,r??=Id(t,i,s,n);let y=n(i,p);if(Fa(t,o,i,y))t.updateValue(i,p),i++,s++,d=c.next();else if(!r.has(y))t.attach(i,t.create(i,p)),i++,s++,d=c.next();else{let E=n(i,f);o.set(E,t.detach(i)),s--}}}for(;!d.done;)_d(t,o,n,t.length,d.value),d=c.next()}for(;i<=s;)t.destroy(t.detach(s--));o?.forEach(c=>{t.destroy(c)})}function Fa(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function _d(t,e,n,o,r){if(Fa(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function Id(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var jr=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function L(t,e,n,o,r,i,s,l){an("NgControlFlow");let c=Y(),d=we(),f=st(d.consts,i);return Zr(c,d,t,e,n,o,r,f,256,s,l),hu}function hu(t,e,n,o,r,i,s,l){an("NgControlFlow");let c=Y(),d=we(),f=st(d.consts,i);return Zr(c,d,t,e,n,o,r,f,512,s,l),hu}function O(t,e){an("NgControlFlow");let n=Y(),o=Pn(),r=n[o]!==Je?n[o]:-1,i=r!==-1?Kr(n,ye+r):void 0,s=0;if(At(n,o,t)){let l=V(null);try{if(i!==void 0&&Of(i,s),t!==-1){let c=ye+t,d=Kr(n,c),f=Ua(n[F],c),p=Uf(d,f,n),m=si(n,f,e,{dehydratedView:p});ai(d,m,s,To(f,p))}}finally{V(l)}}else if(i!==void 0){let l=Lf(i,s);l!==void 0&&(l[ce]=e)}}var La=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ue}};var Oa=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function fi(t,e,n,o,r,i,s,l,c,d,f,p,m){an("NgControlFlow");let y=Y(),E=we(),_=c!==void 0,I=Y(),T=l?s.bind(I[Oe][ce]):s,x=new Oa(_,T);I[ye+t]=x,Zr(y,E,t+1,e,n,o,r,st(E.consts,i),256),_&&Zr(y,E,t+2,c,d,f,p,st(E.consts,m),512)}var Va=class extends ka{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-ue}at(e){return this.getLView(e)[ce].$implicit}attach(e,n){let o=n[wn];this.needsIndexUpdate||=e!==this.length,ai(this.lContainer,n,e,To(this.templateTNode,o)),Ey(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Cy(this.lContainer,e),_y(this.lContainer,e)}create(e,n){let o=Da(this.lContainer,this.templateTNode.tView.ssrId),r=si(this.hostLView,this.templateTNode,new La(this.lContainer,n,e),{dehydratedView:o});return this.operationsCounter?.recordCreate(),r}destroy(e){ri(e[F],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ce].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ce].$index=e}getLView(e){return Iy(this.lContainer,e)}};function pi(t){let e=V(null),n=mt();try{let o=Y(),r=o[F],i=o[n],s=n+1,l=Kr(o,s);if(i.liveCollection===void 0){let d=Ua(r,s);i.liveCollection=new Va(l,o,d)}else i.liveCollection.reset();let c=i.liveCollection;if(vy(c,t,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let d=Pn(),f=c.length===0;if(At(o,d,f)){let p=n+2,m=Kr(o,p);if(f){let y=Ua(r,p),E=Uf(m,y,o),_=si(o,y,void 0,{dehydratedView:E});ai(m,_,0,To(y,E))}else r.firstUpdatePass&&v0(m),Of(m,0)}}}finally{V(e)}}function Kr(t,e){return t[e]}function Ey(t,e){if(t.length<=ue)return;let n=ue+e,o=t[n],r=o?o[Jt]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[dt];Th(i,r),on.delete(o),r.detachedLeaveAnimationFns=void 0}}function Cy(t,e){if(t.length<=ue)return;let n=ue+e,o=t[n],r=o?o[Jt]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function _y(t,e){return wo(t,e)}function Iy(t,e){return Lf(t,e)}function Ua(t,e){return go(t,e)}function mi(t,e,n){let o=Y(),r=Pn();if(At(o,r,e)){let i=we(),s=ra();qh(s,o,t,e,o[de],n)}return mi}function Dd(t,e,n,o,r){au(e,t,n,r?"class":"style",o)}function Ye(t,e,n,o){let r=Y(),i=r[F],s=t+ye,l=i.firstCreatePass?$f(s,r,2,e,Zh,Rc(),n,o):i.data[s];if(Tf(l,r,t,e,op),Ir(l)){let c=r[F];If(c,r,l),ef(c,l,r)}return o!=null&&su(r,l),Ye}function Ze(){let t=we(),e=be(),n=Sf(e);return t.firstCreatePass&&qf(t,n),Zs(n)&&js(),Ys(),n.classesWithoutHost!=null&&Sg(n)&&Dd(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&wg(n)&&Dd(t,n,Y(),n.stylesWithoutHost,!1),Ze}function g(t,e,n,o){let r=Y(),i=r[F],s=t+ye,l=i.firstCreatePass?P0(s,i,2,e,n,o):i.data[s];return Tf(l,r,t,e,op),o!=null&&su(r,l),g}function h(){let t=be(),e=Sf(t);return Zs(e)&&js(),Ys(),h}function w(t,e,n,o){return g(t,e,n,o),h(),w}var op=(t,e,n,o,r)=>(Nr(!0),sf(e[de],o,Jc()));function ee(){return Y()}function ie(t,e,n){let o=Y(),r=Pn();if(At(o,r,e)){let i=we(),s=ra();Df(s,o,t,e,o[de],n)}return ie}var ko="en-US";var Dy=ko;function rp(t){typeof t=="string"&&(Dy=t.toLowerCase().replace(/_/g,"-"))}function ut(t,e,n){let o=Y(),r=we(),i=be();return Ty(r,o,o[de],i,t,e,n),ut}function b(t,e,n){let o=Y(),r=we(),i=be();return(i.type&3||n)&&zf(i,r,o,n,o[de],t,e,Or(i,o,e)),b}function Ty(t,e,n,o,r,i,s){let l=!0,c=null;if((o.type&3||s)&&(c??=Or(o,e,i),zf(o,t,e,s,n,r,i,c)&&(l=!1)),l){let d=o.outputs?.[r],f=o.hostDirectiveOutputs?.[r];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];c??=Or(o,e,i),yd(o,e,m,y,r,c)}if(d&&d.length)for(let p of d)c??=Or(o,e,i),yd(o,e,p,r,r,c)}}function D(t=1){return Wc(t)}function yu(t,e,n){oy(t,e,n)}function vu(t){let e=Y(),n=we(),o=ta();wr(o+1);let r=fu(n,o);if(t.dirty&&wc(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let i=sy(e,o);t.reset(i,Hg),t.notifyOnChanges()}return!0}return!1}function Eu(){return ty(Y(),ta())}function Pr(t,e){return t<<17|e<<2}function sn(t){return t>>17&32767}function Sy(t){return(t&2)==2}function wy(t,e){return t&131071|e<<17}function Ha(t){return t|2}function Vn(t){return(t&131068)>>2}function fa(t,e){return t&-131069|e<<2}function My(t){return(t&1)===1}function Ba(t){return t|1}function Ay(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,l=sn(s),c=Vn(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Tn(p,f)>0)&&(d=!0)}else f=n;if(r)if(c!==0){let m=sn(t[l+1]);t[o+1]=Pr(m,l),m!==0&&(t[m+1]=fa(t[m+1],o)),t[l+1]=wy(t[l+1],o)}else t[o+1]=Pr(l,0),l!==0&&(t[l+1]=fa(t[l+1],o)),l=o;else t[o+1]=Pr(c,0),l===0?l=o:t[c+1]=fa(t[c+1],o),c=o;d&&(t[o+1]=Ha(t[o+1])),Td(t,f,o,!0),Td(t,f,o,!1),xy(e,f,t,o,i),s=Pr(l,c),i?e.classBindings=s:e.styleBindings=s}function xy(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Tn(i,e)>=0&&(n[o+1]=Ba(n[o+1]))}function Td(t,e,n,o){let r=t[n+1],i=e===null,s=o?sn(r):Vn(r),l=!1;for(;s!==0&&(l===!1||i);){let c=t[s],d=t[s+1];Ny(c,e)&&(l=!0,t[s+1]=o?Ba(d):Ha(d)),s=o?sn(d):Vn(d)}l&&(t[n+1]=o?Ha(r):Ba(r))}function Ny(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tn(t,e)>=0:!1}function je(t,e){return by(t,e,null,!0),je}function by(t,e,n,o){let r=Y(),i=we(),s=ea(2);if(i.firstUpdatePass&&Ry(i,t,s,o),e!==Je&&At(r,s,e)){let l=i.data[mt()];Vy(i,l,r,r[de],t,r[s+1]=Uy(e,n),o,s)}}function Py(t,e){return e>=t.expandoStartIndex}function Ry(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[mt()],s=Py(t,n);Hy(i,o)&&e===null&&!s&&(e=!1),e=ky(r,i,e,o),Ay(r,i,e,n,s,o)}}function ky(t,e,n,o){let r=Gc(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=pa(null,t,e,n,o),n=xo(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=pa(r,t,e,n,o),i===null){let c=Fy(t,e,o);c!==void 0&&Array.isArray(c)&&(c=pa(null,t,e,c[1],o),c=xo(c,e.attrs,o),Ly(t,e,o,c))}else i=Oy(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function Fy(t,e,n){let o=n?e.classBindings:e.styleBindings;if(Vn(o)!==0)return t[sn(o)]}function Ly(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[sn(r)]=o}function Oy(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=xo(o,s,n)}return xo(o,e.attrs,n)}function pa(t,e,n,o,r){let i=null,s=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<s&&(i=e[l],o=xo(o,i.hostAttrs,r),i!==t);)l++;return t!==null&&(n.directiveStylingLast=l),o}function xo(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yc(t,s,n?!0:e[++i]))}return t===void 0?null:t}function Vy(t,e,n,o,r,i,s,l){if(!(e.type&3))return;let c=t.data,d=c[l+1],f=My(d)?Sd(c,e,n,r,Vn(d),s):void 0;if(!Qr(f)){Qr(i)||Sy(d)&&(i=Sd(c,null,n,r,l,s));let p=Gs(mt(),n);Uh(o,s,p,r,i)}}function Sd(t,e,n,o,r,i){let s=e===null,l;for(;r>0;){let c=t[r],d=Array.isArray(c),f=d?c[1]:c,p=f===null,m=n[r+1];m===Je&&(m=p?Pe:void 0);let y=p?Er(m,o):f===o?m:void 0;if(d&&!Qr(y)&&(y=Er(c,o)),Qr(y)&&(l=y,s))return l;let E=t[r+1];r=s?sn(E):Vn(E)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(l=Er(c,o))}return l}function Qr(t){return t!==void 0}function Uy(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Ja(t)))),t}function Hy(t,e){return(t.flags&(e?8:16))!==0}function v(t,e=""){let n=Y(),o=we(),r=t+ye,i=o.firstCreatePass?ui(o,r,1,e,null):o.data[r],s=By(o,n,i,e,t);n[r]=s,xr()&&ru(o,n,s,i),Nn(i,!1)}var By=(t,e,n,o,r)=>(Nr(!0),ch(e[de],o));function ip(t,e,n,o=""){return At(t,Pn(),n)?e+Dn(n)+o:Je}function Gy(t,e,n,o,r,i=""){let s=Oc(),l=R0(t,s,n,r);return ea(2),l?e+Dn(n)+o+Dn(r)+i:Je}function G(t){return fe("",t),G}function fe(t,e,n){let o=Y(),r=ip(o,t,e,n);return r!==Je&&sp(o,mt(),r),fe}function xt(t,e,n,o,r){let i=Y(),s=Gy(i,t,e,n,o,r);return s!==Je&&sp(i,mt(),s),xt}function sp(t,e,n){let o=Gs(e,t);dh(t[de],o,n)}function gi(t,e,n=""){return ip(Y(),t,e,n)}var $y=(()=>{class t{zone=P(ge);changeDetectionScheduler=P(tt);applicationRef=P(Ro);applicationErrorHandler=P(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ap({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(le(se({},up()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:$t,multi:!0,useFactory:()=>{let o=P($y,{optional:!0});return()=>o.initialize()}},{provide:$t,multi:!0,useFactory:()=>{let o=P(qy);return()=>{o.initialize()}}},e===!0?{provide:sa,useValue:!0}:[],{provide:br,useValue:n??pf},{provide:Mt,useFactory:()=>{let o=P(ge),r=P(Re),i;return s=>{o.runOutsideAngular(()=>{r.destroyed&&!i?setTimeout(()=>{throw s}):(i??=r.get(ke),i.handleError(s))})}}}]}function up(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qy=(()=>{class t{subscription=new De;initialized=!1;zone=P(ge);pendingTasks=P(en);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Cu=(()=>{class t{applicationErrorHandler=P(Mt);appRef=P(Ro);taskService=P(en);ngZone=P(ge);zonelessEnabled=P(vo);tracing=P(bo,{optional:!0});disableScheduling=P(sa,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(br,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Do||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let o=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{this.appRef.dirtyFlags|=16,o=!0;break}case 13:{this.appRef.dirtyFlags|=2,o=!0;break}case 11:{o=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let r=this.useMicrotaskScheduler?ad:mf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.taskService.remove(n),this.applicationErrorHandler(o)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ad(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _u(){return an("NgZoneless"),ks([{provide:tt,useExisting:Cu},{provide:ge,useClass:Do},{provide:vo,useValue:!0},{provide:br,useValue:!1},[]])}function zy(){return typeof $localize<"u"&&$localize.locale||ko}var Iu=new j("",{providedIn:"root",factory:()=>P(Iu,{optional:!0,skipSelf:!0})||zy()});var hi=class{destroyed=!1;listeners=null;errorHandler=P(ke,{optional:!0});destroyRef=P(Xt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new z(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(ao(953,!1));return}if(this.listeners===null)return;let n=V(null);try{for(let o of this.listeners)try{o(e)}catch(r){this.errorHandler?.handleError(r)}}finally{V(n)}}};function Tu(t,e){return nr(t,e?.equal)}var Du=class{[Ie];constructor(e){this[Ie]=e}destroy(){this[Ie].destroy()}};function Fo(t,e){let n=e?.injector??P(Ge),o=e?.manualCleanup!==!0?n.get(Xt):null,r,i=n.get(yo,null,{optional:!0}),s=n.get(tt);return i!==null?(r=Yy(i.view,s,t),o instanceof so&&o._lView===i.view&&(o=null)):r=Zy(t,n.get(Eo),s),r.injector=n,o!==null&&(r.onDestroyFn=o.onDestroy(()=>r.destroy())),new Du(r)}var lp=le(se({},ic),{cleanupFns:void 0,zone:null,onDestroyFn:tn,run(){let t=bn(!1);try{sc(this)}finally{bn(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=V(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],V(t)}}}),Wy=le(se({},lp),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ft(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Jy=le(se({},lp),{consumerMarkedDirty(){this.view[U]|=8192,Qt(this.view),this.notifier.notify(13)},destroy(){Ft(this),this.onDestroyFn(),this.cleanup(),this.view[ft]?.delete(this)}});function Yy(t,e,n){let o=Object.create(Jy);return o.view=t,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=e,o.fn=cp(o,n),t[ft]??=new Set,t[ft].add(o),o.consumerMarkedDirty(o),o}function Zy(t,e,n){let o=Object.create(Wy);return o.fn=cp(o,t),o.scheduler=e,o.notifier=n,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.add(o),o.notifier.notify(12),o}function cp(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var fp=Symbol("InputSignalNode#UNSET"),sv=le(se({},or),{transformFn:void 0,applyValueToInputSignal(t,e){hn(t,e)}});function pp(t,e){let n=Object.create(sv);n.value=t,n.transformFn=e?.transform;function o(){if(fn(n),n.value===fp){let r=null;throw new z(-950,r)}return n.value}return o[Ie]=n,o}var av=new j("");av.__NG_ELEMENT_ID__=t=>{let e=be();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new z(204,!1)};function Te(t){return new hi}function dp(t,e){return pp(t,e)}function uv(t){return pp(fp,t)}var mp=(dp.required=uv,dp);var Su=new j(""),lv=new j("");function Lo(t){return!t.moduleRef}function cv(t){let e=Lo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{Lo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get(Mt),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),Lo(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Su);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Su);s.add(i),t.moduleRef.onDestroy(()=>{_o(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return fv(o,n,()=>{let i=e.get(en),s=i.add(),l=e.get(gu);return l.runInitializers(),l.donePromise.then(()=>{let c=e.get(Iu,ko);if(rp(c||ko),!e.get(lv,!0))return Lo(t)?e.get(Ro):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Lo(t)){let f=e.get(Ro);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return dv?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var dv;function fv(t,e,n){try{let o=n();return mu(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var yi=null;function pv(t=[],e){return Ge.create({name:e,providers:[{provide:co,useValue:"platform"},{provide:Su,useValue:new Set([()=>yi=null])},...t]})}function mv(t=[]){if(yi)return yi;let e=pv(t);return yi=e,tp(),gv(e),e}function gv(t){let e=t.get(ti,null);Sn(t,()=>{e?.forEach(n=>n())})}function gp(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;ne(8);try{let i=r?.injector??mv(o),s=[ap({}),{provide:tt,useExisting:Cu},jc,...n||[]],l=new Ao({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return cv({r3Injector:l.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{ne(9)}}var hp=null;function Vo(){return hp}function wu(t){hp??=t}var Oo=class{};var Ce=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=di({type:t});static \u0275inj=uo({})}return t})();function Mu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var Uo=class{};var yp="browser";var Ho=class{_doc;constructor(e){this._doc=e}manager},vi=(()=>{class t extends Ho{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(X(ze))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Ci=new j(""),Pu=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof vi));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof vi);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new z(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(X(Ci),X(ge))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Au="ng-app-id";function vp(t){for(let e of t)e.remove()}function Ep(t,e){let n=e.createElement("style");return n.textContent=t,n}function yv(t,e,n,o){let r=t.head?.querySelectorAll(`style[${Au}="${e}"],link[${Au}="${e}"]`);if(r)for(let i of r)i.removeAttribute(Au),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Nu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Ru=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,yv(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,Ep);o?.forEach(r=>this.addUsage(r,this.external,Nu))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(vp(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])vp(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,Ep(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,Nu(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(X(ze),X(ei),X(ni,8),X(No))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),xu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ku=/%COMP%/g;var _p="%COMP%",vv=`_nghost-${_p}`,Ev=`_ngcontent-${_p}`,Cv=!0,_v=new j("",{providedIn:"root",factory:()=>Cv});function Iv(t){return Ev.replace(ku,t)}function Dv(t){return vv.replace(ku,t)}function Ip(t,e){return e.map(n=>n.replace(ku,t))}var Fu=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,o,r,i,s,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new Bo(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof Ei?r.applyToHost(n):r instanceof Go&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(o.encapsulation){case ht.Emulated:i=new Ei(c,d,o,this.appId,f,s,l,p,m);break;case ht.ShadowDom:return new bu(c,d,n,o,s,l,this.nonce,p,m);default:i=new Go(c,d,o,f,s,l,p,m);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(X(Pu),X(Ru),X(ei),X(_v),X(ze),X(ge),X(ni),X(bo,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Bo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r,i){this.eventManager=e,this.doc=n,this.ngZone=o,this.platformIsServer=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(xu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Cp(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(Cp(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new z(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=xu[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=xu[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(yt.DashCase|yt.Important)?e.style.setProperty(n,o,r&yt.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=Vo().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Cp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bu=class extends Bo{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,o,r,i,s,l,c,d){super(e,i,s,c,d),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=Ip(r.id,f);for(let m of f){let y=document.createElement("style");l&&y.setAttribute("nonce",l),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=Nu(m,i);l&&y.setAttribute("nonce",l),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends Bo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,l,c,d){super(e,i,s,l,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let f=o.styles;this.styles=d?Ip(d,f):f,this.styleUrls=o.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&on.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ei=class extends Go{contentAttr;hostAttr;constructor(e,n,o,r,i,s,l,c,d){let f=r+"-"+o.id;super(e,n,o,i,s,l,c,d,f),this.contentAttr=Iv(f),this.hostAttr=Dv(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var _i=class t extends Oo{supportsDOMEvents=!0;static makeCurrent(){wu(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Tv();return n==null?null:Sv(n)}resetBaseElement(){$o=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mu(document.cookie,e)}},$o=null;function Tv(){return $o=$o||document.head.querySelector("base"),$o?$o.getAttribute("href"):null}function Sv(t){return new URL(t,document.baseURI).pathname}var wv=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Dp=["alt","control","meta","shift"],Mv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Av={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Tp=(()=>{class t extends Ho{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),l=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(n,s.domEventName,l,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),s="code."),Dp.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,o){let r=Mv[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Dp.forEach(s=>{if(s!==r){let l=Av[s];l(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(X(ze))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();function Lu(t,e,n){let o=se({rootComponent:t,platformRef:n?.platformRef},xv(e));return gp(o)}function xv(t){return{appProviders:[...kv,...t?.providers??[]],platformProviders:Rv}}function Nv(){_i.makeCurrent()}function bv(){return new ke}function Pv(){return za(document),document}var Rv=[{provide:No,useValue:yp},{provide:ti,useValue:Nv,multi:!0},{provide:ze,useFactory:Pv}];var kv=[{provide:co,useValue:"root"},{provide:ke,useFactory:bv},{provide:Ci,useClass:vi,multi:!0,deps:[ze]},{provide:Ci,useClass:Tp,multi:!0,deps:[ze]},Fu,Ru,Pu,{provide:rn,useExisting:Fu},{provide:Uo,useClass:wv},[]];var Fv,Lv;function Ov(){return{geminiUrl:Fv,vertexUrl:Lv}}function Vv(t,e,n,o){var r,i;if(!t?.baseUrl){let s=Ov();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var Ke=class{};function S(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){let c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];u(f,e.slice(i+1),n[d])}else for(let d of c)u(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let l=s.slice(0,-3);l in t||(t[l]=[{}]);let c=t[l];u(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(l=>a(l,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Uv(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,l=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Ou(t,r,i,0,s)}}function Ou(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(let c of l[s])Ou(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(let d of l)c[d]=s[d];for(let[d,f]of Object.entries(c)){let p=[];for(let m of n.slice(o))m==="*"?p.push(d):p.push(m);u(s,p,f)}for(let d of l)delete s[d]}}else{let s=t;i in s&&Ou(s[i],e,n,o+1,r)}}function Al(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Hv(t){let e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);let o=a(t,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function Bv(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],$v(s)),e}function Gv(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],qv(s)),e}function $v(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zv(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function qv(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Wv(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function zv(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],Qv(n)),e}function Wv(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],Xv(n)),e}function Jv(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function Yv(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function Zv(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],jv(s)),e}function jv(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function qp(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],Kv(s)),e}function Kv(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Qv(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Al(o));let r=a(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function Xv(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Al(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}var ln=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(ln||{});var Vu=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(Vu||{});var zp=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(zp||{});var qo=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(qo||{});var Wo=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var un=class{get text(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let m of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[y,E]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,l,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,l,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Ti=class{},Si=class{},Uu=class{},Hu=class{},Bu=class{},Gu=class{},wi=class{},Mi=class{},Ai=class{},$u=class{};var xi=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=Gv(i):r=Bv(i),Object.assign(o,r),o}},Ni=class{},bi=class{},Pi=class{},qu=class{},zu=class{},Wu=class{};var Ju=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=Zv(e);return Object.assign(o,i),o}},Yu=class{},Zu=class{},ju=class{};var Ri=class{};var Ku=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,r+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&i.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Qu=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Xu=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=qp(e);return Object.assign(o,i),o}};function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wp(t,e){let n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Jp(t){return Array.isArray(t)?t.map(e=>ki(e)):[ki(t)]}function ki(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Yp(t){let e=ki(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zp(t){let e=ki(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Sp(e)):[Sp(t)]}function el(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wp(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Mp(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function _e(t){if(t==null)throw new Error("ContentUnion is required");return el(t)?t:{role:"user",parts:jp(t)}}function xl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=_e(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=_e(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>_e(n)):[_e(e)]}function He(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wp(t)||Mp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_e(t)]}let e=[],n=[],o=el(t[0]);for(let r of t){let i=el(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(wp(r)||Mp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:jp(n)}),e}function eE(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(ln).includes(n[0].toUpperCase())?n[0].toUpperCase():ln.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(ln).includes(o.toUpperCase())?o.toUpperCase():ln.TYPE_UNSPECIFIED})}}function Bn(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&eE(t.type,e);for(let[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(ln).includes(l.toUpperCase())?l.toUpperCase():ln.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Bn(l);else if(o.includes(s)){let c=[];for(let d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(Bn(d))}e[s]=c}else if(r.includes(s)){let c={};for(let[d,f]of Object.entries(l))c[d]=Bn(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function Nl(t){return Bn(t)}function bl(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Pl(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qn(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bn(e.response));return t}function zn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function tE(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Ct(t,e){if(typeof e!="string")throw new Error("name must be a string");return tE(t,e,"cachedContents")}function Kp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function bt(t){return Al(t)}function nE(t){return t!=null&&typeof t=="object"&&"name"in t}function oE(t){return t!=null&&typeof t=="object"&&"video"in t}function rE(t){return t!=null&&typeof t=="object"&&"uri"in t}function Qp(t){var e;let n;if(nE(t)&&(n=t.name),!(rE(t)&&(n=t.uri,n===void 0))&&!(oE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function em(t){for(let e of["models","tunedModels","publisherModels"])if(iE(t,e))return t[e];return[]}function iE(t,e){return t!==null&&typeof t=="object"&&e in t}function sE(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function aE(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=sE(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function tm(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uE(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function nm(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Wn(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function om(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function lE(t){let e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);let o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>$E(s))),u(e,["inlinedResponses"],i)}let r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function cE(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function dE(t){let e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ii(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["metadata","state"]);r!=null&&u(e,["state"],om(r));let i=a(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);let l=a(t,["metadata","updateTime"]);l!=null&&u(e,["updateTime"],l);let c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);let d=a(t,["metadata","output"]);return d!=null&&u(e,["dest"],lE(nm(d))),e}function tl(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["state"]);r!=null&&u(e,["state"],om(r));let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(e,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&u(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&u(e,["src"],fE(p));let m=a(t,["outputConfig"]);m!=null&&u(e,["dest"],cE(nm(m)));let y=a(t,["completionStats"]);return y!=null&&u(e,["completionStats"],y),e}function fE(t){let e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);let o=a(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);let r=a(t,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function pE(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=a(e,["fileName"]);o!=null&&u(n,["fileName"],o);let r=a(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>GE(t,s))),u(n,["requests","requests"],i)}return n}function mE(t){let e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);let o=a(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gE(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function yE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function vE(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],EE(o));let r=a(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),u(e,["safetyRatings"],m)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function EE(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function rm(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jE(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function CE(t,e){let n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _E(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let r=a(t,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],dE(uE(r))),n}function Ap(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],pE(t,tm(t,r)));let i=a(e,["config"]);return i!=null&&CE(i,n),n}function IE(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],K(t,o));let r=a(e,["src"]);r!=null&&u(n,["inputConfig"],mE(tm(t,r)));let i=a(e,["config"]);return i!=null&&_E(i,n),n}function DE(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),n}function TE(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["src"]);r!=null&&u(n,["batch","inputConfig"],bE(t,r));let i=a(e,["config"]);return i!=null&&DE(i,n),n}function SE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function wE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function ME(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function AE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function xE(t,e){let n={},o=a(e,["contents"]);if(o!=null){let i=xl(t,o);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["requests[]","request","content"],i)}let r=a(e,["config"]);return r!=null&&(u(n,["_self"],NE(r,n)),Uv(n,{"requests[].*":"requests[].request.*"})),n}function NE(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bE(t,e){let n={},o=a(e,["fileName"]);o!=null&&u(n,["file_name"],o);let r=a(e,["inlinedRequests"]);return r!=null&&u(n,["requests"],xE(t,r)),n}function PE(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RE(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kE(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let o=a(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function FE(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],rm(_e(r)));let i=a(e,["temperature"]);i!=null&&u(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(o,["topP"],s);let l=a(e,["topK"]);l!=null&&u(o,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);let m=a(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);let y=a(e,["presencePenalty"]);y!=null&&u(o,["presencePenalty"],y);let E=a(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);let _=a(e,["seed"]);_!=null&&u(o,["seed"],_);let I=a(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);let T=a(e,["responseSchema"]);T!=null&&u(o,["responseSchema"],Nl(T));let x=a(e,["responseJsonSchema"]);if(x!=null&&u(o,["responseJsonSchema"],x),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let M=a(e,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map(Xe=>KE(Xe))),u(n,["safetySettings"],ae)}let H=a(e,["tools"]);if(n!==void 0&&H!=null){let ae=zn(H);Array.isArray(ae)&&(ae=ae.map(Xe=>XE(qn(Xe)))),u(n,["tools"],ae)}let q=a(e,["toolConfig"]);if(n!==void 0&&q!=null&&u(n,["toolConfig"],QE(q)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let J=a(e,["cachedContent"]);n!==void 0&&J!=null&&u(n,["cachedContent"],Ct(t,J));let Z=a(e,["responseModalities"]);Z!=null&&u(o,["responseModalities"],Z);let he=a(e,["mediaResolution"]);he!=null&&u(o,["mediaResolution"],he);let B=a(e,["speechConfig"]);if(B!=null&&u(o,["speechConfig"],bl(B)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Q=a(e,["thinkingConfig"]);Q!=null&&u(o,["thinkingConfig"],Q);let me=a(e,["imageConfig"]);return me!=null&&u(o,["imageConfig"],BE(me)),o}function LE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>vE(d))),u(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function OE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function VE(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Wn(t,o)),n}function UE(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function HE(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function BE(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function GE(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["request","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let l=He(r);Array.isArray(l)&&(l=l.map(c=>rm(c))),u(n,["request","contents"],l)}let i=a(e,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],FE(t,s,a(n,["request"],{}))),n}function $E(t){let e={},n=a(t,["response"]);n!=null&&u(e,["response"],LE(n));let o=a(t,["error"]);return o!=null&&u(e,["error"],o),e}function qE(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function zE(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);let i=a(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function WE(t){let e={},n=a(t,["config"]);return n!=null&&qE(n,e),e}function JE(t){let e={},n=a(t,["config"]);return n!=null&&zE(n,e),e}function YE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ii(s))),u(e,["batchJobs"],i)}return e}function ZE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>tl(s))),u(e,["batchJobs"],i)}return e}function jE(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],PE(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],RE(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],gE(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let m=a(t,["videoMetadata"]);return m!=null&&u(e,["videoMetadata"],m),e}function KE(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function QE(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],kE(n));let o=a(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function XE(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let r=a(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],UE(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],HE(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}var Pt=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(Pt||{}),Et=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var nl=class extends Ke{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Et(Pt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){let n=Ap(this.apiClient,e),o=n._url,r=S("{model}:batchGenerateContent",o),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let m=p.systemInstruction;delete p.systemInstruction;let y=p.request;y.systemInstruction=m,p.request=y}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=IE(this.apiClient,e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>tl(f))}else{let d=Ap(this.apiClient,e);return l=S("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ii(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=TE(this.apiClient,e);return i=S("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Ii(c))}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=VE(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>tl(f))}else{let d=OE(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ii(f))}}async cancel(e){var n,o,r,i;let s="",l={};if(this.apiClient.isVertexAI()){let c=yE(this.apiClient,e);s=S("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=hE(this.apiClient,e);s=S("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=JE(e);return l=S("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=ZE(f),m=new Ri;return Object.assign(m,p),m})}else{let d=WE(e);return l=S("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=YE(f),m=new Ri;return Object.assign(m,p),m})}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=wE(this.apiClient,e);return l=S("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>AE(f))}else{let d=SE(this.apiClient,e);return l=S("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>ME(f))}}};function eC(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function xp(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>DC(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function tC(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=He(s);Array.isArray(f)&&(f=f.map(p=>xp(p))),u(e,["contents"],f)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],xp(_e(l)));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>SC(p))),u(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],TC(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function nC(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=He(s);Array.isArray(p)&&(p=p.map(m=>m)),u(e,["contents"],p)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],_e(l));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>wC(m))),u(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function oC(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],Wp(t,o));let r=a(e,["config"]);return r!=null&&tC(r,n),n}function rC(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["model"],Wp(t,o));let r=a(e,["config"]);return r!=null&&nC(r,n),n}function iC(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function sC(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function aC(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function uC(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function lC(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function cC(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dC(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let o=a(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fC(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function pC(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function mC(t,e){let n={},o=a(e,["name"]);return o!=null&&u(n,["_url","name"],Ct(t,o)),n}function gC(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function hC(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function yC(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function vC(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function EC(t){let e={},n=a(t,["config"]);return n!=null&&yC(n,e),e}function CC(t){let e={},n=a(t,["config"]);return n!=null&&vC(n,e),e}function _C(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function IC(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function DC(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],lC(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],cC(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],eC(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let m=a(t,["videoMetadata"]);return m!=null&&u(e,["videoMetadata"],m),e}function TC(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],dC(n));let o=a(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function SC(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let r=a(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],gC(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],hC(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function wC(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>fC(m))),u(e,["functionDeclarations"],p)}let o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function MC(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function AC(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function xC(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Ct(t,o));let r=a(e,["config"]);return r!=null&&MC(r,n),n}function NC(t,e){let n={},o=a(e,["name"]);o!=null&&u(n,["_url","name"],Ct(t,o));let r=a(e,["config"]);return r!=null&&AC(r,n),n}var ol=class extends Ke{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(Pt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=rC(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=oC(this.apiClient,e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=mC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=pC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=sC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=uC(f),m=new bi;return Object.assign(m,p),m})}else{let d=iC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=aC(f),m=new bi;return Object.assign(m,p),m})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=NC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=xC(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=CC(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=IC(f),m=new Pi;return Object.assign(m,p),m})}else{let d=EC(e);return l=S("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=_C(f),m=new Pi;return Object.assign(m,p),m})}}};function Np(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(t){return this instanceof re?(this.v=t,this):new re(t)}function Gn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(E){return Promise.resolve(E).then(y,p)}}function l(y,E){o[y]&&(r[y]=function(_){return new Promise(function(I,T){i.push([y,_,I,T])>1||c(y,_)})},E&&(r[y]=E(r[y])))}function c(y,E){try{d(o[y](E))}catch(_){m(i[0][3],_)}}function d(y){y.value instanceof re?Promise.resolve(y.value.v).then(f,p):m(i[0][2],y)}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,E){y(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function zo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Np=="function"?Np(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(l,c){s=t[i](s),r(l,c,s.done,s.value)})}}function r(i,s,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},s)}}function bC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:im(n)}function im(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function PC(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bp(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!im(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var rl=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new il(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},il=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),PC(i)}async sendMessage(e){var n;await this.sendPromise;let o=_e(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,l;let c=await r,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,m=[];f!=null&&(m=(l=f.slice(p))!==null&&l!==void 0?l:[]);let y=d?[d]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=_e(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?bp(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Gn(this,arguments,function*(){var s,l,c,d;let f=[];try{for(var p=!0,m=zo(e),y;y=yield re(m.next()),s=y.done,!s;p=!0){d=y.value,p=!1;let E=d;if(bC(E)){let _=(r=(o=E.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;_!==void 0&&f.push(_)}yield yield re(E)}}catch(E){l={error:E}}finally{try{!p&&!s&&(c=m.return)&&(yield re(c.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...bp(o)):this.history.push(e),this.history.push(...r)}};var Fi=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function RC(t){let e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function kC(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function FC(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],Qp(n)),e}function LC(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function OC(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],Qp(n)),e}function VC(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function UC(t){let e={},n=a(t,["config"]);return n!=null&&VC(n,e),e}function HC(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}var sl=class extends Ke{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Et(Pt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=UC(e);return i=S("files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=HC(c),f=new Yu;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=RC(e);return i=S("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=kC(c),f=new Zu;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=OC(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=FC(e);return i=S("files/{file}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=LC(c),f=new ju;return Object.assign(f,d),f})}}};function Di(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function BC(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>o_(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function GC(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $C(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qC(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function zC(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let m=a(t,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);let y=a(t,["responseMimeType"]);y!=null&&u(e,["responseMimeType"],y);let E=a(t,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);let _=a(t,["responseSchema"]);_!=null&&u(e,["responseSchema"],_);let I=a(t,["routingConfig"]);I!=null&&u(e,["routingConfig"],I);let T=a(t,["seed"]);T!=null&&u(e,["seed"],T);let x=a(t,["speechConfig"]);x!=null&&u(e,["speechConfig"],sm(x));let M=a(t,["stopSequences"]);M!=null&&u(e,["stopSequences"],M);let H=a(t,["temperature"]);H!=null&&u(e,["temperature"],H);let q=a(t,["thinkingConfig"]);q!=null&&u(e,["thinkingConfig"],q);let J=a(t,["topK"]);J!=null&&u(e,["topK"],J);let Z=a(t,["topP"]);if(Z!=null&&u(e,["topP"],Z),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function WC(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function JC(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function YC(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],Pl(p));let m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);let y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],y);let E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],BC(_e(E)));let _=a(t,["tools"]);if(e!==void 0&&_!=null){let J=zn(_);Array.isArray(J)&&(J=J.map(Z=>i_(qn(Z)))),u(e,["setup","tools"],J)}let I=a(t,["sessionResumption"]);e!==void 0&&I!=null&&u(e,["setup","sessionResumption"],r_(I));let T=a(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&u(e,["setup","inputAudioTranscription"],T);let x=a(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&u(e,["setup","outputAudioTranscription"],x);let M=a(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],M);let H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);let q=a(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],q),n}function ZC(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],zC(o));let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],sm(Pl(p)));let m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);let y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],y);let E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],_e(E));let _=a(t,["tools"]);if(e!==void 0&&_!=null){let J=zn(_);Array.isArray(J)&&(J=J.map(Z=>s_(qn(Z)))),u(e,["setup","tools"],J)}let I=a(t,["sessionResumption"]);e!==void 0&&I!=null&&u(e,["setup","sessionResumption"],I);let T=a(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&u(e,["setup","inputAudioTranscription"],T);let x=a(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&u(e,["setup","outputAudioTranscription"],x);let M=a(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],M);let H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);let q=a(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],q),n}function jC(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],K(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],YC(r,n)),n}function KC(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],K(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],ZC(r,n)),n}function QC(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function XC(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function e_(t){let e={},n=a(t,["media"]);if(n!=null){let d=Jp(n);Array.isArray(d)&&(d=d.map(f=>Di(f))),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Di(Zp(o)));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Di(Yp(i)));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function t_(t){let e={},n=a(t,["media"]);if(n!=null){let d=Jp(n);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&u(e,["audio"],Zp(o));let r=a(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&u(e,["video"],Yp(i));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function n_(t){let e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);let o=a(t,["serverContent"]);o!=null&&u(e,["serverContent"],o);let r=a(t,["toolCall"]);r!=null&&u(e,["toolCall"],r);let i=a(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],a_(s));let l=a(t,["goAway"]);l!=null&&u(e,["goAway"],l);let c=a(t,["sessionResumptionUpdate"]);return c!=null&&u(e,["sessionResumptionUpdate"],c),e}function o_(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],GC(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],$C(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Di(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let m=a(t,["videoMetadata"]);return m!=null&&u(e,["videoMetadata"],m),e}function r_(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sm(t){let e={},n=a(t,["languageCode"]);n!=null&&u(e,["languageCode"],n);let o=a(t,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function i_(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let r=a(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],WC(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],JC(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function s_(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>qC(m))),u(e,["functionDeclarations"],p)}let o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function a_(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);let o=a(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);let r=a(t,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);let l=a(t,["totalTokenCount"]);l!=null&&u(e,["totalTokenCount"],l);let c=a(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["promptTokensDetails"],y)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["cacheTokensDetails"],y)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["responseTokensDetails"],y)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["toolUsePromptTokensDetails"],y)}let m=a(t,["trafficType"]);return m!=null&&u(e,["trafficType"],m),e}function u_(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function l_(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],c_(o));let r=a(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),u(e,["safetyRatings"],m)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function c_(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function d_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let i=He(r);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["contents"],i)}return n}function f_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["tokensInfo"],r)}return e}function p_(t){let e={},n=a(t,["values"]);n!=null&&u(e,["values"],n);let o=a(t,["statistics"]);return o!=null&&u(e,["statistics"],m_(o)),e}function m_(t){let e={},n=a(t,["truncated"]);n!=null&&u(e,["truncated"],n);let o=a(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function Vi(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>DI(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function g_(t){let e={},n=a(t,["controlType"]);n!=null&&u(e,["controlType"],n);let o=a(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function h_(t){let e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function y_(t,e){let n={},o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],_e(o));let r=a(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>dm(l))),u(e,["tools"],s)}let i=a(t,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],uI(i)),n}function v_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let s=He(r);Array.isArray(s)&&(s=s.map(l=>Vi(l))),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&h_(i),n}function E_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let s=He(r);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&y_(i,n),n}function C_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);let r=a(t,["cachedContentTokenCount"]);return r!=null&&u(e,["cachedContentTokenCount"],r),e}function __(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function I_(t,e){let n={},o=a(e,["model"]);return o!=null&&u(n,["_url","name"],K(t,o)),n}function D_(t,e){let n={},o=a(e,["model"]);return o!=null&&u(n,["_url","name"],K(t,o)),n}function T_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function S_(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function w_(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);let r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);let m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);let y=a(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);let E=a(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);let _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_);let I=a(t,["addWatermark"]);e!==void 0&&I!=null&&u(e,["parameters","addWatermark"],I);let T=a(t,["labels"]);e!==void 0&&T!=null&&u(e,["labels"],T);let x=a(t,["editMode"]);e!==void 0&&x!=null&&u(e,["parameters","editMode"],x);let M=a(t,["baseSteps"]);return e!==void 0&&M!=null&&u(e,["parameters","editConfig","baseSteps"],M),n}function M_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);let i=a(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>xI(c))),u(n,["instances[0]","referenceImages"],l)}let s=a(e,["config"]);return s!=null&&w_(s,n),n}function A_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ui(i))),u(e,["generatedImages"],r)}return e}function x_(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function N_(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);let i=a(t,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);let s=a(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);let l=a(t,["autoTruncate"]);return e!==void 0&&l!=null&&u(e,["parameters","autoTruncate"],l),n}function b_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let l=xl(t,r);Array.isArray(l)&&(l=l.map(c=>c)),u(n,["requests[]","content"],l)}let i=a(e,["config"]);i!=null&&x_(i,n);let s=a(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],K(t,s)),n}function P_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let s=xl(t,r);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["instances[]","content"],s)}let i=a(e,["config"]);return i!=null&&N_(i,n),n}function R_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["embeddings"],i)}let r=a(t,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function k_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>p_(s))),u(e,["embeddings"],i)}let r=a(t,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function F_(t){let e={},n=a(t,["endpoint"]);n!=null&&u(e,["name"],n);let o=a(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function L_(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function O_(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function V_(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let o=a(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function U_(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let o=a(t,["name"]);o!=null&&u(e,["name"],o);let r=a(t,["parameters"]);r!=null&&u(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function H_(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],Vi(_e(r)));let i=a(e,["temperature"]);i!=null&&u(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(o,["topP"],s);let l=a(e,["topK"]);l!=null&&u(o,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);let m=a(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);let y=a(e,["presencePenalty"]);y!=null&&u(o,["presencePenalty"],y);let E=a(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);let _=a(e,["seed"]);_!=null&&u(o,["seed"],_);let I=a(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);let T=a(e,["responseSchema"]);T!=null&&u(o,["responseSchema"],Nl(T));let x=a(e,["responseJsonSchema"]);if(x!=null&&u(o,["responseJsonSchema"],x),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let M=a(e,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map(Xe=>NI(Xe))),u(n,["safetySettings"],ae)}let H=a(e,["tools"]);if(n!==void 0&&H!=null){let ae=zn(H);Array.isArray(ae)&&(ae=ae.map(Xe=>OI(qn(Xe)))),u(n,["tools"],ae)}let q=a(e,["toolConfig"]);if(n!==void 0&&q!=null&&u(n,["toolConfig"],LI(q)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let J=a(e,["cachedContent"]);n!==void 0&&J!=null&&u(n,["cachedContent"],Ct(t,J));let Z=a(e,["responseModalities"]);Z!=null&&u(o,["responseModalities"],Z);let he=a(e,["mediaResolution"]);he!=null&&u(o,["mediaResolution"],he);let B=a(e,["speechConfig"]);if(B!=null&&u(o,["speechConfig"],bl(B)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let Q=a(e,["thinkingConfig"]);Q!=null&&u(o,["thinkingConfig"],Q);let me=a(e,["imageConfig"]);return me!=null&&u(o,["imageConfig"],pI(me)),o}function B_(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],_e(r));let i=a(e,["temperature"]);i!=null&&u(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(o,["topP"],s);let l=a(e,["topK"]);l!=null&&u(o,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(o,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);let m=a(e,["logprobs"]);m!=null&&u(o,["logprobs"],m);let y=a(e,["presencePenalty"]);y!=null&&u(o,["presencePenalty"],y);let E=a(e,["frequencyPenalty"]);E!=null&&u(o,["frequencyPenalty"],E);let _=a(e,["seed"]);_!=null&&u(o,["seed"],_);let I=a(e,["responseMimeType"]);I!=null&&u(o,["responseMimeType"],I);let T=a(e,["responseSchema"]);T!=null&&u(o,["responseSchema"],Nl(T));let x=a(e,["responseJsonSchema"]);x!=null&&u(o,["responseJsonSchema"],x);let M=a(e,["routingConfig"]);M!=null&&u(o,["routingConfig"],M);let H=a(e,["modelSelectionConfig"]);H!=null&&u(o,["modelConfig"],H);let q=a(e,["safetySettings"]);if(n!==void 0&&q!=null){let lt=q;Array.isArray(lt)&&(lt=lt.map(Zi=>Zi)),u(n,["safetySettings"],lt)}let J=a(e,["tools"]);if(n!==void 0&&J!=null){let lt=zn(J);Array.isArray(lt)&&(lt=lt.map(Zi=>dm(qn(Zi)))),u(n,["tools"],lt)}let Z=a(e,["toolConfig"]);n!==void 0&&Z!=null&&u(n,["toolConfig"],Z);let he=a(e,["labels"]);n!==void 0&&he!=null&&u(n,["labels"],he);let B=a(e,["cachedContent"]);n!==void 0&&B!=null&&u(n,["cachedContent"],Ct(t,B));let Q=a(e,["responseModalities"]);Q!=null&&u(o,["responseModalities"],Q);let me=a(e,["mediaResolution"]);me!=null&&u(o,["mediaResolution"],me);let ae=a(e,["speechConfig"]);ae!=null&&u(o,["speechConfig"],cm(bl(ae)));let Xe=a(e,["audioTimestamp"]);Xe!=null&&u(o,["audioTimestamp"],Xe);let kl=a(e,["thinkingConfig"]);kl!=null&&u(o,["thinkingConfig"],kl);let Fl=a(e,["imageConfig"]);return Fl!=null&&u(o,["imageConfig"],mI(Fl)),o}function Pp(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let s=He(r);Array.isArray(s)&&(s=s.map(l=>Vi(l))),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&u(n,["generationConfig"],H_(t,i,n)),n}function Rp(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["contents"]);if(r!=null){let s=He(r);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&u(n,["generationConfig"],B_(t,i,n)),n}function kp(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>l_(d))),u(e,["candidates"],c)}let r=a(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function Fp(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),u(e,["candidates"],d)}let r=a(t,["createTime"]);r!=null&&u(e,["createTime"],r);let i=a(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);let l=a(t,["responseId"]);l!=null&&u(e,["responseId"],l);let c=a(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function G_(t,e){let n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);let r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);let i=a(t,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);let l=a(t,["personGeneration"]);e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l);let c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);let d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&u(e,["parameters","includeRaiReason"],d);let f=a(t,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);let m=a(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&u(e,["parameters","outputOptions","compressionQuality"],m),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let y=a(t,["imageSize"]);if(e!==void 0&&y!=null&&u(e,["parameters","sampleImageSize"],y),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $_(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);let r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);let m=a(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);let y=a(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);let E=a(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);let _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_);let I=a(t,["addWatermark"]);e!==void 0&&I!=null&&u(e,["parameters","addWatermark"],I);let T=a(t,["labels"]);e!==void 0&&T!=null&&u(e,["labels"],T);let x=a(t,["imageSize"]);e!==void 0&&x!=null&&u(e,["parameters","sampleImageSize"],x);let M=a(t,["enhancePrompt"]);return e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M),n}function q_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);let i=a(e,["config"]);return i!=null&&G_(i,n),n}function z_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);let i=a(e,["config"]);return i!=null&&$_(i,n),n}function W_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>rI(s))),u(e,["generatedImages"],i)}let r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],um(r)),e}function J_(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Ui(s))),u(e,["generatedImages"],i)}let r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],lm(r)),e}function Y_(t,e){let n={},o=a(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);let s=a(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);let l=a(t,["personGeneration"]);if(e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);let d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&u(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=a(t,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],Hi(f));let p=a(t,["referenceImages"]);if(e!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>jI(y))),u(e,["instances[0]","referenceImages"],m)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Z_(t,e){let n={},o=a(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);let r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let i=a(t,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);let s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);let l=a(t,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);let c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);let d=a(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&u(e,["parameters","pubsubTopic"],p);let m=a(t,["negativePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","negativePrompt"],m);let y=a(t,["enhancePrompt"]);e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y);let E=a(t,["generateAudio"]);e!==void 0&&E!=null&&u(e,["parameters","generateAudio"],E);let _=a(t,["lastFrame"]);e!==void 0&&_!=null&&u(e,["instances[0]","lastFrame"],Qe(_));let I=a(t,["referenceImages"]);if(e!==void 0&&I!=null){let M=I;Array.isArray(M)&&(M=M.map(H=>KI(H))),u(e,["instances[0]","referenceImages"],M)}let T=a(t,["mask"]);e!==void 0&&T!=null&&u(e,["instances[0]","mask"],ZI(T));let x=a(t,["compressionQuality"]);return e!==void 0&&x!=null&&u(e,["parameters","compressionQuality"],x),n}function j_(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],eI(s)),e}function K_(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],tI(s)),e}function Q_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);let i=a(e,["image"]);i!=null&&u(n,["instances[0]","image"],Hi(i));let s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],fm(s));let l=a(e,["source"]);l!=null&&nI(l,n);let c=a(e,["config"]);return c!=null&&Y_(c,n),n}function X_(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);let i=a(e,["image"]);i!=null&&u(n,["instances[0]","image"],Qe(i));let s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],pm(s));let l=a(e,["source"]);l!=null&&oI(l,n);let c=a(e,["config"]);return c!=null&&Z_(c,n),n}function eI(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>sI(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function tI(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>aI(s))),u(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function nI(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],Hi(r));let i=a(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],fm(i)),n}function oI(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],Qe(r));let i=a(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],pm(i)),n}function rI(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["image"],gI(n));let o=a(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);let r=a(t,["_self"]);return r!=null&&u(e,["safetyAttributes"],um(r)),e}function Ui(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["image"],am(n));let o=a(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);let r=a(t,["_self"]);r!=null&&u(e,["safetyAttributes"],lm(r));let i=a(t,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function iI(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["mask"],am(n));let o=a(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["labels"],r)}return e}function sI(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],JI(n)),e}function aI(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],YI(n)),e}function uI(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let m=a(t,["responseLogprobs"]);m!=null&&u(e,["responseLogprobs"],m);let y=a(t,["responseMimeType"]);y!=null&&u(e,["responseMimeType"],y);let E=a(t,["responseModalities"]);E!=null&&u(e,["responseModalities"],E);let _=a(t,["responseSchema"]);_!=null&&u(e,["responseSchema"],_);let I=a(t,["routingConfig"]);I!=null&&u(e,["routingConfig"],I);let T=a(t,["seed"]);T!=null&&u(e,["seed"],T);let x=a(t,["speechConfig"]);x!=null&&u(e,["speechConfig"],cm(x));let M=a(t,["stopSequences"]);M!=null&&u(e,["stopSequences"],M);let H=a(t,["temperature"]);H!=null&&u(e,["temperature"],H);let q=a(t,["thinkingConfig"]);q!=null&&u(e,["thinkingConfig"],q);let J=a(t,["topK"]);J!=null&&u(e,["topK"],J);let Z=a(t,["topP"]);if(Z!=null&&u(e,["topP"],Z),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lI(t,e){let n={},o=a(e,["model"]);return o!=null&&u(n,["_url","name"],K(t,o)),n}function cI(t,e){let n={},o=a(e,["model"]);return o!=null&&u(n,["_url","name"],K(t,o)),n}function dI(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function fI(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function pI(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mI(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let o=a(t,["imageSize"]);o!=null&&u(e,["imageSize"],o);let r=a(t,["outputMimeType"]);r!=null&&u(e,["imageOutputOptions","mimeType"],r);let i=a(t,["outputCompressionQuality"]);return i!=null&&u(e,["imageOutputOptions","compressionQuality"],i),e}function gI(t){let e={},n=a(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],bt(n));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function am(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],bt(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Hi(t){let e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=a(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],bt(n));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Qe(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);let o=a(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],bt(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function hI(t,e,n){let o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&u(n,["_query","pageSize"],r);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let l=a(e,["queryBase"]);return n!==void 0&&l!=null&&u(n,["_url","models_url"],Xp(t,l)),o}function yI(t,e,n){let o={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&u(n,["_query","pageSize"],r);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let l=a(e,["queryBase"]);return n!==void 0&&l!=null&&u(n,["_url","models_url"],Xp(t,l)),o}function vI(t,e){let n={},o=a(e,["config"]);return o!=null&&hI(t,o,n),n}function EI(t,e){let n={},o=a(e,["config"]);return o!=null&&yI(t,o,n),n}function CI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["_self"]);if(r!=null){let i=em(r);Array.isArray(i)&&(i=i.map(s=>al(s))),u(e,["models"],i)}return e}function _I(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["_self"]);if(r!=null){let i=em(r);Array.isArray(i)&&(i=i.map(s=>ul(s))),u(e,["models"],i)}return e}function II(t){let e={},n=a(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);let o=a(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);let r=a(t,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function al(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["description"]);r!=null&&u(e,["description"],r);let i=a(t,["version"]);i!=null&&u(e,["version"],i);let s=a(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],VI(s));let l=a(t,["inputTokenLimit"]);l!=null&&u(e,["inputTokenLimit"],l);let c=a(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);let d=a(t,["supportedGenerationMethods"]);d!=null&&u(e,["supportedActions"],d);let f=a(t,["temperature"]);f!=null&&u(e,["temperature"],f);let p=a(t,["maxTemperature"]);p!=null&&u(e,["maxTemperature"],p);let m=a(t,["topP"]);m!=null&&u(e,["topP"],m);let y=a(t,["topK"]);y!=null&&u(e,["topK"],y);let E=a(t,["thinking"]);return E!=null&&u(e,["thinking"],E),e}function ul(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["displayName"]);o!=null&&u(e,["displayName"],o);let r=a(t,["description"]);r!=null&&u(e,["description"],r);let i=a(t,["versionId"]);i!=null&&u(e,["version"],i);let s=a(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>F_(m))),u(e,["endpoints"],p)}let l=a(t,["labels"]);l!=null&&u(e,["labels"],l);let c=a(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],UI(c));let d=a(t,["defaultCheckpointId"]);d!=null&&u(e,["defaultCheckpointId"],d);let f=a(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),u(e,["checkpoints"],p)}return e}function DI(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],L_(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],O_(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],u_(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let m=a(t,["videoMetadata"]);return m!=null&&u(e,["videoMetadata"],m),e}function TI(t){let e={},n=a(t,["productImage"]);return n!=null&&u(e,["image"],Qe(n)),e}function SI(t,e){let n={},o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);let r=a(t,["baseSteps"]);e!==void 0&&r!=null&&u(e,["parameters","baseSteps"],r);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);let s=a(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);let l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);let c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);let d=a(t,["addWatermark"]);e!==void 0&&d!=null&&u(e,["parameters","addWatermark"],d);let f=a(t,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);let p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p);let m=a(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);let y=a(t,["labels"]);return e!==void 0&&y!=null&&u(e,["labels"],y),n}function wI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["source"]);r!=null&&AI(r,n);let i=a(e,["config"]);return i!=null&&SI(i,n),n}function MI(t){let e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ui(r))),u(e,["generatedImages"],o)}return e}function AI(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);let r=a(t,["personImage"]);e!==void 0&&r!=null&&u(e,["instances[0]","personImage","image"],Qe(r));let i=a(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>TI(l))),u(e,["instances[0]","productImages"],s)}return n}function xI(t){let e={},n=a(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Qe(n));let o=a(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);let r=a(t,["referenceType"]);r!=null&&u(e,["referenceType"],r);let i=a(t,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],II(i));let s=a(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],g_(s));let l=a(t,["styleImageConfig"]);l!=null&&u(e,["styleImageConfig"],l);let c=a(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function um(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);let o=a(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);let r=a(t,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function lm(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);let o=a(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);let r=a(t,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function NI(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function bI(t){let e={},n=a(t,["image"]);return n!=null&&u(e,["image"],Qe(n)),e}function PI(t,e){let n={},o=a(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);let r=a(t,["maxPredictions"]);e!==void 0&&r!=null&&u(e,["parameters","maxPredictions"],r);let i=a(t,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);let s=a(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);let l=a(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&u(e,["parameters","binaryColorThreshold"],l);let c=a(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function RI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["source"]);r!=null&&FI(r,n);let i=a(e,["config"]);return i!=null&&PI(i,n),n}function kI(t){let e={},n=a(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>iI(r))),u(e,["generatedMasks"],o)}return e}function FI(t,e){let n={},o=a(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);let r=a(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],Qe(r));let i=a(t,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],bI(i)),n}function cm(t){let e={},n=a(t,["languageCode"]);n!=null&&u(e,["languageCode"],n);let o=a(t,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function LI(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],V_(n));let o=a(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function OI(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let r=a(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],dI(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],fI(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function dm(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>U_(m))),u(e,["functionDeclarations"],p)}let o=a(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function VI(t){let e={},n=a(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);let o=a(t,["createTime"]);o!=null&&u(e,["createTime"],o);let r=a(t,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function UI(t){let e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);let o=a(t,["createTime"]);o!=null&&u(e,["createTime"],o);let r=a(t,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function HI(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let r=a(t,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function BI(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let r=a(t,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function GI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","name"],K(t,o));let r=a(e,["config"]);return r!=null&&HI(r,n),n}function $I(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["config"]);return r!=null&&BI(r,n),n}function qI(t,e){let n={},o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);let r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);let i=a(t,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);let s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);let l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&u(e,["parameters","outputOptions","mimeType"],l);let c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);let d=a(t,["enhanceInputImage"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=a(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=a(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);let m=a(t,["numberOfImages"]);e!==void 0&&m!=null&&u(e,["parameters","sampleCount"],m);let y=a(t,["mode"]);return e!==void 0&&y!=null&&u(e,["parameters","mode"],y),n}function zI(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["_url","model"],K(t,o));let r=a(e,["image"]);r!=null&&u(n,["instances[0]","image"],Qe(r));let i=a(e,["upscaleFactor"]);i!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],i);let s=a(e,["config"]);return s!=null&&qI(s,n),n}function WI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ui(i))),u(e,["generatedImages"],r)}return e}function JI(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],bt(o));let r=a(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function YI(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],bt(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ZI(t){let e={},n=a(t,["image"]);n!=null&&u(e,["_self"],Qe(n));let o=a(t,["maskMode"]);return o!=null&&u(e,["maskMode"],o),e}function jI(t){let e={},n=a(t,["image"]);n!=null&&u(e,["image"],Hi(n));let o=a(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function KI(t){let e={},n=a(t,["image"]);n!=null&&u(e,["image"],Qe(n));let o=a(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function fm(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let o=a(t,["videoBytes"]);o!=null&&u(e,["encodedVideo"],bt(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["encoding"],r),e}function pm(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["gcsUri"],n);let o=a(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],bt(o));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}var QI="Content-Type",XI="X-Server-Timeout",eD="User-Agent",ll="x-goog-api-client",tD="1.30.0",nD=`google-genai-sdk/${tD}`,oD="v1beta1",rD="v1beta",Lp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,cl=class{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:oD,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:rD,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,l]of Object.entries(e.queryParams))r.searchParams.append(s,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&iD(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Op(r),new Wo(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Op(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Gn(this,arguments,function*(){let r=(n=e?.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){let{done:l,value:c}=yield re(r.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=i.decode(c,{stream:!0});try{let p=JSON.parse(d);if("error"in p){let m=JSON.parse(JSON.stringify(p.error)),y=m.status,E=m.code,_=`got status: ${y}. ${JSON.stringify(p)}`;if(E>=400&&E<600)throw new Fi({message:_,status:E})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let f=s.match(Lp);for(;f;){let p=f[1];try{let m=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield re(new Wo(m)),s=s.slice(f[0].length),f=s.match(Lp)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=nD+" "+this.clientOptions.userAgentExtra;return e[eD]=n,e[ll]=n,e[QI]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(XI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let l=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;let c={file:r},d=this.getFileName(e),f=S("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),l=String(s.size),c=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o?.customMetadata&&(p.customMetadata=o.customMetadata),o?.chunkingConfig&&(p.chunkingConfig=o.chunkingConfig);let m=await this.fetchUploadUrl(d,l,c,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(l=d?.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function Op(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new Fi({message:r,status:n}):new Error(r)}}function iD(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let l=Object.assign({},i);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let d=s[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}let r=o(n,e);t.body=JSON.stringify(r)}var sD="mcp_used/unknown",aD=!1;function mm(t){for(let e of t)if(uD(e)||typeof e=="object"&&"inputSchema"in e)return!0;return aD}function gm(t){var e;let n=(e=t[ll])!==null&&e!==void 0?e:"";t[ll]=(n+` ${sD}`).trimStart()}function uD(t){return t!==null&&typeof t=="object"&&t instanceof dl}function lD(t,e=100){return Gn(this,arguments,function*(){let o,r=0;for(;r<e;){let i=yield re(t.listTools({cursor:o}));for(let s of i.tools)yield yield re(s),r++;if(!i.nextCursor)break;o=i.nextCursor}})}var dl=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var l=!0,c=(n=void 0,zo(lD(f))),d;d=await c.next(),e=d.done,!e;l=!0){r=d.value,l=!1;let p=r;s.push(p);let m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),aE(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function cD(t,e,n){let o=new Qu,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var fl=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=fD(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`,d=()=>{},f=new Promise(M=>{d=M}),p=e.callbacks,m=function(){d({})},y=this.apiClient,E={onopen:m,onmessage:M=>{cD(y,p.onmessage,M)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(M){}},_=this.webSocketFactory.create(c,dD(s),E);_.connect(),await f;let x={setup:{model:K(this.apiClient,e.model)}};return _.send(JSON.stringify(x)),new pl(_,this.apiClient)}},pl=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=XC(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=QC(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qo.PLAY)}pause(){this.sendPlaybackControl(qo.PAUSE)}stop(){this.sendPlaybackControl(qo.STOP)}resetContext(){this.sendPlaybackControl(qo.RESET_CONTEXT)}close(){this.conn.close()}};function dD(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function fD(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var pD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mD(t,e,n){let o=new Ku,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=n_(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var ml=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new fl(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&mm(e.config.tools)&&gm(p);let m=yD(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{let B=this.apiClient.getApiKey(),Q="BidiGenerateContent",me="key";B?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",me="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${Q}?${me}=${B}`}let y=()=>{},E=new Promise(B=>{y=B}),_=e.callbacks,I=function(){var B;(B=_?.onopen)===null||B===void 0||B.call(_),y({})},T=this.apiClient,x={onopen:I,onmessage:B=>{mD(T,_.onmessage,B)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(B){},onclose:(o=_?.onclose)!==null&&o!==void 0?o:function(B){}},M=this.webSocketFactory.create(f,hD(m),x);M.connect(),await E;let H=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){let B=this.apiClient.getProject(),Q=this.apiClient.getLocation();H=`projects/${B}/locations/${Q}/`+H}let q={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vu.AUDIO]}:e.config.responseModalities=[Vu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let J=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],Z=[];for(let B of J)if(this.isCallableTool(B)){let Q=B;Z.push(await Q.tool())}else Z.push(B);Z.length>0&&(e.config.tools=Z);let he={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=KC(this.apiClient,he):q=jC(this.apiClient,he),delete q.config,M.send(JSON.stringify(q)),new gl(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},gD={turnComplete:!0},gl=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=He(n.turns),e.isVertexAI()||(o=o.map(r=>Vi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(pD)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},gD),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:t_(e)}:n={realtimeInput:e_(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function hD(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function yD(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var Vp=10;function Up(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if($n(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function $n(t){return"callTool"in t&&typeof t.callTool=="function"}function vD(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>$n(r)))!==null&&o!==void 0?o:!1}function Hp(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if($n(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Bp(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var hl=class extends Ke{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,l;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!vD(n)||Up(n.config))return await this.generateContentInternal(c);let d=Hp(n);if(d.length>0){let _=d.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,p,m=He(c.contents),y=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Vp,E=0;for(;E<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let _=f.candidates[0].content,I=[];for(let T of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if($n(T)){let M=await T.callTool(f.functionCalls);I.push(...M)}E++,p={role:"user",parts:I},c.contents=He(c.contents),c.contents.push(_),c.contents.push(p),Bp(c.config)&&(m.push(_),m.push(p))}return Bp(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var o,r,i,s,l;if(this.maybeMoveToResponseJsonSchem(n),Up(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=Hp(n);if(c.length>0){let p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(l=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let c of o.generatedImages)c&&c?.safetyAttributes&&((r=c?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c?.safetyAttributes:s.push(c);let l;return i?l={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},l}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Et(Pt.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async c=>$n(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&mm(e.config.tools)){let c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),gm(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if($n(s)){let l=s,c=await l.tool();for(let d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,l)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Vp,s=!1,l=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){var m,y;return Gn(this,arguments,function*(){for(var E,_,I,T;l<i;){s&&(l++,s=!1);let q=yield re(d.processParamsMaybeAddMcpUsage(p)),J=yield re(d.generateContentStreamInternal(q)),Z=[],he=[];try{for(var x=!0,M=(_=void 0,zo(J)),H;H=yield re(M.next()),E=H.done,!E;x=!0){T=H.value,x=!1;let B=T;if(yield yield re(B),B.candidates&&(!((m=B.candidates[0])===null||m===void 0)&&m.content)){he.push(B.candidates[0].content);for(let Q of(y=B.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<i&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(Q.functionCall.name)){let me=yield re(f.get(Q.functionCall.name).callTool([Q.functionCall]));Z.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(B){_={error:B}}finally{try{!x&&!E&&(I=M.return)&&(yield re(I.call(M)))}finally{if(_)throw _.error}}if(Z.length>0){s=!0;let B=new un;B.candidates=[{content:{role:"user",parts:Z}}],yield yield re(B);let Q=[];Q.push(...he),Q.push({role:"user",parts:Z});let me=He(p.contents).concat(Q);p.contents=me}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Rp(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=Fp(f),m=new un;return Object.assign(m,p),m})}else{let d=Pp(this.apiClient,e);return l=S("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=kp(f),m=new un;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Rp(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Gn(this,arguments,function*(){var m,y,E,_;try{for(var I=!0,T=zo(p),x;x=yield re(T.next()),m=x.done,!m;I=!0){_=x.value,I=!1;let M=_,H=Fp(yield re(M.json()));H.sdkHttpResponse={headers:M.headers};let q=new un;Object.assign(q,H),yield yield re(q)}}catch(M){y={error:M}}finally{try{!I&&!m&&(E=T.return)&&(yield re(E.call(T)))}finally{if(y)throw y.error}}})})}else{let d=Pp(this.apiClient,e);return l=S("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Gn(this,arguments,function*(){var m,y,E,_;try{for(var I=!0,T=zo(p),x;x=yield re(T.next()),m=x.done,!m;I=!0){_=x.value,I=!1;let M=_,H=kp(yield re(M.json()));H.sdkHttpResponse={headers:M.headers};let q=new un;Object.assign(q,H),yield yield re(q)}}catch(M){y={error:M}}finally{try{!I&&!m&&(E=T.return)&&(yield re(E.call(T)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=P_(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=k_(f),m=new Ti;return Object.assign(m,p),m})}else{let d=b_(this.apiClient,e);return l=S("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=R_(f),m=new Ti;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=z_(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=J_(f),m=new Si;return Object.assign(m,p),m})}else{let d=q_(this.apiClient,e);return l=S("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=W_(f),m=new Si;return Object.assign(m,p),m})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=M_(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=A_(c),f=new Uu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=zI(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=WI(c),f=new Hu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=wI(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=MI(c),f=new Bu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=RI(this.apiClient,e);return i=S("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=kI(c),f=new Gu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=cI(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ul(f))}else{let d=lI(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>al(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=EI(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=_I(f),m=new wi;return Object.assign(m,p),m})}else{let d=vI(this.apiClient,e);return l=S("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=CI(f),m=new wi;return Object.assign(m,p),m})}}async update(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=$I(this.apiClient,e);return l=S("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ul(f))}else{let d=GI(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>al(f))}}async delete(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=D_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=S_(f),m=new Mi;return Object.assign(m,p),m})}else{let d=I_(this.apiClient,e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=T_(f),m=new Mi;return Object.assign(m,p),m})}}async countTokens(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=E_(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=__(f),m=new Ai;return Object.assign(m,p),m})}else{let d=v_(this.apiClient,e);return l=S("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=C_(f),m=new Ai;return Object.assign(m,p),m})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=d_(this.apiClient,e);return i=S("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{let d=f_(c),f=new $u;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=X_(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=K_(f),m=new xi;return Object.assign(m,p),m})}else{let d=Q_(this.apiClient,e);return l=S("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=j_(f),m=new xi;return Object.assign(m,p),m})}}};var yl=class extends Ke{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Yv(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=Jv(e);return l=S("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=Hv(e);return i=S("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function ED(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function CD(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xD(i))),u(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&u(e,["role"],o),e}function _D(t,e,n){let o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&u(n,["expireTime"],r);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);let l=a(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&u(n,["bidiGenerateContentSetup"],AD(t,l));let c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),o}function ID(t,e){let n={},o=a(e,["config"]);return o!=null&&u(n,["config"],_D(t,o,n)),n}function DD(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TD(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let o=a(t,["args"]);o!=null&&u(e,["args"],o);let r=a(t,["name"]);if(r!=null&&u(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SD(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function wD(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function MD(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],Pl(p));let m=a(t,["thinkingConfig"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","thinkingConfig"],m);let y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],y);let E=a(t,["systemInstruction"]);e!==void 0&&E!=null&&u(e,["setup","systemInstruction"],CD(_e(E)));let _=a(t,["tools"]);if(e!==void 0&&_!=null){let J=zn(_);Array.isArray(J)&&(J=J.map(Z=>bD(qn(Z)))),u(e,["setup","tools"],J)}let I=a(t,["sessionResumption"]);e!==void 0&&I!=null&&u(e,["setup","sessionResumption"],ND(I));let T=a(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&u(e,["setup","inputAudioTranscription"],T);let x=a(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&u(e,["setup","outputAudioTranscription"],x);let M=a(t,["realtimeInputConfig"]);e!==void 0&&M!=null&&u(e,["setup","realtimeInputConfig"],M);let H=a(t,["contextWindowCompression"]);e!==void 0&&H!=null&&u(e,["setup","contextWindowCompression"],H);let q=a(t,["proactivity"]);return e!==void 0&&q!=null&&u(e,["setup","proactivity"],q),n}function AD(t,e){let n={},o=a(e,["model"]);o!=null&&u(n,["setup","model"],K(t,o));let r=a(e,["config"]);return r!=null&&u(n,["config"],MD(r,n)),n}function xD(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],DD(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],TD(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],ED(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let m=a(t,["videoMetadata"]);return m!=null&&u(e,["videoMetadata"],m),e}function ND(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bD(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let r=a(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],SD(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],wD(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function PD(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function RD(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=PD(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],l=[];r.length>0&&(l=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var vl=class extends Ke{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l=ID(this.apiClient,e);i=S("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;let c=RD(l,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function kD(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),n}function FD(t){let e={},n=a(t,["config"]);return n!=null&&kD(n,e),e}function LD(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function OD(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&LD(o,e),e}function VD(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function UD(t,e){let n={},o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}let r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),n}function HD(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let o=a(t,["metadata"]);o!=null&&u(e,["metadata"],o);let r=a(t,["done"]);r!=null&&u(e,["done"],r);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],GD(s)),e}function BD(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["fileName"]);o!=null&&u(e,["fileName"],o);let r=a(t,["config"]);return r!=null&&UD(r,e),e}function GD(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&u(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function $D(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function qD(t){let e={},n=a(t,["config"]);return n!=null&&$D(n,e),e}function zD(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function WD(t,e){let n={},o=a(t,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);let r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["customMetadata"],l)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function JD(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let o=a(t,["config"]);return o!=null&&WD(o,e),e}function YD(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function ZD(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function jD(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&ZD(o,e),e}function KD(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function QD(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function XD(t){let e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);let o=a(t,["config"]);return o!=null&&QD(o,e),e}function eT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);let r=a(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}var El=class extends Ke{constructor(e){super(),this.apiClient=e,this.list=async n=>new Et(Pt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=KD(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=jD(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=XD(e);return i=S("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=eT(c),f=new qu;return Object.assign(f,d),f})}}};var Cl=class extends Ke{constructor(e,n=new El(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Et(Pt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=FD(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=VD(e);return i=S("{name}",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=OD(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=qD(e);return i=S("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=zD(c),f=new zu;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=JD(e);return i=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=YD(c),f=new Wu;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=BD(e);return i=S("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{let d=HD(c),f=new Ju;return Object.assign(f,d),f})}}};function tT(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function nT(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function oT(t,e,n){let o={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let l=a(t,["batchSize"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","batchSize"],l);let c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function rT(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let y=a(t,["validationDataset"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec"],Gp(y))}else if(r==="PREFERENCE_TUNING"){let y=a(t,["validationDataset"]);e!==void 0&&y!=null&&u(e,["preferenceOptimizationSpec"],Gp(y))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let y=a(t,["epochCount"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(l==="PREFERENCE_TUNING"){let y=a(t,["epochCount"]);e!==void 0&&y!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let y=a(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){let y=a(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let y=a(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){let y=a(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let y=a(t,["adapterSize"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){let y=a(t,["adapterSize"]);e!==void 0&&y!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=a(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);let m=a(t,["beta"]);return e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function iT(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&hT(i);let s=a(t,["config"]);return s!=null&&oT(s,n),n}function sT(t,e){let n={},o=a(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&yT(i,n,e);let s=a(t,["config"]);return s!=null&&rT(s,n,e),n}function aT(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function uT(t,e){let n={},o=a(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function lT(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function cT(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),o}function dT(t,e){let n={},o=a(t,["config"]);return o!=null&&lT(o,n),n}function fT(t,e){let n={},o=a(t,["config"]);return o!=null&&cT(o,n),n}function pT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>hm(l))),u(n,["tuningJobs"],s)}return n}function mT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>_l(l))),u(n,["tuningJobs"],s)}return n}function gT(t,e){let n={},o=a(t,["name"]);o!=null&&u(n,["model"],o);let r=a(t,["name"]);return r!=null&&u(n,["endpoint"],r),n}function hT(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=a(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["examples","examples"],r)}return n}function yT(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function hm(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],Kp(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["tuningTask","startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&u(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);let m=a(t,["_self"]);return m!=null&&u(n,["tunedModel"],gT(m)),n}function _l(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["state"]);i!=null&&u(n,["state"],Kp(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&u(n,["error"],f);let p=a(t,["description"]);p!=null&&u(n,["description"],p);let m=a(t,["baseModel"]);m!=null&&u(n,["baseModel"],m);let y=a(t,["tunedModel"]);y!=null&&u(n,["tunedModel"],y);let E=a(t,["preTunedModel"]);E!=null&&u(n,["preTunedModel"],E);let _=a(t,["supervisedTuningSpec"]);_!=null&&u(n,["supervisedTuningSpec"],_);let I=a(t,["preferenceOptimizationSpec"]);I!=null&&u(n,["preferenceOptimizationSpec"],I);let T=a(t,["tuningDataStats"]);T!=null&&u(n,["tuningDataStats"],T);let x=a(t,["encryptionSpec"]);x!=null&&u(n,["encryptionSpec"],x);let M=a(t,["partnerModelTuningSpec"]);M!=null&&u(n,["partnerModelTuningSpec"],M);let H=a(t,["customBaseModel"]);H!=null&&u(n,["customBaseModel"],H);let q=a(t,["experiment"]);q!=null&&u(n,["experiment"],q);let J=a(t,["labels"]);J!=null&&u(n,["labels"],J);let Z=a(t,["outputUri"]);Z!=null&&u(n,["outputUri"],Z);let he=a(t,["pipelineJob"]);he!=null&&u(n,["pipelineJob"],he);let B=a(t,["serviceAccount"]);B!=null&&u(n,["serviceAccount"],B);let Q=a(t,["tunedModelDisplayName"]);Q!=null&&u(n,["tunedModelDisplayName"],Q);let me=a(t,["veoTuningSpec"]);return me!=null&&u(n,["veoTuningSpec"],me),n}function vT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&u(n,["name"],r);let i=a(t,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(t,["done"]);s!=null&&u(n,["done"],s);let l=a(t,["error"]);return l!=null&&u(n,["error"],l),n}function Gp(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&u(n,["validationDatasetUri"],o);let r=a(t,["vertexDatasetResource"]);return r!=null&&u(n,["validationDatasetUri"],r),n}var Il=class extends Ke{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Et(Pt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:zp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=uT(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>_l(f))}else{let d=aT(e);return l=S("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>hm(f))}}async listInternal(e){var n,o,r,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=fT(e);return l=S("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=mT(f),m=new Ni;return Object.assign(m,p),m})}else{let d=dT(e);return l=S("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{let p=pT(f),m=new Ni;return Object.assign(m,p),m})}}async cancel(e){var n,o,r,i;let s="",l={};if(this.apiClient.isVertexAI()){let c=nT(e);s=S("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let c=tT(e);s=S("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let l=sT(e,e);return i=S("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>_l(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=iT(e);return i=S("tunedModels",l._url),s=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>vT(c))}}};var Dl=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},ET=1024*1024*8,CT=3,_T=1e3,IT=2,Li="x-goog-upload-status";async function DT(t,e,n){var o;let r=await ym(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Li])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function TT(t,e,n){var o;let r=await ym(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[Li])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=qp(i),l=new Xu;return Object.assign(l,s),l}async function ym(t,e,n){var o,r;let i=0,s=0,l=new Wo(new Response),c="upload";for(i=t.size;s<i;){let d=Math.min(ET,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let p=0,m=_T;for(;p<CT&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=l?.headers)===null||o===void 0)&&o[Li]));)p++,await wT(m),m=m*IT;if(s+=d,((r=l?.headers)===null||r===void 0?void 0:r[Li])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function ST(t){return{size:t.size,type:t.type}}function wT(t){return new Promise(e=>setTimeout(e,t))}var Tl=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DT(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TT(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ST(e)}};var Sl=class{create(e,n,o){return new wl(e,n,o)}},wl=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var $p="x-goog-api-key",Ml=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get($p)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append($p,this.apiKey)}}};var MT="gl-node/",Oi=class{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=Vv(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;let r=new Ml(this.apiKey);this.apiClient=new cl({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:MT+"web",uploader:new Tl,downloader:new Dl}),this.models=new hl(this.apiClient),this.live=new ml(this.apiClient,r,new Sl),this.batches=new nl(this.apiClient),this.chats=new rl(this.models,this.apiClient),this.caches=new ol(this.apiClient),this.files=new sl(this.apiClient),this.operations=new yl(this.apiClient),this.authTokens=new vl(this.apiClient),this.tunings=new Il(this.apiClient),this.fileSearchStores=new Cl(this.apiClient)}};var Rl={production:!1,apiKey:"AIzaSyBNVxkKHiU0-7sFZJ4PWDqS2J7wndc1PWo"};var cn=class cn{constructor(){this.status=W("idle");this.pickupCode=W(null);this.error=W(null);this.studentName=W("");this.studentClass=W("");this.eta=W(5);this.geminiMessage=W(null);this.carColor=W("");this.carPlate=W("");this.notes=W("");this.pickupRequestAuthorizedPerson=W(null);this.verifiedPickup=W(null);this.ai=null;this.storageKey="pickupAppState";this.injector=P(Ge);Rl.apiKey?this.ai=new Oi({apiKey:Rl.apiKey}):console.error("API Key not found. Please set it in src/environments/environment.ts"),this.loadStateFromLocalStorage(),Sn(this.injector,()=>{Fo(()=>{let e={status:this.status(),pickupCode:this.pickupCode(),studentName:this.studentName(),studentClass:this.studentClass(),eta:this.eta(),geminiMessage:this.geminiMessage(),carColor:this.carColor(),carPlate:this.carPlate(),notes:this.notes(),pickupRequestAuthorizedPerson:this.pickupRequestAuthorizedPerson(),verifiedPickup:this.verifiedPickup()};localStorage.setItem(this.storageKey,JSON.stringify(e))})})}loadStateFromLocalStorage(){let e=localStorage.getItem(this.storageKey);if(e)try{let n=JSON.parse(e);this.status.set(n.status),this.pickupCode.set(n.pickupCode),this.studentName.set(n.studentName),this.studentClass.set(n.studentClass),this.eta.set(n.eta),this.geminiMessage.set(n.geminiMessage),this.carColor.set(n.carColor),this.carPlate.set(n.carPlate),this.notes.set(n.notes),this.pickupRequestAuthorizedPerson.set(n.pickupRequestAuthorizedPerson),this.verifiedPickup.set(n.verifiedPickup)}catch(n){console.error("Failed to parse state from localStorage",n),localStorage.removeItem(this.storageKey)}}async notifySchool(e){if(!this.studentName()||!this.studentClass()||!e){this.error.set("\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0625\u0644\u0632\u0627\u0645\u064A\u0629 \u0648\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u0633\u062A\u0644\u0645.");return}if(!this.ai){this.error.set("\u0645\u0641\u062A\u0627\u062D API \u063A\u064A\u0631 \u0645\u064F\u0639\u062F. \u064A\u0631\u062C\u0649 \u062A\u0639\u064A\u064A\u0646 \u0645\u062A\u063A\u064A\u0631 \u0627\u0644\u0628\u064A\u0626\u0629 API_KEY.");return}this.status.set("notifying"),this.error.set(null),this.pickupRequestAuthorizedPerson.set(e);try{let n=Math.floor(1e3+Math.random()*9e3).toString();this.pickupCode.set(n);let o=`
        \u062A\u0645 \u0627\u0633\u062A\u0644\u0627\u0645 \u0625\u0634\u0639\u0627\u0631 \u0627\u0633\u062A\u0644\u0627\u0645 \u0644\u0644\u0637\u0627\u0644\u0628/\u0629: ${this.studentName()} \u0645\u0646 \u0641\u0635\u0644 ${this.studentClass()}.
        \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0635\u0648\u0644:
        - \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A \u0644\u0644\u0648\u0635\u0648\u0644: ${this.eta()} \u062F\u0642\u0627\u0626\u0642.
        - \u0627\u0644\u0645\u0633\u062A\u0644\u0645: ${e.name} (\u0635\u0644\u0629 \u0627\u0644\u0642\u0631\u0627\u0628\u0629: ${e.relation}, \u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629: ${e.idNumber}).
        - \u0644\u0648\u0646 \u0627\u0644\u0633\u064A\u0627\u0631\u0629: ${this.carColor()||"\u0644\u0645 \u064A\u062D\u062F\u062F"}.
        - \u0631\u0642\u0645 \u0627\u0644\u0644\u0648\u062D\u0629: ${this.carPlate()||"\u0644\u0645 \u064A\u062D\u062F\u062F"}.
        - \u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0633\u0631\u064A: ${n}.
        - \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629: ${this.notes()||"\u0644\u0627 \u064A\u0648\u062C\u062F"}.
        \u0628\u0635\u0641\u062A\u0643 \u0645\u0633\u0627\u0639\u062F\u064B\u0627 \u0625\u062F\u0627\u0631\u064A\u064B\u0627 \u0641\u064A \u0627\u0644\u0645\u062F\u0631\u0633\u0629\u060C \u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0631\u0633\u0627\u0644\u0629 \u0642\u0635\u064A\u0631\u0629 \u0648\u0645\u0637\u0645\u0626\u0646\u0629 \u0644\u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631. \u0623\u0643\u062F \u0627\u0633\u062A\u0644\u0627\u0645 \u062C\u0645\u064A\u0639 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0630\u0643\u0648\u0631\u0629 \u0623\u0639\u0644\u0627\u0647. \u0623\u0628\u0644\u063A\u0647 \u0628\u0623\u0646\u0647 \u062A\u0645 \u0625\u062E\u0637\u0627\u0631 \u0627\u0644\u0645\u0639\u0644\u0645 \u0648\u0623\u0646 \u0627\u0644\u0637\u0627\u0644\u0628/\u0629 ${this.studentName()} \u0633\u064A\u0643\u0648\u0646/\u0633\u062A\u0643\u0648\u0646 \u062C\u0627\u0647\u0632\u064B\u0627/\u0629 \u0639\u0646\u062F \u0627\u0644\u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 \u0641\u064A \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062D\u062F\u062F. \u0630\u0643\u0631\u0647 \u0628\u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 ${n} \u0627\u0644\u0630\u064A \u064A\u062C\u0628 \u0625\u0638\u0647\u0627\u0631\u0647 \u0644\u0644\u062D\u0627\u0631\u0633. \u0627\u062C\u0639\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u062D\u062A\u0631\u0627\u0641\u064A\u0629 \u0648\u0648\u0627\u0636\u062D\u0629.
      `,r=await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:o});this.geminiMessage.set(r.text),this.status.set("notified")}catch(n){console.error(n),this.error.set("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u062F\u0631\u0633\u0629. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.status.set("idle")}}alertTeacher(){this.status()==="notified"&&this.status.set("teacher_alerted")}markAsReady(){this.status()==="teacher_alerted"&&this.status.set("ready")}verifyCode(e){return e===this.pickupCode()&&this.pickupRequestAuthorizedPerson()?(this.verifiedPickup.set({studentName:this.studentName(),studentClass:this.studentClass(),authorizedPerson:this.pickupRequestAuthorizedPerson()}),!0):(this.verifiedPickup.set(null),!1)}confirmPickup(){this.status.set("picked_up")}resetPickupState(){this.studentName.set(""),this.studentClass.set(""),this.eta.set(5),this.pickupCode.set(null),this.status.set("idle"),this.geminiMessage.set(null),this.error.set(null),this.pickupRequestAuthorizedPerson.set(null),this.carColor.set(""),this.carPlate.set(""),this.notes.set(""),this.verifiedPickup.set(null),localStorage.removeItem(this.storageKey)}};cn.\u0275fac=function(n){return new(n||cn)},cn.\u0275prov=oe({token:cn,factory:cn.\u0275fac,providedIn:"root"});var Me=cn;function AT(t,e){if(t&1&&(g(0,"p",13),v(1),h()),t&2){let n=D();C(),G(n.error())}}var Jn=class Jn{constructor(){this.error=mp(null);this.login=Te();this.loginUsername=W("");this.loginPassword=W("")}onLoginUsernameInput(e){this.loginUsername.set(e.target.value)}onLoginPasswordInput(e){this.loginPassword.set(e.target.value)}handleLogin(){this.login.emit({username:this.loginUsername(),password:this.loginPassword()})}};Jn.\u0275fac=function(n){return new(n||Jn)},Jn.\u0275cmp=ve({type:Jn,selectors:[["app-login"]],inputs:{error:[1,"error"]},outputs:{login:"login"},decls:60,vars:3,consts:[[1,"login-container"],[1,"login-header"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"],[1,"title"],[1,"subtitle"],[1,"login-form",3,"submit"],[1,"form-group"],["for","username",1,"form-label"],["id","username","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0645\u062F\u064A\u0631",1,"form-input",3,"input","value"],["for","password",1,"form-label"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input",3,"input","value"],[1,"error-message"],["type","submit",1,"submit-button"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"button-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25-2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"],[1,"demo-accounts"],[1,"demo-title"],[1,"demo-subtitle"],[1,"demo-list"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"div",2),A(),g(3,"svg",3),w(4,"path",4),h(),N(),g(5,"h1",5),v(6,"\u0646\u0638\u0627\u0645 \u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0627\u0628"),h()(),g(7,"p",6),v(8,"\u064A\u0631\u062C\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0644\u0644\u0645\u062A\u0627\u0628\u0639\u0629."),h()(),g(9,"main")(10,"form",7),b("submit",function(i){return i.preventDefault(),o.handleLogin()}),g(11,"div",8)(12,"label",9),v(13,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),h(),g(14,"input",10),b("input",function(i){return o.onLoginUsernameInput(i)}),h()(),g(15,"div",8)(16,"label",11),v(17,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),h(),g(18,"input",12),b("input",function(i){return o.onLoginPasswordInput(i)}),h()(),L(19,AT,2,1,"p",13),g(20,"button",14),A(),g(21,"svg",15),w(22,"path",16),h(),v(23," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),h()(),N(),g(24,"div",17)(25,"p",18),v(26,"\u062D\u0633\u0627\u0628\u0627\u062A \u062A\u062C\u0631\u064A\u0628\u064A\u0629 (\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631: 123):"),h(),g(27,"p",19),v(28,"\u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0639\u0631\u0628\u064A \u0623\u0648 \u0627\u0644\u0625\u0646\u062C\u0644\u064A\u0632\u064A \u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644:"),h(),g(29,"ul",20)(30,"li")(31,"strong"),v(32,"\u0648\u0644\u064A"),h(),v(33," / "),g(34,"strong"),v(35,"parent"),h()(),g(36,"li")(37,"strong"),v(38,"\u0645\u062F\u0631\u0633\u0629"),h(),v(39," / "),g(40,"strong"),v(41,"school"),h()(),g(42,"li")(43,"strong"),v(44,"\u0645\u0639\u0644\u0645"),h(),v(45," / "),g(46,"strong"),v(47,"teacher"),h()(),g(48,"li")(49,"strong"),v(50,"\u062D\u0627\u0631\u0633"),h(),v(51," / "),g(52,"strong"),v(53,"guard"),h()(),g(54,"li")(55,"strong"),v(56,"\u0645\u062F\u064A\u0631"),h(),v(57," / "),g(58,"strong"),v(59,"admin"),h()()()()()()),n&2&&(C(14),ie("value",o.loginUsername()),C(4),ie("value",o.loginPassword()),C(),O(o.error()?19:-1))},styles:[".login-container[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200);text-align:center;width:100%;max-width:28rem;margin-right:170px}@media (min-width: 640px){.login-container[_ngcontent-%COMP%]{padding:2rem}}@media (min-width: 768px){.login-container[_ngcontent-%COMP%]{max-width:32rem}}.login-header[_ngcontent-%COMP%]{margin-bottom:2rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;color:var(--color-blue-600)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{text-align:right}.form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--color-gray-700);margin-bottom:.25rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid var(--color-gray-300);border-radius:.5rem;transition:border-color .2s,box-shadow .2s;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-blue-500);box-shadow:0 0 0 3px #3b82f680}.error-message[_ngcontent-%COMP%]{color:var(--color-red-500);font-size:.875rem;font-weight:500}.submit-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-blue-600);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700)}.button-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.demo-accounts[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.75rem;color:var(--color-gray-400);text-align:right}.demo-title[_ngcontent-%COMP%]{font-weight:700}.demo-subtitle[_ngcontent-%COMP%]{margin-bottom:.25rem}.demo-list[_ngcontent-%COMP%]{list-style-position:inside;list-style-type:disc;columns:2}"],changeDetection:0});var Bi=Jn;var vm=(t,e)=>e.id;function xT(t,e){t&1&&(g(0,"div",45),A(),g(1,"svg",46),w(2,"path",47),h()())}function NT(t,e){if(t&1){let n=ee();g(0,"button",41),b("click",function(){let r=R(n).$implicit,i=D(3);return k(i.selectedPickupPersonId.set(r.id))}),w(1,"img",42),g(2,"span",43),v(3),h(),g(4,"span",44),v(5),h(),L(6,xT,3,0,"div",45),h()}if(t&2){let n=e.$implicit,o=D(3);je("selected",o.selectedPickupPersonId()===n.id),C(),ie("alt",gi("\u0635\u0648\u0631\u0629 ",n.name))("src",n.photo,vt),C(2),G(n.name),C(2),G(n.relation),C(),O(o.selectedPickupPersonId()===n.id?6:-1)}}function bT(t,e){if(t&1){let n=ee();g(0,"form",15),b("submit",function(r){R(n);let i=D(2);return r.preventDefault(),k(i.notifySchool())}),g(1,"fieldset",16)(2,"legend",17),v(3,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0627\u0644\u0628"),h(),g(4,"div",18)(5,"div",19)(6,"label",20),v(7,"\u0627\u0633\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 \u0627\u0644\u0643\u0627\u0645\u0644"),h(),g(8,"input",21),b("input",function(r){R(n);let i=D(2);return k(i.onStudentNameInput(r))}),h()(),g(9,"div",19)(10,"label",22),v(11,"\u0627\u0644\u0641\u0635\u0644 / \u0627\u0644\u0635\u0641"),h(),g(12,"input",23),b("input",function(r){R(n);let i=D(2);return k(i.onStudentClassInput(r))}),h()()()(),g(13,"fieldset",16)(14,"legend",17),v(15,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),g(16,"div",19)(17,"label",24),v(18,"\u0645\u0646 \u0647\u0648 \u0627\u0644\u0645\u0633\u062A\u0644\u0645\u061F"),h(),g(19,"div",25),fi(20,NT,7,8,"button",26,vm),g(22,"button",27),b("click",function(){R(n);let r=D(2);return r.parentViewMode.set("manage"),k(r.resetPersonForm())}),A(),g(23,"svg",3),w(24,"path",28),h(),N(),g(25,"span"),v(26,"\u0625\u0636\u0627\u0641\u0629 \u0634\u062E\u0635"),h()()()(),g(27,"div",18)(28,"div",19)(29,"label",29),v(30,"\u0644\u0648\u0646 \u0627\u0644\u0633\u064A\u0627\u0631\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),h(),g(31,"input",30),b("input",function(r){R(n);let i=D(2);return k(i.onCarColorInput(r))}),h()(),g(32,"div",19)(33,"label",31),v(34,"\u0631\u0642\u0645 \u0627\u0644\u0644\u0648\u062D\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),h(),g(35,"input",32),b("input",function(r){R(n);let i=D(2);return k(i.onCarPlateInput(r))}),h()()(),g(36,"div",19)(37,"label",33),v(38,"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),h(),g(39,"textarea",34),b("input",function(r){R(n);let i=D(2);return k(i.onNotesInput(r))}),h()(),g(40,"div",19)(41,"label",24),v(42,"\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A \u0644\u0644\u0648\u0635\u0648\u0644"),h(),g(43,"div",35)(44,"button",36),b("click",function(){R(n);let r=D(2);return k(r.setEta(5))}),v(45,"5 \u062F\u0642\u0627\u0626\u0642"),h(),g(46,"button",36),b("click",function(){R(n);let r=D(2);return k(r.setEta(10))}),v(47,"10 \u062F\u0642\u0627\u0626\u0642"),h(),g(48,"button",36),b("click",function(){R(n);let r=D(2);return k(r.setEta(15))}),v(49,"15 \u062F\u0642\u064A\u0642\u0629"),h()()()(),g(50,"button",37),A(),g(51,"svg",3),w(52,"path",38),h(),v(53," \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u062F\u0631\u0633\u0629 "),h()(),N(),g(54,"div",39)(55,"button",40),b("click",function(){R(n);let r=D(2);return k(r.parentViewMode.set("manage"))}),v(56,"\u0623\u0648 \u0625\u062F\u0627\u0631\u0629 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u0635\u0631\u062D \u0644\u0647\u0645"),h()()}if(t&2){let n=D(2);C(8),ie("value",n.pickupState.studentName()),C(4),ie("value",n.pickupState.studentClass()),C(8),pi(n.authorizedPersons()),C(11),ie("value",n.pickupState.carColor()),C(4),ie("value",n.pickupState.carPlate()),C(4),ie("value",n.pickupState.notes()),C(5),je("active",n.pickupState.eta()===5),C(2),je("active",n.pickupState.eta()===10),C(2),je("active",n.pickupState.eta()===15),C(2),ie("disabled",!n.pickupState.studentName()||!n.pickupState.studentClass()||!n.selectedPickupPersonId())}}function PT(t,e){t&1&&(g(0,"div",11),w(1,"div",48),g(2,"span"),v(3,"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0648\u0627\u0635\u0644 \u0645\u0639 \u0627\u0644\u0645\u062F\u0631\u0633\u0629..."),h()())}function RT(t,e){if(t&1){let n=ee();g(0,"div",12)(1,"h2",49),v(2),h(),g(3,"p",50),v(4),h(),g(5,"div",51)(6,"strong"),v(7,"\u0646\u062C\u0627\u062D!"),h(),g(8,"span"),v(9),h()(),g(10,"button",52),b("click",function(){R(n);let r=D(2);return k(r.resetAndStartNew())}),v(11," \u0628\u062F\u0621 \u0637\u0644\u0628 \u0627\u0633\u062A\u0644\u0627\u0645 \u062C\u062F\u064A\u062F "),h()()}if(t&2){let n=D(2);C(2),fe("\u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 ",n.pickupState.studentName()),C(2),fe("\u0627\u0644\u0641\u0635\u0644 ",n.pickupState.studentClass()),C(5),fe(" \u062A\u0645 \u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 ",n.pickupState.studentName(),".")}}function kT(t,e){if(t&1&&(g(0,"p",62),v(1),h()),t&2){let n=D(3);C(),G(n.shareStatusMessage())}}function FT(t,e){if(t&1&&(g(0,"blockquote",63),v(1),h()),t&2){let n=D(3);C(),fe(" ",n.pickupState.geminiMessage()," ")}}function LT(t,e){if(t&1){let n=ee();g(0,"div",13)(1,"h2",49),v(2),h(),g(3,"p",50),v(4),h(),g(5,"div",53)(6,"p",54),v(7,"\u0623\u0638\u0647\u0631 \u0647\u0630\u0627 \u0627\u0644\u0631\u0645\u0632 \u0644\u062D\u0627\u0631\u0633 \u0627\u0644\u0645\u062F\u0631\u0633\u0629 \u0644\u0644\u062A\u062D\u0642\u0642"),h(),w(8,"div",55),g(9,"div")(10,"p",56),v(11,"\u0623\u0648 \u0627\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0631\u0642\u0645\u064A:"),h(),g(12,"p",57),v(13),h()()(),g(14,"div",58)(15,"button",59),b("click",function(){R(n);let r=D(2);return k(r.sharePickupDetails())}),A(),g(16,"svg",3),w(17,"path",60),h(),v(18," \u0645\u0634\u0627\u0631\u0643\u0629 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 "),h(),N(),g(19,"div",61),L(20,kT,2,1,"p",62),h()(),L(21,FT,2,1,"blockquote",63),g(22,"ol",64)(23,"li",65)(24,"div",66)(25,"span",67),A(),g(26,"svg",68),w(27,"path",69),h()(),N(),g(28,"span",70),v(29,"\u062A\u0645 \u0627\u0644\u0625\u0628\u0644\u0627\u063A"),h()()(),g(30,"li",65)(31,"div",66)(32,"span",67),A(),g(33,"svg",68),w(34,"path",69),h()(),N(),g(35,"span",70),v(36,"\u062A\u0645 \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645"),h()()(),g(37,"li",65)(38,"div",66)(39,"span",67),A(),g(40,"svg",68),w(41,"path",69),h()(),N(),g(42,"span",70),v(43,"\u062C\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h()()(),g(44,"li",65)(45,"div",66)(46,"span",67),A(),g(47,"svg",68),w(48,"path",69),h()(),N(),g(49,"span",70),v(50,"\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h()()()()()}if(t&2){let n=D(2);C(2),fe("\u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 ",n.pickupState.studentName()),C(2),fe("\u0627\u0644\u0641\u0635\u0644 ",n.pickupState.studentClass()),C(9),G(n.pickupState.pickupCode()),C(7),O(n.shareStatusMessage()?20:-1),C(),O(n.pickupState.geminiMessage()?21:-1),C(2),je("completed",n.pickupState.status()==="notified"||n.pickupState.status()==="teacher_alerted"||n.pickupState.status()==="ready"||n.pickupState.status()==="picked_up"),C(7),je("completed",n.pickupState.status()==="teacher_alerted"||n.pickupState.status()==="ready"||n.pickupState.status()==="picked_up"),C(7),je("completed",n.pickupState.status()==="ready"||n.pickupState.status()==="picked_up"),C(7),je("completed",n.pickupState.status()==="picked_up")}}function OT(t,e){if(t&1&&(g(0,"p",14),v(1),h()),t&2){let n=D(2);C(),G(n.pickupState.error())}}function VT(t,e){if(t&1&&(L(0,bT,57,12)(1,PT,4,0,"div",11)(2,RT,12,3,"div",12),L(3,LT,51,13,"div",13),L(4,OT,2,1,"p",14)),t&2){let n,o=D();O((n=o.pickupState.status())==="idle"?0:n==="notifying"?1:n==="picked_up"?2:-1),C(3),O(o.pickupState.status()==="notified"||o.pickupState.status()==="teacher_alerted"||o.pickupState.status()==="ready"?3:-1),C(),O(o.pickupState.error()?4:-1)}}function UT(t,e){if(t&1&&(g(0,"div",79),v(1),h()),t&2){let n=D(2);C(),G(n.saveStatusMessage())}}function HT(t,e){if(t&1&&w(0,"img",82),t&2){let n=D(2);ie("src",n.personFormPhoto(),vt)}}function BT(t,e){t&1&&(g(0,"div",83),A(),g(1,"svg",3),w(2,"path",7),h()())}function GT(t,e){if(t&1){let n=ee();g(0,"button",98),b("click",function(){R(n);let r=D(2);return k(r.resetPersonForm())}),v(1,"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u0639\u062F\u064A\u0644"),h()}}function $T(t,e){if(t&1){let n=ee();g(0,"div",95)(1,"div",99),w(2,"img",100),g(3,"div")(4,"p",101),v(5),h(),g(6,"p",102),v(7),h(),g(8,"p",103),v(9),h()()(),g(10,"div",104)(11,"button",105),b("click",function(){let r=R(n).$implicit,i=D(2);return k(i.editPerson(r))}),A(),g(12,"svg",3),w(13,"path",106),h()(),N(),g(14,"button",107),b("click",function(){let r=R(n).$implicit,i=D(2);return k(i.requestDeletePerson(r.id))}),A(),g(15,"svg",3),w(16,"path",108),h()()()()}if(t&2){let n=e.$implicit;C(2),ie("alt",gi("\u0635\u0648\u0631\u0629 ",n.name))("src",n.photo,vt),C(3),G(n.name),C(2),G(n.relation),C(2),fe("\u0627\u0644\u0647\u0648\u064A\u0629: ",n.idNumber)}}function qT(t,e){t&1&&(g(0,"p",96),v(1,"\u0644\u0627 \u064A\u0648\u062C\u062F \u0623\u0634\u062E\u0627\u0635 \u0645\u0636\u0627\u0641\u0648\u0646 \u062D\u0627\u0644\u064A\u0627\u064B. \u0627\u0628\u062F\u0623 \u0628\u0625\u0636\u0627\u0641\u0629 \u0634\u062E\u0635 \u062C\u062F\u064A\u062F."),h())}function zT(t,e){if(t&1){let n=ee();g(0,"div",97)(1,"div",109)(2,"h3",110),v(3,"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062D\u0630\u0641"),h(),g(4,"p"),v(5,"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u0631\u063A\u0628\u062A\u0643 \u0641\u064A \u062D\u0630\u0641 "),g(6,"strong"),v(7),h(),v(8," \u0645\u0646 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u0635\u0631\u062D \u0644\u0647\u0645\u061F"),h(),g(9,"div",111)(10,"button",112),b("click",function(){R(n);let r=D(2);return k(r.cancelDelete())}),v(11,"\u0625\u0644\u063A\u0627\u0621"),h(),g(12,"button",113),b("click",function(){R(n);let r=D(2);return k(r.confirmDelete())}),v(13,"\u0646\u0639\u0645\u060C \u0642\u0645 \u0628\u0627\u0644\u062D\u0630\u0641"),h()()()()}if(t&2){let n,o=D(2);C(7),G((n=o.personToDelete())==null?null:n.name)}}function WT(t,e){if(t&1){let n=ee();g(0,"div",71)(1,"header",72)(2,"h2",73),v(3,"\u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u0635\u0631\u062D \u0644\u0647\u0645"),h(),g(4,"button",74),b("click",function(){R(n);let r=D();return k(r.parentViewMode.set("request"))}),A(),g(5,"svg",3),w(6,"path",75),h(),v(7," \u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0637\u0644\u0628 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 "),h()(),N(),g(8,"div",76)(9,"div",77)(10,"h3",78),v(11),h(),L(12,UT,2,1,"div",79),g(13,"form",80),b("submit",function(r){R(n);let i=D();return r.preventDefault(),k(i.saveAuthorizedPerson())}),g(14,"div",19)(15,"label",24),v(16,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0634\u062E\u0635"),h(),g(17,"div",81),L(18,HT,1,1,"img",82)(19,BT,3,0,"div",83),g(20,"input",84),b("change",function(r){R(n);let i=D();return k(i.onPhotoSelected(r))}),h()()(),g(21,"div",19)(22,"label",85),v(23,"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644"),h(),g(24,"input",86),b("input",function(r){R(n);let i=D();return k(i.onPersonFormNameInput(r))}),h()(),g(25,"div",19)(26,"label",87),v(27,"\u0635\u0644\u0629 \u0627\u0644\u0642\u0631\u0627\u0628\u0629"),h(),g(28,"input",88),b("input",function(r){R(n);let i=D();return k(i.onPersonFormRelationInput(r))}),h()(),g(29,"div",19)(30,"label",89),v(31,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0648\u064A\u0629 / \u0627\u0644\u0625\u0642\u0627\u0645\u0629"),h(),g(32,"input",90),b("input",function(r){R(n);let i=D();return k(i.onPersonFormIdNumberInput(r))}),h()(),g(33,"div",91)(34,"button",37),A(),g(35,"svg",3),w(36,"path",92),h(),v(37),h(),L(38,GT,2,0,"button",93),h()()(),N(),g(39,"div",94),fi(40,$T,17,6,"div",95,vm),L(42,qT,2,0,"p",96),h()()(),L(43,zT,14,1,"div",97)}if(t&2){let n=D();C(11),G(n.editingPersonId()?"\u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0634\u062E\u0635":"\u0625\u0636\u0627\u0641\u0629 \u0634\u062E\u0635 \u062C\u062F\u064A\u062F"),C(),O(n.saveStatusMessage()?12:-1),C(6),O(n.personFormPhoto()?18:19),C(6),ie("value",n.personFormName()),C(4),ie("value",n.personFormRelation()),C(4),ie("value",n.personFormIdNumber()),C(2),ie("disabled",!n.personFormName()||!n.personFormRelation()||!n.personFormIdNumber()||!n.personFormPhoto()),C(3),fe(" ",n.editingPersonId()?"\u062A\u062D\u062F\u064A\u062B":"\u062D\u0641\u0638"," "),C(),O(n.editingPersonId()?38:-1),C(2),pi(n.authorizedPersons()),C(2),O(n.authorizedPersons().length?-1:42),C(),O(n.personToDelete()?43:-1)}}var Yn=class Yn{constructor(){this.pickupState=P(Me);this.logoutRequest=Te();this.parentViewMode=W("request");this.shareStatusMessage=W(null);this.saveStatusMessage=W(null);this.personToDeleteId=W(null);this.personToDelete=Tu(()=>{let e=this.personToDeleteId();return e?this.authorizedPersons().find(n=>n.id===e)??null:null});this.authorizedPersons=W([{id:1,name:"\u0627\u0644\u0623\u0628",relation:"\u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631",idNumber:"1012345678",photo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2E1YjRjNyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTEuNzUgOC4yNUExLjUgMS41IDAgMCAwIDEwLjUgNi43NUg3LjVBNy41IDcuNSAwIDAgMCAwIDE0LjI1VjIwLjI1YzAgLjQxNC4zMzYuNzUuNzUuNzVoMy4xN2ExLjEyNiAxLjEyNiAwIDAgMSAxLjEyNS0xLjEyNVYxNWEzIDMgMCAwIDEgMy0zaDIuMjVhMyAzIDAgMCAxIDMgM3Y0Ljg3NWExLjEyNSAxLjEyNSAwIDAgMSAxLjEyNSAxLjEyNWgzLjE3YS43NS43NSAwIDAgMCAuNzUtLjc1VjE0LjI1QTcuNSA3LjUgMCAwIDAgMTYuNSA2Ljc1aC0zQTEuNSAxLjUgMCAwIDAgMTEuNzUgOC4yNVpNNy41IDEzLjVBNiA2IDAgMCAxIDEzLjUgNy41aDFBNiA2IDAgMCAxIDIwLjI1IDEzLjVWMjFINDEuNzV2LTcuNUE2IDYgMCAwIDEgNy41IDEzLjVaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIC8+PC9zdmc+"},{id:2,name:"\u0627\u0644\u0623\u0645",relation:"\u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631",idNumber:"1087654321",photo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2E1YjRjNyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQgMy43NUMxNCAyLjc4NCAxMy4yMTYgMiAxMi4yNSAyaC0uNUMxMC43ODQgMiAxMCAyLjc4NCAxMCAzLjc1VjVoNGExLjUgMS41IDAgMCAxIDEuNSAxdjQuNVYxNWE2IDYgMCAwIDEgNiA2djIuMjVhLjc1Ljc1IDAgMCAxLS43NS43NWgtNC4zMzhhMS4xMjUgMS4xMjUgMCAwIDEtMS4xMjUtMS4xMjVWMjFINy4xNjNhMS4xMjUgMS4xMjUgMCAwIDEtMS4xMjYgMS4xMjVILjcyYS43NS43NSAwIDAgMS0uNzUtLjc1VjIxYTYgNiAwIDAgMSA2LTZWMTAuNVY2LjVjMC0uODI4LjY3Mi0xLjUgMS41LTEuNWg0VjMuNzVaIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIC8+PC9zdmc+"}]);this.selectedPickupPersonId=W(1);this.personFormName=W("");this.personFormRelation=W("");this.personFormIdNumber=W("");this.personFormPhoto=W(null);this.editingPersonId=W(null);this.logout=()=>this.logoutRequest.emit();this.onStudentNameInput=e=>this.pickupState.studentName.set(e.target.value);this.onStudentClassInput=e=>this.pickupState.studentClass.set(e.target.value);this.onCarColorInput=e=>this.pickupState.carColor.set(e.target.value);this.onCarPlateInput=e=>this.pickupState.carPlate.set(e.target.value);this.onNotesInput=e=>this.pickupState.notes.set(e.target.value);this.setEta=e=>this.pickupState.eta.set(e);this.onPersonFormNameInput=e=>this.personFormName.set(e.target.value);this.onPersonFormRelationInput=e=>this.personFormRelation.set(e.target.value);this.onPersonFormIdNumberInput=e=>this.personFormIdNumber.set(e.target.value);Fo(()=>{let e=this.pickupState.status(),n=this.pickupState.pickupCode();(e==="notified"||e==="teacher_alerted"||e==="ready")&&n&&setTimeout(()=>{let o=document.getElementById("qrcode");o&&(o.innerHTML="",new QRCode(o,{text:n,width:128,height:128,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}))},0)})}notifySchool(){let e=this.authorizedPersons().find(n=>n.id===this.selectedPickupPersonId());e&&this.pickupState.notifySchool(e)}resetAndStartNew(){this.pickupState.resetPickupState(),this.parentViewMode.set("request"),this.selectedPickupPersonId.set(1)}async sharePickupDetails(){let{studentName:e,studentClass:n,pickupCode:o}=this.pickupState;if(!e()||!n()||!o())return;let r=`\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628: ${e()}
\u0627\u0644\u0641\u0635\u0644: ${n()}
\u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645: ${o()}`,i={title:"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628",text:r};try{navigator.share?(await navigator.share(i),this.shareStatusMessage.set("\u062A\u0645\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0628\u0646\u062C\u0627\u062D!")):(await navigator.clipboard.writeText(r),this.shareStatusMessage.set("\u062A\u0645 \u0646\u0633\u062E \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0644\u0649 \u0627\u0644\u062D\u0627\u0641\u0638\u0629!"))}catch(s){if(s instanceof DOMException&&s.name==="AbortError"){console.log("Share was canceled by the user.");return}console.error("Share/Copy failed:",s),this.shareStatusMessage.set("\u0641\u0634\u0644\u062A \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0623\u0648 \u0627\u0644\u0646\u0633\u062E.")}setTimeout(()=>this.shareStatusMessage.set(null),3e3)}onPhotoSelected(e){let n=e.target;if(n.files&&n.files[0]){let o=new FileReader;o.onload=r=>this.personFormPhoto.set(r.target?.result),o.readAsDataURL(n.files[0])}}saveAuthorizedPerson(){if(!(!this.personFormName()||!this.personFormRelation()||!this.personFormIdNumber()||!this.personFormPhoto())){if(this.editingPersonId())this.authorizedPersons.update(e=>e.map(n=>n.id===this.editingPersonId()?le(se({},n),{name:this.personFormName(),relation:this.personFormRelation(),idNumber:this.personFormIdNumber(),photo:this.personFormPhoto()}):n));else{let e={id:Date.now(),name:this.personFormName(),relation:this.personFormRelation(),idNumber:this.personFormIdNumber(),photo:this.personFormPhoto()};this.authorizedPersons.update(n=>[...n,e])}this.resetPersonForm(),this.saveStatusMessage.set("\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0628\u0646\u062C\u0627\u062D!"),setTimeout(()=>this.saveStatusMessage.set(null),3e3)}}editPerson(e){this.editingPersonId.set(e.id),this.personFormName.set(e.name),this.personFormRelation.set(e.relation),this.personFormIdNumber.set(e.idNumber),this.personFormPhoto.set(e.photo)}requestDeletePerson(e){this.personToDeleteId.set(e)}confirmDelete(){let e=this.personToDeleteId();e&&(this.authorizedPersons.update(n=>n.filter(o=>o.id!==e)),this.selectedPickupPersonId()===e&&this.selectedPickupPersonId.set(null)),this.personToDeleteId.set(null)}cancelDelete(){this.personToDeleteId.set(null)}resetPersonForm(){this.editingPersonId.set(null),this.personFormName.set(""),this.personFormRelation.set(""),this.personFormIdNumber.set(""),this.personFormPhoto.set(null)}};Yn.\u0275fac=function(n){return new(n||Yn)},Yn.\u0275cmp=ve({type:Yn,selectors:[["app-parent-portal"]],outputs:{logoutRequest:"logoutRequest"},decls:15,vars:2,consts:[[1,"portal-container"],[1,"portal-header"],["title","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",1,"logout-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"],[1,"title"],[1,"subtitle"],[1,"portal-main"],[1,"status-container"],[1,"pickup-complete-view"],[1,"pickup-status-view"],[1,"error-message"],[1,"pickup-form",3,"submit"],[1,"form-fieldset"],[1,"form-legend"],[1,"grid","grid-cols-2"],[1,"form-group"],["for","studentName",1,"form-label"],["id","studentName","type","text","placeholder","\u0645\u062B\u0627\u0644: \u062C\u0646\u0649 \u0639\u0628\u062F\u0627\u0644\u0644\u0647",1,"form-input",3,"input","value"],["for","studentClass",1,"form-label"],["id","studentClass","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0627\u0644\u0635\u0641 \u0627\u0644\u062B\u0627\u0644\u062B (\u0628)",1,"form-input",3,"input","value"],[1,"form-label"],[1,"person-selector-grid"],["type","button",1,"person-card",3,"selected"],["type","button",1,"add-person-card",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"],["for","carColor",1,"form-label"],["id","carColor","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0623\u0628\u064A\u0636",1,"form-input",3,"input","value"],["for","carPlate",1,"form-label"],["id","carPlate","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0623 \u0628 \u062C \u0661\u0662\u0663\u0664",1,"form-input",3,"input","value"],["for","notes",1,"form-label"],["id","notes","placeholder","\u0645\u062B\u0627\u0644: \u064A\u0631\u062C\u0649 \u062A\u0630\u0643\u064A\u0631\u0647 \u0628\u0625\u062D\u0636\u0627\u0631 \u062D\u0642\u064A\u0628\u0629 \u0627\u0644\u0631\u064A\u0627\u0636\u0629.","rows","2",1,"form-textarea",3,"input","value"],[1,"eta-buttons"],["type","button",1,"eta-button",3,"click"],["type","submit",1,"submit-button",3,"disabled"],["stroke-linecap","round","stroke-linejoin","round","d","M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"],[1,"manage-link-container"],[1,"manage-link",3,"click"],["type","button",1,"person-card",3,"click"],[1,"person-photo",3,"src","alt"],[1,"person-name"],[1,"person-relation"],[1,"selected-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.052-.143Z","clip-rule","evenodd"],[1,"spinner"],[1,"student-name"],[1,"student-class"],[1,"success-message"],[1,"primary-button",3,"click"],[1,"qr-code-container"],[1,"qr-code-instruction"],["id","qrcode",1,"qr-code"],[1,"code-instruction"],[1,"pickup-code"],[1,"share-container"],[1,"share-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M7.217 10.907a2.25 2.25 0 1 0 0 4.186m0-4.186a2.25 2.25 0 1 1 0 4.186m0-4.186 9.566-5.314m-9.566 5.314 9.566 5.314m0 0a2.25 2.25 0 1 0 0 4.186 2.25 2.25 0 0 0 0-4.186m-9.566-5.314a2.25 2.25 0 1 0 0-4.186 2.25 2.25 0 0 0 0 4.186"],[1,"share-status-message-container"],[1,"share-status-message"],[1,"gemini-message"],[1,"status-stepper"],[1,"step"],[1,"step-content"],[1,"step-icon-wrapper"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"step-icon"],["fill-rule","evenodd","d","M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z","clip-rule","evenodd"],[1,"step-label"],[1,"manage-view"],[1,"manage-view-header"],[1,"manage-title"],[1,"back-link",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"],[1,"manage-grid"],[1,"person-form-container"],[1,"person-form-title"],[1,"save-success-message"],[1,"person-form",3,"submit"],[1,"photo-input-group"],[1,"photo-preview",3,"src"],[1,"photo-placeholder"],["type","file","accept","image/*",1,"photo-input",3,"change"],["for","personName",1,"form-label"],["id","personName","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0623\u062D\u0645\u062F \u0645\u062D\u0645\u062F",1,"form-input",3,"input","value"],["for","personRelation",1,"form-label"],["id","personRelation","type","text","placeholder","\u0645\u062B\u0627\u0644: \u0627\u0644\u062C\u062F",1,"form-input",3,"input","value"],["for","personIdNumber",1,"form-label"],["id","personIdNumber","type","text","placeholder","10xxxxxxxx",1,"form-input",3,"input","value"],[1,"form-actions"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],["type","button",1,"cancel-button"],[1,"person-list"],[1,"person-list-item"],[1,"empty-list-message"],[1,"confirmation-dialog-backdrop"],["type","button",1,"cancel-button",3,"click"],[1,"person-details"],[1,"person-list-photo",3,"src","alt"],[1,"person-list-name"],[1,"person-list-relation"],[1,"person-list-id"],[1,"person-actions"],["title","\u062A\u0639\u062F\u064A\u0644",1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"],["title","\u062D\u0630\u0641",1,"action-button","delete-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"confirmation-dialog-box"],[1,"dialog-title"],[1,"dialog-actions"],[1,"dialog-cancel-button",3,"click"],[1,"dialog-confirm-button",3,"click"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"button",2),b("click",function(){return o.logout()}),A(),g(3,"svg",3),w(4,"path",4),h()(),N(),g(5,"div",5),A(),g(6,"svg",6),w(7,"path",7),h(),N(),g(8,"h1",8),v(9,"\u0628\u0648\u0627\u0628\u0629 \u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631"),h()(),g(10,"p",9),v(11),h()(),g(12,"main",10),L(13,VT,5,3)(14,WT,44,11),h()()),n&2&&(C(11),G(o.parentViewMode()==="request"?"\u0623\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0631\u0633\u0629 \u0639\u0646\u062F\u0645\u0627 \u062A\u0643\u0648\u0646 \u0641\u064A \u0637\u0631\u064A\u0642\u0643.":"\u0625\u062F\u0627\u0631\u0629 \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u0635\u0631\u062D \u0644\u0647\u0645 \u0628\u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0627\u0644\u0628."),C(2),O(o.parentViewMode()==="request"?13:14))},dependencies:[Ce],styles:['.portal-container[_ngcontent-%COMP%]{width:100%;max-width:56rem;background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200);transition:all .5s}@media (min-width: 640px){.portal-container[_ngcontent-%COMP%]{padding:2rem}}.portal-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;position:relative}.logout-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-gray-400);transition:color .2s;padding:.5rem;background:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-600)}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:var(--color-blue-600)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.portal-main[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;justify-content:center}.pickup-form[_ngcontent-%COMP%], .person-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.form-fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0;display:flex;flex-direction:column;gap:1.5rem}.form-legend[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-gray-800);margin-bottom:.5rem;border-bottom:2px solid var(--color-blue-200);padding-bottom:.25rem;width:100%}.grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.grid.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 768px){.grid.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}.form-group[_ngcontent-%COMP%]{text-align:right}.form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--color-gray-700);margin-bottom:.25rem}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem;border:1px solid var(--color-gray-300);border-radius:.5rem;transition:border-color .2s,box-shadow .2s;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus, .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-blue-500);box-shadow:0 0 0 3px #3b82f680}.person-selector-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem}@media (min-width: 640px){.person-selector-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 768px){.person-selector-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}.person-card[_ngcontent-%COMP%], .add-person-card[_ngcontent-%COMP%]{position:relative;padding:.5rem;border:1px solid var(--color-gray-200);border-radius:.5rem;text-align:center;transition:all .2s;cursor:pointer;background-color:var(--color-white)}.person-card[_ngcontent-%COMP%]:focus, .add-person-card[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f680}.person-card.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 2px var(--color-white),0 0 0 4px var(--color-blue-500)}.person-photo[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:9999px;margin:0 auto;object-fit:cover;background-color:var(--color-gray-200);box-shadow:0 1px 3px #0000001a,0 1px 2px -1px #0000001a}.person-name[_ngcontent-%COMP%]{display:block;margin-top:.5rem;font-weight:600;font-size:.875rem;color:var(--color-slate-800)}.person-relation[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--color-gray-500)}.selected-icon[_ngcontent-%COMP%]{position:absolute;top:-.25rem;right:-.25rem;background-color:var(--color-blue-500);color:var(--color-white);border-radius:9999px;padding:.125rem}.selected-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.add-person-card[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--color-gray-500)}.add-person-card[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-50);border-color:var(--color-gray-400)}.add-person-card[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.add-person-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-top:.5rem}.eta-buttons[_ngcontent-%COMP%]{display:flex;direction:ltr;gap:.5rem;border-radius:.5rem;background-color:var(--color-gray-100);padding:.25rem}.eta-button[_ngcontent-%COMP%]{width:100%;text-align:center;padding:.5rem 1rem;border-radius:.375rem;transition:all .2s;border:none;background:none;cursor:pointer}.eta-button[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-200)}.eta-button.active[_ngcontent-%COMP%]{background-color:var(--color-blue-600);color:var(--color-white)}.submit-button[_ngcontent-%COMP%], .primary-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-blue-600);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]:hover, .primary-button[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:var(--color-gray-400);cursor:not-allowed}.submit-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.manage-link-container[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.manage-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-blue-600);background:none;border:none;cursor:pointer}.manage-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.status-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:var(--color-gray-600);gap:.75rem}.spinner[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border:4px solid var(--color-blue-200);border-top-color:var(--color-blue-500);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.pickup-complete-view[_ngcontent-%COMP%], .pickup-status-view[_ngcontent-%COMP%]{text-align:center}.student-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-gray-800)}.student-class[_ngcontent-%COMP%]{color:var(--color-gray-500);margin-bottom:1.5rem}.success-message[_ngcontent-%COMP%]{background-color:var(--color-green-100);border:1px solid var(--color-green-200);color:var(--color-green-800);padding:.75rem 1rem;border-radius:.5rem;margin-bottom:1.5rem}.qr-code-container[_ngcontent-%COMP%]{background-color:var(--color-blue-50);border:2px dashed var(--color-blue-200);border-radius:.75rem;padding:1.5rem;max-width:24rem;margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:1rem}.qr-code-instruction[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-blue-700);font-weight:500}.qr-code[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--color-white);border-radius:.5rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}.code-instruction[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-blue-600)}.pickup-code[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;letter-spacing:.1em;color:var(--color-blue-900);text-align:center}.share-container[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;align-items:center;gap:.5rem}.share-button[_ngcontent-%COMP%]{max-width:20rem;width:100%;background-color:var(--color-slate-100);color:var(--color-slate-700);border:1px solid var(--color-slate-300);font-weight:700;padding:.5rem 1rem;border-radius:.5rem;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.share-button[_ngcontent-%COMP%]:hover{background-color:var(--color-slate-200)}.share-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.share-status-message-container[_ngcontent-%COMP%]{height:1.25rem}.share-status-message[_ngcontent-%COMP%]{color:var(--color-green-600);font-size:.875rem;font-weight:500}.gemini-message[_ngcontent-%COMP%]{background-color:var(--color-gray-100);padding:1rem;border-radius:.5rem;text-align:right;font-size:.875rem;color:var(--color-gray-700);font-style:italic;border-right:4px solid var(--color-blue-500);margin:1.5rem 0}.status-stepper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;list-style-type:none;padding:0;margin:2rem 0;position:relative}.status-stepper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:1rem;left:0;right:0;height:4px;background-color:var(--color-gray-200);transform:translateY(-50%);z-index:1}.step[_ngcontent-%COMP%]{position:relative;text-align:center;flex-basis:0;flex-grow:1}.step[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.step[_ngcontent-%COMP%]   .step-icon-wrapper[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:9999px;background-color:var(--color-gray-200);color:var(--color-gray-400);display:flex;align-items:center;justify-content:center;border:4px solid var(--color-white);z-index:2;transition:all .3s ease-in-out}.step[_ngcontent-%COMP%]   .step-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.step[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:var(--color-gray-500);font-weight:500;transition:color .3s;white-space:nowrap}.step.completed[_ngcontent-%COMP%]   .step-icon-wrapper[_ngcontent-%COMP%]{background-color:var(--color-blue-600);color:var(--color-white)}.step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--color-slate-800);font-weight:600}.step.completed[_ngcontent-%COMP%]:after{content:"";position:absolute;top:1rem;left:-50%;right:50%;height:4px;background-color:var(--color-blue-600);transform:translateY(-50%);z-index:1}.step[_ngcontent-%COMP%]:first-child:after{content:none}.error-message[_ngcontent-%COMP%]{color:var(--color-red-500);text-align:center;margin-top:1rem;font-weight:500}.manage-view-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid var(--color-gray-200)}.manage-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-slate-700)}.back-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-blue-600);display:flex;align-items:center;gap:.25rem;background:none;border:none;cursor:pointer}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.back-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.manage-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 768px){.manage-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}.person-form-container[_ngcontent-%COMP%]{background-color:var(--color-gray-50);padding:1.5rem;border-radius:.5rem;border:1px solid var(--color-gray-200)}.person-form-title[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;margin-bottom:1rem;color:var(--color-slate-800)}.person-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.photo-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.photo-preview[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:9999px;object-fit:cover;background-color:var(--color-white);box-shadow:0 1px 2px #0000000d}.photo-placeholder[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:9999px;background-color:var(--color-gray-200);display:flex;align-items:center;justify-content:center;color:var(--color-gray-400)}.photo-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2rem;height:2rem}.photo-input[_ngcontent-%COMP%]::file-selector-button{margin-right:1rem;padding:.5rem 1rem;border-radius:9999px;border:none;font-size:.875rem;font-weight:600;background-color:var(--color-blue-50);color:var(--color-blue-700);cursor:pointer}.photo-input[_ngcontent-%COMP%]::file-selector-button:hover{background-color:var(--color-blue-100)}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding-top:.5rem}.cancel-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-gray-200);color:var(--color-gray-700);font-weight:700;padding:.5rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s}.cancel-button[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-300)}.person-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.person-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background-color:var(--color-white);border:1px solid var(--color-gray-200);border-radius:.5rem;box-shadow:0 1px 2px #0000000d}.person-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.person-list-photo[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:9999px;object-fit:cover;background-color:var(--color-gray-200)}.person-list-name[_ngcontent-%COMP%]{font-weight:700;color:var(--color-slate-800)}.person-list-relation[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-gray-600)}.person-list-id[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-gray-500);font-family:monospace}.person-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (min-width: 640px){.person-actions[_ngcontent-%COMP%]{flex-direction:row}}.action-button[_ngcontent-%COMP%]{padding:.5rem;color:var(--color-gray-500);border-radius:9999px;transition:all .2s;background:none;border:none;cursor:pointer}.action-button[_ngcontent-%COMP%]:hover{color:var(--color-blue-600);background-color:var(--color-gray-100)}.action-button.delete-button[_ngcontent-%COMP%]:hover{color:var(--color-red-600)}.action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.empty-list-message[_ngcontent-%COMP%]{text-align:center;color:var(--color-gray-500);margin-top:1rem}.save-success-message[_ngcontent-%COMP%]{background-color:var(--color-green-100);color:var(--color-green-700);padding:.75rem 1rem;border-radius:.5rem;font-weight:500;text-align:center;margin-bottom:1rem}.confirmation-dialog-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:50}.confirmation-dialog-box[_ngcontent-%COMP%]{background-color:var(--color-white);padding:2rem;border-radius:.75rem;box-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;max-width:28rem;width:90%;text-align:center}.dialog-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-slate-800);margin-bottom:.75rem}.confirmation-dialog-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-gray-600);margin-bottom:1.5rem}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.dialog-cancel-button[_ngcontent-%COMP%], .dialog-confirm-button[_ngcontent-%COMP%]{padding:.5rem 1.5rem;border-radius:.5rem;border:none;cursor:pointer;font-weight:700;transition:background-color .2s}.dialog-cancel-button[_ngcontent-%COMP%]{background-color:var(--color-gray-200);color:var(--color-gray-800)}.dialog-cancel-button[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-300)}.dialog-confirm-button[_ngcontent-%COMP%]{background-color:var(--color-red-600);color:var(--color-white)}.dialog-confirm-button[_ngcontent-%COMP%]:hover{background-color:var(--color-red-700)}'],changeDetection:0});var Gi=Yn;function JT(t,e){t&1&&(g(0,"div",11),A(),g(1,"svg",3),w(2,"path",13),h(),N(),g(3,"h3",14),v(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0627\u0633\u062A\u0644\u0627\u0645 \u062D\u0627\u0644\u064A\u0629"),h(),g(5,"p"),v(6,"\u0633\u064A\u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0647\u0646\u0627 \u0641\u0648\u0631 \u0648\u0635\u0648\u0644\u0647\u0627 \u0645\u0646 \u0623\u0648\u0644\u064A\u0627\u0621 \u0627\u0644\u0623\u0645\u0648\u0631."),h()())}function YT(t,e){t&1&&(g(0,"span",19),v(1,"\u062A\u0645 \u0627\u0644\u0625\u0628\u0644\u0627\u063A"),h())}function ZT(t,e){t&1&&(g(0,"span",20),v(1,"\u062A\u0645 \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645"),h())}function jT(t,e){t&1&&(g(0,"span",21),v(1,"\u062C\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h())}function KT(t,e){t&1&&(g(0,"span",22),v(1,"\u062A\u0645 \u0627\u0644\u062A\u0633\u0644\u064A\u0645"),h())}function QT(t,e){if(t&1&&(g(0,"p",26),v(1),h()),t&2){let n=D(2);C(),xt("",n.pickupState.carColor()||"N/A"," - ",n.pickupState.carPlate()||"N/A")}}function XT(t,e){t&1&&(g(0,"p",27),v(1,"\u0644\u0645 \u062A\u062D\u062F\u062F"),h())}function eS(t,e){if(t&1&&(g(0,"div",29)(1,"p",25),v(2,"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631"),h(),g(3,"p",31),v(4),h()()),t&2){let n=D(2);C(4),G(n.pickupState.notes())}}function tS(t,e){if(t&1){let n=ee();g(0,"div",30)(1,"button",32),b("click",function(){R(n);let r=D(2);return k(r.alertTeacher())}),A(),g(2,"svg",3),w(3,"path",33),h(),v(4," \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645 "),h()()}}function nS(t,e){if(t&1&&(g(0,"div",12)(1,"div",15)(2,"div",16)(3,"h3",17),v(4),h(),g(5,"p",18),v(6),h()(),L(7,YT,2,0,"span",19),L(8,ZT,2,0,"span",20),L(9,jT,2,0,"span",21),L(10,KT,2,0,"span",22),h(),g(11,"div",23)(12,"div",24)(13,"p",25),v(14,"\u0627\u0644\u0645\u0633\u062A\u0644\u0645"),h(),g(15,"p",26),v(16),h()(),g(17,"div",24)(18,"p",25),v(19,"\u0648\u0642\u062A \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0645\u0642\u062F\u0631"),h(),g(20,"p",26),v(21),h()(),g(22,"div",24)(23,"p",25),v(24,"\u0627\u0644\u0645\u0631\u0643\u0628\u0629"),h(),L(25,QT,2,2,"p",26)(26,XT,2,0,"p",27),h(),g(27,"div",24)(28,"p",25),v(29,"\u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),g(30,"p",28),v(31),h()()(),L(32,eS,5,1,"div",29),L(33,tS,5,0,"div",30),h()),t&2){let n,o=D();C(4),G(o.pickupState.studentName()),C(2),G(o.pickupState.studentClass()),C(),O(o.pickupState.status()==="notified"?7:-1),C(),O(o.pickupState.status()==="teacher_alerted"?8:-1),C(),O(o.pickupState.status()==="ready"?9:-1),C(),O(o.pickupState.status()==="picked_up"?10:-1),C(6),xt("",(n=o.pickupState.pickupRequestAuthorizedPerson())==null?null:n.name," (",(n=o.pickupState.pickupRequestAuthorizedPerson())==null?null:n.relation,")"),C(5),fe("",o.pickupState.eta()," \u062F\u0642\u064A\u0642\u0629"),C(4),O(o.pickupState.carColor()||o.pickupState.carPlate()?25:26),C(6),G(o.pickupState.pickupCode()),C(),O(o.pickupState.notes()?32:-1),C(),O(o.pickupState.status()==="notified"?33:-1)}}var Zn=class Zn{constructor(){this.pickupState=P(Me);this.logoutRequest=Te();this.logout=()=>this.logoutRequest.emit()}alertTeacher(){this.pickupState.alertTeacher()}};Zn.\u0275fac=function(n){return new(n||Zn)},Zn.\u0275cmp=ve({type:Zn,selectors:[["app-school-dashboard"]],outputs:{logoutRequest:"logoutRequest"},decls:15,vars:1,consts:[[1,"dashboard-container"],[1,"dashboard-header"],["title","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",1,"logout-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25-2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"],[1,"title"],[1,"subtitle"],[1,"dashboard-main"],[1,"no-requests-view"],[1,"request-details-card"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"no-requests-title"],[1,"card-header"],[1,"student-info"],[1,"student-name"],[1,"student-class"],[1,"status-badge","notified"],[1,"status-badge","teacher-alerted"],[1,"status-badge","ready"],[1,"status-badge","picked-up"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","not-specified"],[1,"detail-value","pickup-code"],[1,"notes-section"],[1,"card-actions"],[1,"notes-value"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"button",2),b("click",function(){return o.logout()}),A(),g(3,"svg",3),w(4,"path",4),h()(),N(),g(5,"div",5),A(),g(6,"svg",6),w(7,"path",7),h(),N(),g(8,"h1",8),v(9,"\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u062F\u0631\u0633\u0629"),h()(),g(10,"p",9),v(11,"\u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u062D\u0627\u0644\u064A\u0629."),h()(),g(12,"main",10),L(13,JT,7,0,"div",11)(14,nS,34,13,"div",12),h()()),n&2&&(C(13),O(o.pickupState.status()==="idle"||o.pickupState.status()==="picked_up"?13:14))},dependencies:[Ce],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;max-width:56rem;background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200)}@media (min-width: 640px){.dashboard-container[_ngcontent-%COMP%]{padding:2rem}}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;position:relative}.logout-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-gray-400);transition:color .2s;padding:.5rem;background:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-600)}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:var(--color-teal-600)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.dashboard-main[_ngcontent-%COMP%]{min-height:400px}.no-requests-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:400px;text-align:center;color:var(--color-gray-500);background-color:var(--color-gray-50);border-radius:.5rem;padding:2rem}.no-requests-view[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-bottom:1rem;color:var(--color-gray-300)}.no-requests-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-gray-700)}.request-details-card[_ngcontent-%COMP%]{background-color:var(--color-slate-800);color:var(--color-white);border-radius:.5rem;padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.student-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.student-class[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-400)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;font-weight:500;border-radius:9999px}.status-badge.notified[_ngcontent-%COMP%]{color:var(--color-yellow-800);background-color:var(--color-yellow-200)}.status-badge.teacher-alerted[_ngcontent-%COMP%]{color:var(--color-orange-800);background-color:var(--color-orange-200)}.status-badge.ready[_ngcontent-%COMP%]{color:var(--color-green-800);background-color:var(--color-green-200)}.status-badge.picked-up[_ngcontent-%COMP%]{color:var(--color-blue-800);background-color:var(--color-blue-200)}.details-grid[_ngcontent-%COMP%]{border-top:1px solid var(--color-slate-600);padding-top:1rem;display:grid;grid-template-columns:1fr;gap:.75rem 1rem}@media (min-width: 640px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-slate-400)}.detail-value[_ngcontent-%COMP%]{font-weight:600}.detail-value.not-specified[_ngcontent-%COMP%]{color:var(--color-slate-500)}.detail-value.pickup-code[_ngcontent-%COMP%]{font-family:monospace;font-size:1.125rem;font-weight:700;color:var(--color-teal-400)}.notes-section[_ngcontent-%COMP%]{border-top:1px solid var(--color-slate-600);padding-top:1rem}.notes-value[_ngcontent-%COMP%]{font-weight:600;white-space:pre-wrap;font-size:.875rem}.card-actions[_ngcontent-%COMP%]{padding-top:1rem}.action-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-blue-600);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.action-button[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700)}.action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"],changeDetection:0});var $i=Zn;function oS(t,e){t&1&&(g(0,"div",11),A(),g(1,"svg",3),w(2,"path",13),h(),N(),g(3,"h3",14),v(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0627\u0633\u062A\u0644\u0627\u0645 \u062D\u0627\u0644\u064A\u0629"),h(),g(5,"p"),v(6,"\u0633\u064A\u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0647\u0646\u0627 \u0641\u0648\u0631 \u0648\u0635\u0648\u0644\u0647\u0627."),h()())}function rS(t,e){t&1&&(g(0,"span",19),v(1,"\u0637\u0644\u0628 \u062C\u062F\u064A\u062F"),h())}function iS(t,e){t&1&&(g(0,"span",20),v(1,"\u062A\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644"),h())}function sS(t,e){if(t&1&&(g(0,"div",25)(1,"p",23),v(2,"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631"),h(),g(3,"p",28),v(4),h()()),t&2){let n=D(2);C(4),G(n.pickupState.notes())}}function aS(t,e){if(t&1){let n=ee();g(0,"div",26)(1,"button",29),b("click",function(){R(n);let r=D(2);return k(r.markAsReady())}),A(),g(2,"svg",3),w(3,"path",30),h(),v(4," \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0627\u0644\u0628 \u0644\u0644\u0628\u0648\u0627\u0628\u0629 "),h()()}}function uS(t,e){t&1&&(g(0,"div",27)(1,"p"),v(2,"\u062A\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0627\u0644\u0628. \u0647\u0648/\u0647\u064A \u0641\u064A \u0637\u0631\u064A\u0642\u0647/\u0647\u0627 \u0625\u0644\u0649 \u0627\u0644\u0628\u0648\u0627\u0628\u0629."),h()())}function lS(t,e){if(t&1&&(g(0,"div",12)(1,"div",15)(2,"div",16)(3,"h3",17),v(4),h(),g(5,"p",18),v(6),h()(),L(7,rS,2,0,"span",19),L(8,iS,2,0,"span",20),h(),g(9,"div",21)(10,"div",22)(11,"p",23),v(12,"\u0627\u0644\u0645\u0633\u062A\u0644\u0645"),h(),g(13,"p",24),v(14),h()(),g(15,"div",22)(16,"p",23),v(17,"\u0648\u0642\u062A \u0627\u0644\u0648\u0635\u0648\u0644 \u0627\u0644\u0645\u0642\u062F\u0631"),h(),g(18,"p",24),v(19),h()()(),L(20,sS,5,1,"div",25),L(21,aS,5,0,"div",26),L(22,uS,3,0,"div",27),h()),t&2){let n,o=D();C(4),G(o.pickupState.studentName()),C(2),G(o.pickupState.studentClass()),C(),O(o.pickupState.status()==="teacher_alerted"?7:-1),C(),O(o.pickupState.status()==="ready"?8:-1),C(6),G((n=o.pickupState.pickupRequestAuthorizedPerson())==null?null:n.name),C(5),fe("",o.pickupState.eta()," \u062F\u0642\u064A\u0642\u0629"),C(),O(o.pickupState.notes()?20:-1),C(),O(o.pickupState.status()==="teacher_alerted"?21:-1),C(),O(o.pickupState.status()==="ready"?22:-1)}}var jn=class jn{constructor(){this.pickupState=P(Me);this.logoutRequest=Te();this.logout=()=>this.logoutRequest.emit()}markAsReady(){this.pickupState.markAsReady()}};jn.\u0275fac=function(n){return new(n||jn)},jn.\u0275cmp=ve({type:jn,selectors:[["app-teacher-dashboard"]],outputs:{logoutRequest:"logoutRequest"},decls:15,vars:1,consts:[[1,"dashboard-container"],[1,"dashboard-header"],["title","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",1,"logout-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25-2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"],[1,"title"],[1,"subtitle"],[1,"dashboard-main"],[1,"no-requests-view"],[1,"request-details-card"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"no-requests-title"],[1,"card-header"],[1,"student-info"],[1,"student-name"],[1,"student-class"],[1,"status-badge","new-request"],[1,"status-badge","sent"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"notes-section"],[1,"card-actions"],[1,"confirmation-message"],[1,"notes-value"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"button",2),b("click",function(){return o.logout()}),A(),g(3,"svg",3),w(4,"path",4),h()(),N(),g(5,"div",5),A(),g(6,"svg",6),w(7,"path",7),h(),N(),g(8,"h1",8),v(9,"\u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u0645\u0639\u0644\u0645"),h()(),g(10,"p",9),v(11,"\u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 \u0648\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0627\u0628 \u0644\u0644\u0628\u0648\u0627\u0628\u0629."),h()(),g(12,"main",10),L(13,oS,7,0,"div",11)(14,lS,23,9,"div",12),h()()),n&2&&(C(13),O(o.pickupState.status()==="idle"||o.pickupState.status()==="picked_up"||o.pickupState.status()==="notified"?13:14))},dependencies:[Ce],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;max-width:56rem;background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200)}@media (min-width: 640px){.dashboard-container[_ngcontent-%COMP%]{padding:2rem}}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;position:relative}.logout-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-gray-400);transition:color .2s;padding:.5rem;background:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-600)}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:var(--color-amber-600)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.dashboard-main[_ngcontent-%COMP%]{min-height:400px}.no-requests-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:400px;text-align:center;color:var(--color-gray-500);background-color:var(--color-gray-50);border-radius:.5rem;padding:2rem}.no-requests-view[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-bottom:1rem;color:var(--color-gray-300)}.no-requests-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-gray-700)}.request-details-card[_ngcontent-%COMP%]{background-color:var(--color-amber-50);border:1px solid var(--color-amber-200);border-radius:.5rem;padding:1.5rem;display:flex;flex-direction:column;gap:1rem;max-width:32rem;margin:0 auto}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.student-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-slate-800)}.student-class[_ngcontent-%COMP%]{color:var(--color-slate-600)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;font-weight:500;border-radius:9999px}.status-badge.new-request[_ngcontent-%COMP%]{color:var(--color-yellow-800);background-color:var(--color-yellow-200)}.status-badge.sent[_ngcontent-%COMP%]{color:var(--color-green-800);background-color:var(--color-green-200)}.details-grid[_ngcontent-%COMP%]{border-top:1px solid var(--color-amber-200);padding-top:1rem;display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 640px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-500)}.detail-value[_ngcontent-%COMP%]{font-weight:700;color:var(--color-slate-700);font-size:1.125rem}.notes-section[_ngcontent-%COMP%]{border-top:1px solid var(--color-amber-200);padding-top:1rem}.notes-value[_ngcontent-%COMP%]{color:var(--color-slate-700);white-space:pre-wrap}.card-actions[_ngcontent-%COMP%]{padding-top:1rem}.action-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-amber-500);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.action-button[_ngcontent-%COMP%]:hover{background-color:var(--color-amber-600)}.action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.confirmation-message[_ngcontent-%COMP%]{padding-top:1rem;text-align:center;background-color:var(--color-green-100);color:var(--color-green-800);padding:.75rem;border-radius:.5rem}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0});var qi=jn;var cS=["guardCodeInput"];function dS(t,e){t&1&&(g(0,"div",12)(1,"div",14),A(),g(2,"svg",15),w(3,"path",16),h(),N(),g(4,"h3",17),v(5,"\u062A\u0645 \u0627\u0644\u062A\u0633\u0644\u064A\u0645 \u0628\u0646\u062C\u0627\u062D!"),h()()())}function fS(t,e){t&1&&(g(0,"div",13)(1,"p"),v(2,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0633\u062A\u0644\u0627\u0645 \u0646\u0634\u0637\u0629 \u062D\u0627\u0644\u064A\u064B\u0627."),h()())}function pS(t,e){if(t&1&&(g(0,"p",22),v(1),h()),t&2){let n=D(3);C(),G(n.verificationError())}}function mS(t,e){if(t&1){let n=ee();g(0,"div",18)(1,"label",20),v(2,"\u0623\u062F\u062E\u0644 \u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645 \u0644\u0644\u062A\u062D\u0642\u0642"),h(),g(3,"input",21,0),b("input",function(r){R(n);let i=D(2);return k(i.onGuardCodeInput(r))}),h(),L(5,pS,2,1,"p",22),g(6,"div",23)(7,"button",24),b("click",function(){R(n);let r=D(2);return k(r.verifyCode())}),v(8,"\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632"),h(),g(9,"button",25),b("click",function(){R(n);let r=D(2);return k(r.simulateScan())}),v(10,"\u0645\u0633\u062D QR (\u0645\u062D\u0627\u0643\u0627\u0629)"),h()()()}if(t&2){let n=D(2);C(3),ie("value",n.guardInputCode()),C(2),O(n.verificationError()?5:-1)}}function gS(t,e){if(t&1){let n=ee();g(0,"div",19)(1,"p",26),A(),g(2,"svg",27),w(3,"path",28),h(),v(4," \u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632 \u0628\u0646\u062C\u0627\u062D! "),h(),N(),g(5,"div",29),w(6,"img",30),g(7,"p",31),v(8),h(),g(9,"p",32),v(10),h(),g(11,"p",33),v(12),h()(),g(13,"div",34)(14,"p",35),v(15,"\u0627\u0644\u0637\u0627\u0644\u0628:"),h(),g(16,"h3",36),v(17),h(),g(18,"p",37),v(19),h()(),g(20,"button",38),b("click",function(){R(n);let r=D(2);return k(r.confirmPickup())}),A(),g(21,"svg",4),w(22,"path",39),h(),v(23," \u062A\u0623\u0643\u064A\u062F \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 "),h()()}if(t&2){let n,o,r,i,s,l,c=D(2);C(6),ie("src",(n=c.pickupState.verifiedPickup())==null?null:n.authorizedPerson.photo,vt),C(2),G((o=c.pickupState.verifiedPickup())==null?null:o.authorizedPerson.name),C(2),G((r=c.pickupState.verifiedPickup())==null?null:r.authorizedPerson.relation),C(2),fe("ID: ",(i=c.pickupState.verifiedPickup())==null?null:i.authorizedPerson.idNumber),C(5),G((s=c.pickupState.verifiedPickup())==null?null:s.studentName),C(2),G((l=c.pickupState.verifiedPickup())==null?null:l.studentClass)}}function hS(t,e){if(t&1&&L(0,mS,11,2,"div",18)(1,gS,24,6,"div",19),t&2){let n=D();O(n.pickupState.verifiedPickup()?1:0)}}var Kn=class Kn{constructor(){this.pickupState=P(Me);this.logoutRequest=Te();this.guardInputCode=W("");this.verificationError=W(null);this.justConfirmedPickup=W(!1);this.logout=()=>this.logoutRequest.emit()}onGuardCodeInput(e){let n=e.target.value;this.guardInputCode.set(n.replace(/[^0-9]/g,"").substring(0,4))}simulateScan(){let e=this.pickupState.pickupCode();e&&(this.guardInputCode.set(e),this.verifyCode())}verifyCode(){if(this.verificationError.set(null),!this.pickupState.verifyCode(this.guardInputCode())&&(this.verificationError.set("\u0627\u0644\u0631\u0645\u0632 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649."),this.guardCodeInput)){let n=this.guardCodeInput.nativeElement;n.classList.add("animate-shake"),setTimeout(()=>n.classList.remove("animate-shake"),600)}}confirmPickup(){this.pickupState.confirmPickup(),this.justConfirmedPickup.set(!0),setTimeout(()=>{this.justConfirmedPickup.set(!1),this.guardInputCode.set(""),this.verificationError.set(null)},3e3)}};Kn.\u0275fac=function(n){return new(n||Kn)},Kn.\u0275cmp=ve({type:Kn,selectors:[["app-guard-view"]],viewQuery:function(n,o){if(n&1&&yu(cS,5),n&2){let r;vu(r=Eu())&&(o.guardCodeInput=r.first)}},outputs:{logoutRequest:"logoutRequest"},decls:16,vars:1,consts:[["guardCodeInput",""],[1,"guard-view-container"],[1,"guard-header"],["title","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",1,"logout-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25-2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Zm0 13.036h.008v.008h-.008v-.008Z"],[1,"title"],[1,"subtitle"],[1,"guard-main"],[1,"confirmation-view"],[1,"no-active-pickup"],[1,"confirmation-content"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"confirmation-title"],[1,"verification-form"],[1,"verified-view"],["for","guardCode",1,"form-label"],["id","guardCode","type","text","inputmode","numeric","pattern","[0-9]*","placeholder","----",1,"code-input",3,"input","value"],[1,"verification-error"],[1,"button-group"],[1,"verify-button",3,"click"],[1,"scan-button",3,"click"],[1,"verified-message"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M10 1a4.5 4.5 0 0 0-4.5 4.5v2.25a2.25 2.25 0 0 0-2.25 2.25v3.75a2.25 2.25 0 0 0 2.25 2.25h9A2.25 2.25 0 0 0 16.75 14V10.25a2.25 2.25 0 0 0-2.25-2.25V5.5A4.5 4.5 0 0 0 10 1Zm3 8.25V5.5a3 3 0 0 0-6 0v3.75a.75.75 0 0 1-1.5 0V5.5a4.5 4.5 0 0 1 9 0v3.75a.75.75 0 0 1-1.5 0Z","clip-rule","evenodd"],[1,"person-details"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0644\u0645",1,"person-photo",3,"src"],[1,"person-name"],[1,"person-relation"],[1,"person-id"],[1,"student-details"],[1,"student-label"],[1,"student-name"],[1,"student-class"],[1,"confirm-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"]],template:function(n,o){n&1&&(g(0,"div",1)(1,"header",2)(2,"button",3),b("click",function(){return o.logout()}),A(),g(3,"svg",4),w(4,"path",5),h()(),N(),g(5,"div",6),A(),g(6,"svg",7),w(7,"path",8),h(),N(),g(8,"h1",9),v(9,"\u0634\u0627\u0634\u0629 \u062D\u0627\u0631\u0633 \u0627\u0644\u0623\u0645\u0646"),h()(),g(10,"p",10),v(11,"\u0644\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0647\u0648\u064A\u0629 \u0627\u0644\u0645\u0633\u062A\u0644\u0645."),h()(),g(12,"main",11),L(13,dS,6,0,"div",12)(14,fS,3,0,"div",13)(15,hS,2,1),h()()),n&2&&(C(13),O(o.justConfirmedPickup()?13:o.pickupState.status()==="idle"||o.pickupState.status()==="picked_up"?14:15))},dependencies:[Ce],styles:[".guard-view-container[_ngcontent-%COMP%]{width:100%;max-width:56rem;background-color:var(--color-slate-900);color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-slate-700)}@media (min-width: 640px){.guard-view-container[_ngcontent-%COMP%]{padding:2rem}}.guard-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;position:relative}.logout-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-gray-400);transition:color .2s;padding:.5rem;background:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-200)}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:var(--color-indigo-400)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-100)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-slate-400)}.guard-main[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;justify-content:center}.confirmation-view[_ngcontent-%COMP%]{text-align:center;background-color:var(--color-slate-800);padding:2rem;border-radius:.5rem}.confirmation-content[_ngcontent-%COMP%]{color:var(--color-green-400);display:flex;flex-direction:column;align-items:center;gap:1rem}.confirmation-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:5rem;height:5rem}.confirmation-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.no-active-pickup[_ngcontent-%COMP%]{text-align:center;color:var(--color-slate-400)}.verification-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;max-width:24rem;margin:0 auto}.form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--color-slate-300);text-align:center}.code-input[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:2.25rem;letter-spacing:1.5rem;padding-left:1.5rem;font-family:monospace;background-color:var(--color-slate-800);border:1px solid var(--color-slate-600);color:var(--color-white);border-radius:.5rem;transition:border-color .2s,box-shadow .2s}.code-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-indigo-500);box-shadow:0 0 0 3px #6366f180}.verification-error[_ngcontent-%COMP%]{color:var(--color-red-400);text-align:center;font-size:.875rem}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding-top:.5rem}@media (min-width: 640px){.button-group[_ngcontent-%COMP%]{flex-direction:row}}.verify-button[_ngcontent-%COMP%], .scan-button[_ngcontent-%COMP%], .confirm-button[_ngcontent-%COMP%]{width:100%;font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s}.verify-button[_ngcontent-%COMP%]{background-color:var(--color-indigo-600);color:var(--color-white)}.verify-button[_ngcontent-%COMP%]:hover{background-color:var(--color-indigo-700)}.scan-button[_ngcontent-%COMP%]{background-color:var(--color-slate-600);color:var(--color-white)}.scan-button[_ngcontent-%COMP%]:hover{background-color:var(--color-slate-700)}.verified-view[_ngcontent-%COMP%]{text-align:center;background-color:var(--color-slate-800);padding:1.5rem;border-radius:.5rem;border:1px solid var(--color-slate-700);max-width:28rem;margin:0 auto}.verified-message[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-green-400);font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem}.verified-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.person-details[_ngcontent-%COMP%]{margin-top:1rem}.person-photo[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:9999px;margin:0 auto;object-fit:cover;border:4px solid var(--color-slate-600);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.person-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-teal-300);margin-top:.5rem}.person-relation[_ngcontent-%COMP%]{color:var(--color-slate-300)}.person-id[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-400);font-family:monospace}.student-details[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid var(--color-slate-700)}.student-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-300)}.student-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:.25rem;color:var(--color-white)}.student-class[_ngcontent-%COMP%]{color:var(--color-slate-400)}.confirm-button[_ngcontent-%COMP%]{margin-top:1.5rem;background-color:var(--color-green-600);color:var(--color-white);display:flex;align-items:center;justify-content:center;gap:.5rem}.confirm-button[_ngcontent-%COMP%]:hover{background-color:var(--color-green-700)}.confirm-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"],changeDetection:0});var zi=Kn;function yS(t,e){t&1&&(g(0,"div",11),A(),g(1,"svg",3),w(2,"path",16),h(),N(),g(3,"h3",17),v(4,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A \u0627\u0633\u062A\u0644\u0627\u0645 \u062D\u0627\u0644\u064A\u0629"),h(),g(5,"p"),v(6,"\u0633\u064A\u062A\u0645 \u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0647\u0646\u0627 \u0641\u0648\u0631 \u0648\u0635\u0648\u0644\u0647\u0627."),h()())}function vS(t,e){if(t&1){let n=ee();g(0,"div",12)(1,"div",18)(2,"strong"),v(3,"\u0627\u0643\u062A\u0645\u0644\u062A \u0627\u0644\u0639\u0645\u0644\u064A\u0629!"),h(),g(4,"span"),v(5," \u062A\u0645 \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 \u0628\u0646\u062C\u0627\u062D."),h()(),g(6,"button",19),b("click",function(){R(n);let r=D();return k(r.resetForNewDay())}),v(7," \u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646 \u0648\u0628\u062F\u0621 \u064A\u0648\u0645 \u062C\u062F\u064A\u062F "),h()()}}function ES(t,e){t&1&&(g(0,"span",26),v(1,"\u062A\u0645 \u0627\u0644\u0625\u0628\u0644\u0627\u063A"),h())}function CS(t,e){t&1&&(g(0,"span",27),v(1,"\u062A\u0645 \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645"),h())}function _S(t,e){t&1&&(g(0,"span",28),v(1,"\u062C\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h())}function IS(t,e){if(t&1&&(g(0,"p",32),v(1),h()),t&2){let n=D(2);C(),xt("",n.pickupState.carColor()||"N/A"," - ",n.pickupState.carPlate()||"N/A")}}function DS(t,e){t&1&&(g(0,"p",33),v(1,"\u0644\u0645 \u062A\u062D\u062F\u062F"),h())}function TS(t,e){if(t&1&&(g(0,"div",35)(1,"p",31),v(2,"\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631"),h(),g(3,"p",41),v(4),h()()),t&2){let n=D(2);C(4),G(n.pickupState.notes())}}function SS(t,e){if(t&1){let n=ee();g(0,"div",36)(1,"button",42),b("click",function(){R(n);let r=D(2);return k(r.pickupState.alertTeacher())}),A(),g(2,"svg",3),w(3,"path",43),h(),v(4," \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645 "),h()()}}function wS(t,e){if(t&1){let n=ee();g(0,"div",39)(1,"p",44),A(),g(2,"svg",45),w(3,"path",46),h(),v(4," \u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0628\u0646\u062C\u0627\u062D! "),h(),N(),g(5,"div",47),w(6,"img",48),g(7,"p",49),v(8),h(),g(9,"p",50),v(10),h(),g(11,"p",51),v(12),h()(),g(13,"div",52)(14,"p",53),v(15,"\u0627\u0644\u0637\u0627\u0644\u0628:"),h(),g(16,"h3",54),v(17),h(),g(18,"p",55),v(19),h()(),g(20,"button",56),b("click",function(){R(n);let r=D(2);return k(r.pickupState.confirmPickup())}),A(),g(21,"svg",3),w(22,"path",57),h(),v(23," \u062A\u0623\u0643\u064A\u062F \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0627\u0644\u0628 "),h()()}if(t&2){let n,o,r,i,s,l,c=D(2);C(6),ie("src",(n=c.pickupState.verifiedPickup())==null?null:n.authorizedPerson.photo,vt),C(2),G((o=c.pickupState.verifiedPickup())==null?null:o.authorizedPerson.name),C(2),G((r=c.pickupState.verifiedPickup())==null?null:r.authorizedPerson.relation),C(2),fe("ID: ",(i=c.pickupState.verifiedPickup())==null?null:i.authorizedPerson.idNumber),C(5),G((s=c.pickupState.verifiedPickup())==null?null:s.studentName),C(2),G((l=c.pickupState.verifiedPickup())==null?null:l.studentClass)}}function MS(t,e){t&1&&(g(0,"p",40),v(1,"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0631\u0645\u0632 \u0628\u0639\u062F."),h())}function AS(t,e){if(t&1&&(g(0,"div",13)(1,"section",20)(2,"h2",21),v(3,"\u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),h(),g(4,"div",22)(5,"div",23)(6,"div")(7,"h3",24),v(8),h(),g(9,"p",25),v(10),h()(),L(11,ES,2,0,"span",26),L(12,CS,2,0,"span",27),L(13,_S,2,0,"span",28),h(),g(14,"div",29)(15,"div",30)(16,"p",31),v(17,"\u0627\u0644\u0645\u0633\u062A\u0644\u0645"),h(),g(18,"p",32),v(19),h()(),g(20,"div",30)(21,"p",31),v(22,"\u0648\u0642\u062A \u0627\u0644\u0648\u0635\u0648\u0644"),h(),g(23,"p",32),v(24),h()(),g(25,"div",30)(26,"p",31),v(27,"\u0627\u0644\u0645\u0631\u0643\u0628\u0629"),h(),L(28,IS,2,2,"p",32)(29,DS,2,0,"p",33),h(),g(30,"div",30)(31,"p",31),v(32,"\u0631\u0645\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),g(33,"p",34),v(34),h()()(),L(35,TS,5,1,"div",35),L(36,SS,5,0,"div",36),h()(),g(37,"section",20)(38,"h2",37),v(39,"\u0627\u0644\u062A\u062D\u0642\u0642 \u0648\u0627\u0644\u0623\u0645\u0627\u0646"),h(),g(40,"div",38),L(41,wS,24,6,"div",39)(42,MS,2,0,"p",40),h()()()),t&2){let n,o=D();C(8),G(o.pickupState.studentName()),C(2),G(o.pickupState.studentClass()),C(),O(o.pickupState.status()==="notified"?11:-1),C(),O(o.pickupState.status()==="teacher_alerted"?12:-1),C(),O(o.pickupState.status()==="ready"?13:-1),C(6),xt("",(n=o.pickupState.pickupRequestAuthorizedPerson())==null?null:n.name," (",(n=o.pickupState.pickupRequestAuthorizedPerson())==null?null:n.relation,")"),C(5),fe("",o.pickupState.eta()," \u062F\u0642\u064A\u0642\u0629"),C(4),O(o.pickupState.carColor()||o.pickupState.carPlate()?28:29),C(6),G(o.pickupState.pickupCode()),C(),O(o.pickupState.notes()?35:-1),C(),O(o.pickupState.status()==="notified"?36:-1),C(5),O(o.pickupState.verifiedPickup()?41:42)}}var Qn=class Qn{constructor(){this.pickupState=P(Me);this.logoutRequest=Te();this.changeView=Te();this.logout=()=>this.logoutRequest.emit()}selectView(e){this.changeView.emit(e)}resetForNewDay(){this.pickupState.resetPickupState(),this.logout()}};Qn.\u0275fac=function(n){return new(n||Qn)},Qn.\u0275cmp=ve({type:Qn,selectors:[["app-admin-dashboard"]],outputs:{logoutRequest:"logoutRequest",changeView:"changeView"},decls:21,vars:3,consts:[[1,"dashboard-container"],[1,"dashboard-header"],["title","\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",1,"logout-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25-2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"title-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"title-icon"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"],[1,"title"],[1,"subtitle"],[1,"dashboard-main"],[1,"no-requests-view"],[1,"pickup-complete-view"],[1,"main-grid"],[1,"manage-roles-section"],[1,"manage-roles-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"no-requests-title"],[1,"success-message"],[1,"reset-button",3,"click"],[1,"grid-section"],[1,"section-title","school-title"],[1,"school-card"],[1,"card-header"],[1,"student-name"],[1,"student-class"],[1,"status-badge","notified"],[1,"status-badge","teacher-alerted"],[1,"status-badge","ready"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","not-specified"],[1,"detail-value","pickup-code"],[1,"notes-section"],[1,"card-actions"],[1,"section-title","guard-title"],[1,"guard-card"],[1,"verified-view"],[1,"not-verified-message"],[1,"notes-value"],[1,"action-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"],[1,"verified-message"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M10 1a4.5 4.5 0 0 0-4.5 4.5v2.25a2.25 2.25 0 0 0-2.25 2.25v3.75a2.25 2.25 0 0 0 2.25 2.25h9A2.25 2.25 0 0 0 16.75 14V10.25a2.25 2.25 0 0 0-2.25-2.25V5.5A4.5 4.5 0 0 0 10 1Zm3 8.25V5.5a3 3 0 0 0-6 0v3.75a.75.75 0 0 1-1.5 0V5.5a4.5 4.5 0 0 1 9 0v3.75a.75.75 0 0 1-1.5 0Z","clip-rule","evenodd"],[1,"person-details"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0644\u0645",1,"person-photo",3,"src"],[1,"person-name"],[1,"person-relation"],[1,"person-id"],[1,"student-details"],[1,"student-label"],[1,"verified-student-name"],[1,"verified-student-class"],[1,"confirm-button",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"button",2),b("click",function(){return o.logout()}),A(),g(3,"svg",3),w(4,"path",4),h()(),N(),g(5,"div",5),A(),g(6,"svg",6),w(7,"path",7),h(),N(),g(8,"h1",8),v(9,"\u0644\u0648\u062D\u0629 \u062A\u062D\u0643\u0645 \u0627\u0644\u0645\u062F\u064A\u0631"),h()(),g(10,"p",9),v(11,"\u0625\u062F\u0627\u0631\u0629 \u0645\u062A\u0643\u0627\u0645\u0644\u0629 \u0644\u0639\u0645\u0644\u064A\u0627\u062A \u0627\u0633\u062A\u0644\u0627\u0645 \u0627\u0644\u0637\u0644\u0627\u0628."),h()(),g(12,"main",10),L(13,yS,7,0,"div",11),L(14,vS,8,0,"div",12),L(15,AS,43,13,"div",13),g(16,"div",14)(17,"button",15),b("click",function(){return o.selectView("role_management")}),A(),g(18,"svg",3),w(19,"path",7),h(),v(20," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A "),h()()()()),n&2&&(C(13),O(o.pickupState.status()==="idle"?13:-1),C(),O(o.pickupState.status()==="picked_up"?14:-1),C(),O(o.pickupState.status()!=="idle"&&o.pickupState.status()!=="picked_up"?15:-1))},dependencies:[Ce],styles:[".dashboard-container[_ngcontent-%COMP%]{background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200)}@media (min-width: 640px){.dashboard-container[_ngcontent-%COMP%]{padding:2rem}}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;position:relative}.logout-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;color:var(--color-gray-400);transition:color .2s;padding:.5rem;background:none;border:none;cursor:pointer}.logout-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-600)}.logout-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.title-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:.75rem;margin-bottom:.5rem}.title-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;color:var(--color-purple-600)}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.dashboard-main[_ngcontent-%COMP%]{min-height:400px}.no-requests-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:400px;text-align:center;color:var(--color-gray-500);background-color:var(--color-gray-50);border-radius:.5rem;padding:2rem}.no-requests-view[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:4rem;height:4rem;margin-bottom:1rem;color:var(--color-gray-300)}.no-requests-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-gray-700)}.pickup-complete-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:400px;text-align:center}.success-message[_ngcontent-%COMP%]{background-color:var(--color-green-100);border:1px solid var(--color-green-200);color:var(--color-green-800);padding:.75rem 1rem;border-radius:.5rem;margin-bottom:1.5rem;max-width:28rem}.reset-button[_ngcontent-%COMP%]{background-color:var(--color-gray-600);color:var(--color-white);font-weight:700;padding:.5rem 1.5rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s}.reset-button[_ngcontent-%COMP%]:hover{background-color:var(--color-gray-700)}.main-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 768px){.main-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.grid-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-slate-800);padding-bottom:.5rem;border-bottom-width:2px}.school-title[_ngcontent-%COMP%]{border-color:var(--color-teal-300)}.guard-title[_ngcontent-%COMP%]{border-color:var(--color-indigo-300)}.school-card[_ngcontent-%COMP%]{background-color:var(--color-slate-800);color:var(--color-white);border-radius:.5rem;padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.student-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.student-class[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-400)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:.75rem;font-weight:500;border-radius:9999px}.status-badge.notified[_ngcontent-%COMP%]{color:var(--color-yellow-800);background-color:var(--color-yellow-200)}.status-badge.teacher-alerted[_ngcontent-%COMP%]{color:var(--color-orange-800);background-color:var(--color-orange-200)}.status-badge.ready[_ngcontent-%COMP%]{color:var(--color-green-800);background-color:var(--color-green-200)}.details-grid[_ngcontent-%COMP%]{border-top:1px solid var(--color-slate-600);padding-top:1rem;display:grid;grid-template-columns:1fr;gap:.75rem 1rem}@media (min-width: 640px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.detail-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-slate-400)}.detail-value[_ngcontent-%COMP%]{font-weight:600}.detail-value.not-specified[_ngcontent-%COMP%]{color:var(--color-slate-500)}.pickup-code[_ngcontent-%COMP%]{font-family:monospace;font-size:1.125rem;font-weight:700;color:var(--color-teal-400)}.notes-section[_ngcontent-%COMP%]{border-top:1px solid var(--color-slate-600);padding-top:1rem}.notes-value[_ngcontent-%COMP%]{font-weight:600;white-space:pre-wrap;font-size:.875rem}.card-actions[_ngcontent-%COMP%]{padding-top:1rem}.action-button[_ngcontent-%COMP%]{width:100%;background-color:var(--color-blue-600);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.action-button[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700)}.action-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.guard-card[_ngcontent-%COMP%]{background-color:var(--color-slate-900);color:var(--color-white);border-radius:.5rem;padding:1.5rem;min-height:100%;display:flex;flex-direction:column;justify-content:center}.verified-view[_ngcontent-%COMP%]{text-align:center;background-color:var(--color-slate-800);padding:1.5rem;border-radius:.5rem;border:1px solid var(--color-slate-700);max-width:28rem;margin:0 auto}.verified-message[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-green-400);font-weight:600;display:flex;align-items:center;justify-content:center;gap:.5rem}.verified-message[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.person-details[_ngcontent-%COMP%]{margin-top:1rem}.person-photo[_ngcontent-%COMP%]{width:8rem;height:8rem;border-radius:9999px;margin:0 auto;object-fit:cover;border:4px solid var(--color-slate-600);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}.person-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-teal-300);margin-top:.5rem}.person-relation[_ngcontent-%COMP%]{color:var(--color-slate-300)}.person-id[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-400);font-family:monospace}.student-details[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1rem;border-top:1px solid var(--color-slate-700)}.student-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-slate-300)}.verified-student-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:.25rem;color:var(--color-white)}.verified-student-class[_ngcontent-%COMP%]{color:var(--color-slate-400)}.confirm-button[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;background-color:var(--color-green-600);color:var(--color-white);font-weight:700;padding:.75rem 1rem;border-radius:.5rem;border:none;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center;gap:.5rem}.confirm-button[_ngcontent-%COMP%]:hover{background-color:var(--color-green-700)}.confirm-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.not-verified-message[_ngcontent-%COMP%]{text-align:center;color:var(--color-slate-400)}.manage-roles-section[_ngcontent-%COMP%]{margin-top:2rem;text-align:center;border-top:1px solid var(--color-gray-200);padding-top:1.5rem}.manage-roles-button[_ngcontent-%COMP%]{background-color:var(--color-purple-100);color:var(--color-purple-800);font-weight:700;padding:.75rem 1.5rem;border-radius:.5rem;border:1px solid var(--color-purple-300);cursor:pointer;transition:background-color .3s;display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.manage-roles-button[_ngcontent-%COMP%]:hover{background-color:var(--color-purple-200)}.manage-roles-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}"],changeDetection:0});var Wi=Qn;var Xn=class Xn{constructor(){this.changeView=Te()}selectView(e){this.changeView.emit(e)}};Xn.\u0275fac=function(n){return new(n||Xn)},Xn.\u0275cmp=ve({type:Xn,selectors:[["app-role-management"]],outputs:{changeView:"changeView"},decls:95,vars:0,consts:[[1,"container"],[1,"header"],["title","\u0627\u0644\u0639\u0648\u062F\u0629 \u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645",1,"back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"title"],[1,"subtitle"],[1,"main-content"],[1,"roles-grid"],[1,"role-card","admin"],[1,"role-title"],[1,"permissions-list"],[1,"permission-item","allowed"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"role-card","school"],[1,"permission-item","denied"],["stroke-linecap","round","stroke-linejoin","round","d","m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"role-card","teacher"],[1,"role-card","guard"],[1,"role-card","parent"]],template:function(n,o){n&1&&(g(0,"div",0)(1,"header",1)(2,"button",2),b("click",function(){return o.selectView("admin")}),A(),g(3,"svg",3),w(4,"path",4),h()(),N(),g(5,"h1",5),v(6,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"),h(),g(7,"p",6),v(8,"\u0639\u0631\u0636 \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0627\u0644\u0645\u0645\u0646\u0648\u062D\u0629 \u0644\u0643\u0644 \u062F\u0648\u0631 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645."),h()(),g(9,"main",7)(10,"div",8)(11,"div",9)(12,"h3",10),v(13,"\u0645\u062F\u064A\u0631 \u0627\u0644\u0646\u0638\u0627\u0645"),h(),g(14,"ul",11)(15,"li",12),A(),g(16,"svg",13),w(17,"path",14),h(),v(18," \u0645\u062A\u0627\u0628\u0639\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),h(),N(),g(19,"li",12),A(),g(20,"svg",13),w(21,"path",14),h(),v(22," \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0631\u0645\u0648\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),N(),g(23,"li",12),A(),g(24,"svg",13),w(25,"path",14),h(),v(26," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"),h()()(),N(),g(27,"div",15)(28,"h3",10),v(29,"\u0627\u0644\u0645\u062F\u0631\u0633\u0629"),h(),g(30,"ul",11)(31,"li",12),A(),g(32,"svg",13),w(33,"path",14),h(),v(34," \u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),N(),g(35,"li",12),A(),g(36,"svg",13),w(37,"path",14),h(),v(38," \u0625\u0628\u0644\u0627\u063A \u0627\u0644\u0645\u0639\u0644\u0645\u064A\u0646"),h(),N(),g(39,"li",16),A(),g(40,"svg",13),w(41,"path",17),h(),v(42," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u062F\u0648\u0627\u0631 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A"),h()()(),N(),g(43,"div",18)(44,"h3",10),v(45,"\u0627\u0644\u0645\u0639\u0644\u0645"),h(),g(46,"ul",11)(47,"li",12),A(),g(48,"svg",13),w(49,"path",14),h(),v(50," \u0627\u0633\u062A\u0644\u0627\u0645 \u0625\u0634\u0639\u0627\u0631\u0627\u062A \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),h(),N(),g(51,"li",12),A(),g(52,"svg",13),w(53,"path",14),h(),v(54," \u062A\u0623\u0643\u064A\u062F \u062C\u0627\u0647\u0632\u064A\u0629 \u0627\u0644\u0637\u0627\u0644\u0628"),h(),N(),g(55,"li",16),A(),g(56,"svg",13),w(57,"path",17),h(),v(58," \u0645\u062A\u0627\u0628\u0639\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),h()()(),N(),g(59,"div",19)(60,"h3",10),v(61,"\u062D\u0627\u0631\u0633 \u0627\u0644\u0623\u0645\u0646"),h(),g(62,"ul",11)(63,"li",12),A(),g(64,"svg",13),w(65,"path",14),h(),v(66," \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0631\u0645\u0648\u0632 \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h(),N(),g(67,"li",12),A(),g(68,"svg",13),w(69,"path",14),h(),v(70," \u062A\u0623\u0643\u064A\u062F \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0627\u0644\u0628"),h(),N(),g(71,"li",16),A(),g(72,"svg",13),w(73,"path",17),h(),v(74," \u0645\u062A\u0627\u0628\u0639\u0629 \u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0627\u0633\u062A\u0644\u0627\u0645"),h()()(),N(),g(75,"div",20)(76,"h3",10),v(77,"\u0648\u0644\u064A \u0627\u0644\u0623\u0645\u0631"),h(),g(78,"ul",11)(79,"li",12),A(),g(80,"svg",13),w(81,"path",14),h(),v(82," \u0625\u0631\u0633\u0627\u0644 \u0637\u0644\u0628 \u0627\u0633\u062A\u0644\u0627\u0645"),h(),N(),g(83,"li",12),A(),g(84,"svg",13),w(85,"path",14),h(),v(86," \u0645\u062A\u0627\u0628\u0639\u0629 \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"),h(),N(),g(87,"li",12),A(),g(88,"svg",13),w(89,"path",14),h(),v(90," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0623\u0634\u062E\u0627\u0635 \u0627\u0644\u0645\u0635\u0631\u062D \u0644\u0647\u0645"),h(),N(),g(91,"li",16),A(),g(92,"svg",13),w(93,"path",17),h(),v(94," \u0645\u0634\u0627\u0647\u062F\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),h()()()()()())},dependencies:[Ce],styles:[".container[_ngcontent-%COMP%]{width:100%;max-width:56rem;background-color:var(--color-white);border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;padding:1.5rem;border:1px solid var(--color-gray-200)}@media (min-width: 640px){.container[_ngcontent-%COMP%]{padding:2rem}}.header[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;position:relative}.back-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;color:var(--color-gray-400);transition:color .2s;background:none;border:none;cursor:pointer}.back-button[_ngcontent-%COMP%]:hover{color:var(--color-gray-600)}.back-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2rem;height:2rem}.title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--color-slate-800)}@media (min-width: 640px){.title[_ngcontent-%COMP%]{font-size:2.25rem}}.subtitle[_ngcontent-%COMP%]{color:var(--color-gray-500)}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.roles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}@media (min-width: 768px){.roles-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.role-card[_ngcontent-%COMP%]{padding:1rem;border-width:1px;border-style:solid;border-radius:.5rem}.role-card.admin[_ngcontent-%COMP%]{border-color:var(--color-purple-200);background-color:var(--color-purple-50)}.role-card.school[_ngcontent-%COMP%]{border-color:var(--color-teal-200);background-color:var(--color-teal-50)}.role-card.teacher[_ngcontent-%COMP%]{border-color:var(--color-amber-200);background-color:var(--color-amber-50)}.role-card.guard[_ngcontent-%COMP%]{border-color:var(--color-slate-200);background-color:var(--color-slate-50)}.role-card.parent[_ngcontent-%COMP%]{border-color:var(--color-blue-200);background-color:var(--color-blue-50);grid-column:1 / -1}.role-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.role-card.admin[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{color:var(--color-purple-700)}.role-card.school[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{color:var(--color-teal-700)}.role-card.teacher[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{color:var(--color-amber-700)}.role-card.guard[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{color:var(--color-slate-700)}.role-card.parent[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{color:var(--color-blue-700)}.permissions-list[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;flex-direction:column;gap:.5rem;padding:0;list-style:none;color:var(--color-gray-700)}.permission-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.permission-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}.permission-item.allowed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-green-500)}.permission-item.denied[_ngcontent-%COMP%]{color:var(--color-gray-400)}.permission-item.denied[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-gray-400)}"],changeDetection:0});var Ji=Xn;function xS(t,e){if(t&1){let n=ee();Ye(0,"app-login",2),ut("login",function(r){R(n);let i=D();return k(i.handleLogin(r))}),Ze()}if(t&2){let n=D();mi("error",n.loginError())}}function NS(t,e){if(t&1){let n=ee();Ye(0,"app-parent-portal",3),ut("logoutRequest",function(){R(n);let r=D();return k(r.logout())}),Ze()}}function bS(t,e){if(t&1){let n=ee();Ye(0,"app-school-dashboard",3),ut("logoutRequest",function(){R(n);let r=D();return k(r.logout())}),Ze()}}function PS(t,e){if(t&1){let n=ee();Ye(0,"app-teacher-dashboard",3),ut("logoutRequest",function(){R(n);let r=D();return k(r.logout())}),Ze()}}function RS(t,e){if(t&1){let n=ee();Ye(0,"app-guard-view",3),ut("logoutRequest",function(){R(n);let r=D();return k(r.logout())}),Ze()}}function kS(t,e){if(t&1){let n=ee();Ye(0,"app-admin-dashboard",4),ut("logoutRequest",function(){R(n);let r=D();return k(r.logout())})("changeView",function(r){R(n);let i=D();return k(i.selectView(r))}),Ze()}}function FS(t,e){if(t&1){let n=ee();Ye(0,"app-role-management",5),ut("changeView",function(r){R(n);let i=D();return k(i.selectView(r))}),Ze()}}var eo=class eo{constructor(){this.pickupStateService=P(Me);this.currentView=W("login");this.loginError=W(null);this.users=new Map([["\u0648\u0644\u064A",{password:"123",role:"parent"}],["parent",{password:"123",role:"parent"}],["\u0645\u062F\u0631\u0633\u0629",{password:"123",role:"school"}],["school",{password:"123",role:"school"}],["\u0645\u0639\u0644\u0645",{password:"123",role:"teacher"}],["teacher",{password:"123",role:"teacher"}],["\u062D\u0627\u0631\u0633",{password:"123",role:"guard"}],["guard",{password:"123",role:"guard"}],["\u0645\u062F\u064A\u0631",{password:"123",role:"admin"}],["admin",{password:"123",role:"admin"}]]);this.handleLogin=e=>{this.loginError.set(null);let n=e.username.trim().toLowerCase(),o=this.users.get(n);o&&o.password===e.password?this.currentView.set(o.role):this.loginError.set("\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629.")}}selectView(e){this.currentView.set(e)}logout(){this.loginError.set(null),this.currentView.set("login")}};eo.\u0275fac=function(n){return new(n||eo)},eo.\u0275cmp=ve({type:eo,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"main-container"],[3,"error"],[3,"login","error"],[3,"logoutRequest"],[3,"logoutRequest","changeView"],[3,"changeView"]],template:function(n,o){if(n&1&&(Ye(0,"div",0),L(1,xS,1,1,"app-login",1)(2,NS,1,0,"app-parent-portal")(3,bS,1,0,"app-school-dashboard")(4,PS,1,0,"app-teacher-dashboard")(5,RS,1,0,"app-guard-view")(6,kS,1,0,"app-admin-dashboard")(7,FS,1,0,"app-role-management"),Ze()),n&2){let r;C(),O((r=o.currentView())==="login"?1:r==="parent"?2:r==="school"?3:r==="teacher"?4:r==="guard"?5:r==="admin"?6:r==="role_management"?7:-1)}},dependencies:[Ce,Bi,Gi,$i,qi,zi,Wi,Ji],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:1rem;background-color:var(--color-gray-100);font-family:sans-serif}.main-container[_ngcontent-%COMP%]{width:100%;max-width:72rem;margin-left:auto;margin-right:auto}.main-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2rem}"],changeDetection:0});var Yi=eo;Lu(Yi,{providers:[_u()]}).catch(t=>console.error(t));
